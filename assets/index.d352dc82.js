var We=Object.defineProperty;var He=(bt,X,st)=>X in bt?We(bt,X,{enumerable:!0,configurable:!0,writable:!0,value:st}):bt[X]=st;var Ie=(bt,X,st)=>(He(bt,typeof X!="symbol"?X+"":X,st),st),Be=(bt,X,st)=>{if(!X.has(bt))throw TypeError("Cannot "+st)};var de=(bt,X,st)=>(Be(bt,X,"read from private field"),st?st.call(bt):X.get(bt)),Se=(bt,X,st)=>{if(X.has(bt))throw TypeError("Cannot add the same private member more than once");X instanceof WeakSet?X.add(bt):X.set(bt,st)},Ce=(bt,X,st,W)=>(Be(bt,X,"write to private field"),W?W.call(bt,st):X.set(bt,st),st),$e=(bt,X,st,W)=>({set _(Tt){Ce(bt,X,Tt,st)},get _(){return de(bt,X,W)}}),Fe=(bt,X,st)=>(Be(bt,X,"access private method"),st);const p$1=function(){const X=document.createElement("link").relList;if(X&&X.supports&&X.supports("modulepreload"))return;for(const Tt of document.querySelectorAll('link[rel="modulepreload"]'))W(Tt);new MutationObserver(Tt=>{for(const lt of Tt)if(lt.type==="childList")for(const pt of lt.addedNodes)pt.tagName==="LINK"&&pt.rel==="modulepreload"&&W(pt)}).observe(document,{childList:!0,subtree:!0});function st(Tt){const lt={};return Tt.integrity&&(lt.integrity=Tt.integrity),Tt.referrerpolicy&&(lt.referrerPolicy=Tt.referrerpolicy),Tt.crossorigin==="use-credentials"?lt.credentials="include":Tt.crossorigin==="anonymous"?lt.credentials="omit":lt.credentials="same-origin",lt}function W(Tt){if(Tt.ep)return;Tt.ep=!0;const lt=st(Tt);fetch(Tt.href,lt)}};p$1();var n,l$1,u$1,t$1,o$2,r$1,f$1,e$2={},c$1=[],s$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a$1(bt,X){for(var st in X)bt[st]=X[st];return bt}function h(bt){var X=bt.parentNode;X&&X.removeChild(bt)}function v$1(bt,X,st){var W,Tt,lt,pt={};for(lt in X)lt=="key"?W=X[lt]:lt=="ref"?Tt=X[lt]:pt[lt]=X[lt];if(arguments.length>2&&(pt.children=arguments.length>3?n.call(arguments,2):st),typeof bt=="function"&&bt.defaultProps!=null)for(lt in bt.defaultProps)pt[lt]===void 0&&(pt[lt]=bt.defaultProps[lt]);return y$1(bt,pt,W,Tt,null)}function y$1(bt,X,st,W,Tt){var lt={type:bt,props:X,key:st,ref:W,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Tt==null?++u$1:Tt};return Tt==null&&l$1.vnode!=null&&l$1.vnode(lt),lt}function d$1(bt){return bt.children}function _$1(bt,X){this.props=bt,this.context=X}function k$1(bt,X){if(X==null)return bt.__?k$1(bt.__,bt.__.__k.indexOf(bt)+1):null;for(var st;X<bt.__k.length;X++)if((st=bt.__k[X])!=null&&st.__e!=null)return st.__e;return typeof bt.type=="function"?k$1(bt):null}function b$1(bt){var X,st;if((bt=bt.__)!=null&&bt.__c!=null){for(bt.__e=bt.__c.base=null,X=0;X<bt.__k.length;X++)if((st=bt.__k[X])!=null&&st.__e!=null){bt.__e=bt.__c.base=st.__e;break}return b$1(bt)}}function m$1(bt){(!bt.__d&&(bt.__d=!0)&&t$1.push(bt)&&!g$1.__r++||r$1!==l$1.debounceRendering)&&((r$1=l$1.debounceRendering)||o$2)(g$1)}function g$1(){for(var bt;g$1.__r=t$1.length;)bt=t$1.sort(function(X,st){return X.__v.__b-st.__v.__b}),t$1=[],bt.some(function(X){var st,W,Tt,lt,pt,ut;X.__d&&(pt=(lt=(st=X).__v).__e,(ut=st.__P)&&(W=[],(Tt=a$1({},lt)).__v=lt.__v+1,j$2(ut,lt,Tt,st.__n,ut.ownerSVGElement!==void 0,lt.__h!=null?[pt]:null,W,pt==null?k$1(lt):pt,lt.__h),z$1(W,lt),lt.__e!=pt&&b$1(lt)))})}function w$2(bt,X,st,W,Tt,lt,pt,ut,gt,ct){var at,At,yt,et,G,tt,nt,rt=W&&W.__k||c$1,mt=rt.length;for(st.__k=[],at=0;at<X.length;at++)if((et=st.__k[at]=(et=X[at])==null||typeof et=="boolean"?null:typeof et=="string"||typeof et=="number"||typeof et=="bigint"?y$1(null,et,null,null,et):Array.isArray(et)?y$1(d$1,{children:et},null,null,null):et.__b>0?y$1(et.type,et.props,et.key,null,et.__v):et)!=null){if(et.__=st,et.__b=st.__b+1,(yt=rt[at])===null||yt&&et.key==yt.key&&et.type===yt.type)rt[at]=void 0;else for(At=0;At<mt;At++){if((yt=rt[At])&&et.key==yt.key&&et.type===yt.type){rt[At]=void 0;break}yt=null}j$2(bt,et,yt=yt||e$2,Tt,lt,pt,ut,gt,ct),G=et.__e,(At=et.ref)&&yt.ref!=At&&(nt||(nt=[]),yt.ref&&nt.push(yt.ref,null,et),nt.push(At,et.__c||G,et)),G!=null?(tt==null&&(tt=G),typeof et.type=="function"&&et.__k===yt.__k?et.__d=gt=x(et,gt,bt):gt=P$1(bt,et,yt,rt,G,gt),typeof st.type=="function"&&(st.__d=gt)):gt&&yt.__e==gt&&gt.parentNode!=bt&&(gt=k$1(yt))}for(st.__e=tt,at=mt;at--;)rt[at]!=null&&(typeof st.type=="function"&&rt[at].__e!=null&&rt[at].__e==st.__d&&(st.__d=k$1(W,at+1)),N(rt[at],rt[at]));if(nt)for(at=0;at<nt.length;at++)M$1(nt[at],nt[++at],nt[++at])}function x(bt,X,st){for(var W,Tt=bt.__k,lt=0;Tt&&lt<Tt.length;lt++)(W=Tt[lt])&&(W.__=bt,X=typeof W.type=="function"?x(W,X,st):P$1(st,W,W,Tt,W.__e,X));return X}function A$1(bt,X){return X=X||[],bt==null||typeof bt=="boolean"||(Array.isArray(bt)?bt.some(function(st){A$1(st,X)}):X.push(bt)),X}function P$1(bt,X,st,W,Tt,lt){var pt,ut,gt;if(X.__d!==void 0)pt=X.__d,X.__d=void 0;else if(st==null||Tt!=lt||Tt.parentNode==null)t:if(lt==null||lt.parentNode!==bt)bt.appendChild(Tt),pt=null;else{for(ut=lt,gt=0;(ut=ut.nextSibling)&&gt<W.length;gt+=2)if(ut==Tt)break t;bt.insertBefore(Tt,lt),pt=lt}return pt!==void 0?pt:Tt.nextSibling}function C$1(bt,X,st,W,Tt){var lt;for(lt in st)lt==="children"||lt==="key"||lt in X||H$1(bt,lt,null,st[lt],W);for(lt in X)Tt&&typeof X[lt]!="function"||lt==="children"||lt==="key"||lt==="value"||lt==="checked"||st[lt]===X[lt]||H$1(bt,lt,X[lt],st[lt],W)}function $$1(bt,X,st){X[0]==="-"?bt.setProperty(X,st):bt[X]=st==null?"":typeof st!="number"||s$1.test(X)?st:st+"px"}function H$1(bt,X,st,W,Tt){var lt;t:if(X==="style")if(typeof st=="string")bt.style.cssText=st;else{if(typeof W=="string"&&(bt.style.cssText=W=""),W)for(X in W)st&&X in st||$$1(bt.style,X,"");if(st)for(X in st)W&&st[X]===W[X]||$$1(bt.style,X,st[X])}else if(X[0]==="o"&&X[1]==="n")lt=X!==(X=X.replace(/Capture$/,"")),X=X.toLowerCase()in bt?X.toLowerCase().slice(2):X.slice(2),bt.l||(bt.l={}),bt.l[X+lt]=st,st?W||bt.addEventListener(X,lt?T$2:I,lt):bt.removeEventListener(X,lt?T$2:I,lt);else if(X!=="dangerouslySetInnerHTML"){if(Tt)X=X.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(X!=="href"&&X!=="list"&&X!=="form"&&X!=="tabIndex"&&X!=="download"&&X in bt)try{bt[X]=st==null?"":st;break t}catch{}typeof st=="function"||(st!=null&&(st!==!1||X[0]==="a"&&X[1]==="r")?bt.setAttribute(X,st):bt.removeAttribute(X))}}function I(bt){this.l[bt.type+!1](l$1.event?l$1.event(bt):bt)}function T$2(bt){this.l[bt.type+!0](l$1.event?l$1.event(bt):bt)}function j$2(bt,X,st,W,Tt,lt,pt,ut,gt){var ct,at,At,yt,et,G,tt,nt,rt,mt,dt,Et,Ct,It=X.type;if(X.constructor!==void 0)return null;st.__h!=null&&(gt=st.__h,ut=X.__e=st.__e,X.__h=null,lt=[ut]),(ct=l$1.__b)&&ct(X);try{t:if(typeof It=="function"){if(nt=X.props,rt=(ct=It.contextType)&&W[ct.__c],mt=ct?rt?rt.props.value:ct.__:W,st.__c?tt=(at=X.__c=st.__c).__=at.__E:("prototype"in It&&It.prototype.render?X.__c=at=new It(nt,mt):(X.__c=at=new _$1(nt,mt),at.constructor=It,at.render=O$1),rt&&rt.sub(at),at.props=nt,at.state||(at.state={}),at.context=mt,at.__n=W,At=at.__d=!0,at.__h=[]),at.__s==null&&(at.__s=at.state),It.getDerivedStateFromProps!=null&&(at.__s==at.state&&(at.__s=a$1({},at.__s)),a$1(at.__s,It.getDerivedStateFromProps(nt,at.__s))),yt=at.props,et=at.state,At)It.getDerivedStateFromProps==null&&at.componentWillMount!=null&&at.componentWillMount(),at.componentDidMount!=null&&at.__h.push(at.componentDidMount);else{if(It.getDerivedStateFromProps==null&&nt!==yt&&at.componentWillReceiveProps!=null&&at.componentWillReceiveProps(nt,mt),!at.__e&&at.shouldComponentUpdate!=null&&at.shouldComponentUpdate(nt,at.__s,mt)===!1||X.__v===st.__v){at.props=nt,at.state=at.__s,X.__v!==st.__v&&(at.__d=!1),at.__v=X,X.__e=st.__e,X.__k=st.__k,X.__k.forEach(function(Nt){Nt&&(Nt.__=X)}),at.__h.length&&pt.push(at);break t}at.componentWillUpdate!=null&&at.componentWillUpdate(nt,at.__s,mt),at.componentDidUpdate!=null&&at.__h.push(function(){at.componentDidUpdate(yt,et,G)})}if(at.context=mt,at.props=nt,at.__v=X,at.__P=bt,dt=l$1.__r,Et=0,"prototype"in It&&It.prototype.render)at.state=at.__s,at.__d=!1,dt&&dt(X),ct=at.render(at.props,at.state,at.context);else do at.__d=!1,dt&&dt(X),ct=at.render(at.props,at.state,at.context),at.state=at.__s;while(at.__d&&++Et<25);at.state=at.__s,at.getChildContext!=null&&(W=a$1(a$1({},W),at.getChildContext())),At||at.getSnapshotBeforeUpdate==null||(G=at.getSnapshotBeforeUpdate(yt,et)),Ct=ct!=null&&ct.type===d$1&&ct.key==null?ct.props.children:ct,w$2(bt,Array.isArray(Ct)?Ct:[Ct],X,st,W,Tt,lt,pt,ut,gt),at.base=X.__e,X.__h=null,at.__h.length&&pt.push(at),tt&&(at.__E=at.__=null),at.__e=!1}else lt==null&&X.__v===st.__v?(X.__k=st.__k,X.__e=st.__e):X.__e=L$1(st.__e,X,st,W,Tt,lt,pt,gt);(ct=l$1.diffed)&&ct(X)}catch(Nt){X.__v=null,(gt||lt!=null)&&(X.__e=ut,X.__h=!!gt,lt[lt.indexOf(ut)]=null),l$1.__e(Nt,X,st)}}function z$1(bt,X){l$1.__c&&l$1.__c(X,bt),bt.some(function(st){try{bt=st.__h,st.__h=[],bt.some(function(W){W.call(st)})}catch(W){l$1.__e(W,st.__v)}})}function L$1(bt,X,st,W,Tt,lt,pt,ut){var gt,ct,at,At=st.props,yt=X.props,et=X.type,G=0;if(et==="svg"&&(Tt=!0),lt!=null){for(;G<lt.length;G++)if((gt=lt[G])&&"setAttribute"in gt==!!et&&(et?gt.localName===et:gt.nodeType===3)){bt=gt,lt[G]=null;break}}if(bt==null){if(et===null)return document.createTextNode(yt);bt=Tt?document.createElementNS("http://www.w3.org/2000/svg",et):document.createElement(et,yt.is&&yt),lt=null,ut=!1}if(et===null)At===yt||ut&&bt.data===yt||(bt.data=yt);else{if(lt=lt&&n.call(bt.childNodes),ct=(At=st.props||e$2).dangerouslySetInnerHTML,at=yt.dangerouslySetInnerHTML,!ut){if(lt!=null)for(At={},G=0;G<bt.attributes.length;G++)At[bt.attributes[G].name]=bt.attributes[G].value;(at||ct)&&(at&&(ct&&at.__html==ct.__html||at.__html===bt.innerHTML)||(bt.innerHTML=at&&at.__html||""))}if(C$1(bt,yt,At,Tt,ut),at)X.__k=[];else if(G=X.props.children,w$2(bt,Array.isArray(G)?G:[G],X,st,W,Tt&&et!=="foreignObject",lt,pt,lt?lt[0]:st.__k&&k$1(st,0),ut),lt!=null)for(G=lt.length;G--;)lt[G]!=null&&h(lt[G]);ut||("value"in yt&&(G=yt.value)!==void 0&&(G!==bt.value||et==="progress"&&!G||et==="option"&&G!==At.value)&&H$1(bt,"value",G,At.value,!1),"checked"in yt&&(G=yt.checked)!==void 0&&G!==bt.checked&&H$1(bt,"checked",G,At.checked,!1))}return bt}function M$1(bt,X,st){try{typeof bt=="function"?bt(X):bt.current=X}catch(W){l$1.__e(W,st)}}function N(bt,X,st){var W,Tt;if(l$1.unmount&&l$1.unmount(bt),(W=bt.ref)&&(W.current&&W.current!==bt.__e||M$1(W,null,X)),(W=bt.__c)!=null){if(W.componentWillUnmount)try{W.componentWillUnmount()}catch(lt){l$1.__e(lt,X)}W.base=W.__P=null}if(W=bt.__k)for(Tt=0;Tt<W.length;Tt++)W[Tt]&&N(W[Tt],X,typeof bt.type!="function");st||bt.__e==null||h(bt.__e),bt.__e=bt.__d=void 0}function O$1(bt,X,st){return this.constructor(bt,st)}function S$1(bt,X,st){var W,Tt,lt;l$1.__&&l$1.__(bt,X),Tt=(W=typeof st=="function")?null:st&&st.__k||X.__k,lt=[],j$2(X,bt=(!W&&st||X).__k=v$1(d$1,null,[bt]),Tt||e$2,e$2,X.ownerSVGElement!==void 0,!W&&st?[st]:Tt?null:X.firstChild?n.call(X.childNodes):null,lt,!W&&st?st:Tt?Tt.__e:X.firstChild,W),z$1(lt,bt)}function B(bt,X,st){var W,Tt,lt,pt=a$1({},bt.props);for(lt in X)lt=="key"?W=X[lt]:lt=="ref"?Tt=X[lt]:pt[lt]=X[lt];return arguments.length>2&&(pt.children=arguments.length>3?n.call(arguments,2):st),y$1(bt.type,pt,W||bt.key,Tt||bt.ref,null)}function D(bt,X){var st={__c:X="__cC"+f$1++,__:bt,Consumer:function(W,Tt){return W.children(Tt)},Provider:function(W){var Tt,lt;return this.getChildContext||(Tt=[],(lt={})[X]=this,this.getChildContext=function(){return lt},this.shouldComponentUpdate=function(pt){this.props.value!==pt.value&&Tt.some(m$1)},this.sub=function(pt){Tt.push(pt);var ut=pt.componentWillUnmount;pt.componentWillUnmount=function(){Tt.splice(Tt.indexOf(pt),1),ut&&ut.call(pt)}}),W.children}};return st.Provider.__=st.Consumer.contextType=st}n=c$1.slice,l$1={__e:function(bt,X,st,W){for(var Tt,lt,pt;X=X.__;)if((Tt=X.__c)&&!Tt.__)try{if((lt=Tt.constructor)&&lt.getDerivedStateFromError!=null&&(Tt.setState(lt.getDerivedStateFromError(bt)),pt=Tt.__d),Tt.componentDidCatch!=null&&(Tt.componentDidCatch(bt,W||{}),pt=Tt.__d),pt)return Tt.__E=Tt}catch(ut){bt=ut}throw bt}},u$1=0,_$1.prototype.setState=function(bt,X){var st;st=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=a$1({},this.state),typeof bt=="function"&&(bt=bt(a$1({},st),this.props)),bt&&a$1(st,bt),bt!=null&&this.__v&&(X&&this.__h.push(X),m$1(this))},_$1.prototype.forceUpdate=function(bt){this.__v&&(this.__e=!0,bt&&this.__h.push(bt),m$1(this))},_$1.prototype.render=d$1,t$1=[],o$2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g$1.__r=0,f$1=0;var t,u,r,o$1,i=0,c=[],f=[],e$1=l$1.__b,a=l$1.__r,v=l$1.diffed,l=l$1.__c,m=l$1.unmount;function p(bt,X){l$1.__h&&l$1.__h(u,bt,i||X),i=0;var st=u.__H||(u.__H={__:[],__h:[]});return bt>=st.__.length&&st.__.push({__V:f}),st.__[bt]}function y(bt){return i=1,d(z,bt)}function d(bt,X,st){var W=p(t++,2);return W.t=bt,W.__c||(W.__=[st?st(X):z(void 0,X),function(Tt){var lt=W.t(W.__[0],Tt);W.__[0]!==lt&&(W.__=[lt,W.__[1]],W.__c.setState({}))}],W.__c=u),W.__}function _(bt,X){var st=p(t++,3);!l$1.__s&&w$1(st.__H,X)&&(st.__=bt,st.u=X,u.__H.__h.push(st))}function s(bt){return i=5,F(function(){return{current:bt}},[])}function F(bt,X){var st=p(t++,7);return w$1(st.__H,X)?(st.__V=bt(),st.u=X,st.__h=bt,st.__V):st.__}function T$1(bt,X){return i=8,F(function(){return bt},X)}function q$1(bt){var X=u.context[bt.__c],st=p(t++,9);return st.c=bt,X?(st.__==null&&(st.__=!0,X.sub(u)),X.props.value):bt.__}function b(){for(var bt;bt=c.shift();)if(bt.__P)try{bt.__H.__h.forEach(j$1),bt.__H.__h.forEach(k),bt.__H.__h=[]}catch(X){bt.__H.__h=[],l$1.__e(X,bt.__v)}}l$1.__b=function(bt){u=null,e$1&&e$1(bt)},l$1.__r=function(bt){a&&a(bt),t=0;var X=(u=bt.__c).__H;X&&(r===u?(X.__h=[],u.__h=[],X.__.forEach(function(st){st.__V=f,st.u=void 0})):(X.__h.forEach(j$1),X.__h.forEach(k),X.__h=[])),r=u},l$1.diffed=function(bt){v&&v(bt);var X=bt.__c;X&&X.__H&&(X.__H.__h.length&&(c.push(X)!==1&&o$1===l$1.requestAnimationFrame||((o$1=l$1.requestAnimationFrame)||function(st){var W,Tt=function(){clearTimeout(lt),g&&cancelAnimationFrame(W),setTimeout(st)},lt=setTimeout(Tt,100);g&&(W=requestAnimationFrame(Tt))})(b)),X.__H.__.forEach(function(st){st.u&&(st.__H=st.u),st.__V!==f&&(st.__=st.__V),st.u=void 0,st.__V=f})),r=u=null},l$1.__c=function(bt,X){X.some(function(st){try{st.__h.forEach(j$1),st.__h=st.__h.filter(function(W){return!W.__||k(W)})}catch(W){X.some(function(Tt){Tt.__h&&(Tt.__h=[])}),X=[],l$1.__e(W,st.__v)}}),l&&l(bt,X)},l$1.unmount=function(bt){m&&m(bt);var X,st=bt.__c;st&&st.__H&&(st.__H.__.forEach(function(W){try{j$1(W)}catch(Tt){X=Tt}}),X&&l$1.__e(X,st.__v))};var g=typeof requestAnimationFrame=="function";function j$1(bt){var X=u,st=bt.__c;typeof st=="function"&&(bt.__c=void 0,st()),u=X}function k(bt){var X=u;bt.__c=bt.__(),u=X}function w$1(bt,X){return!bt||bt.length!==X.length||X.some(function(st,W){return st!==bt[W]})}function z(bt,X){return typeof X=="function"?X(bt):X}function C(bt,X){for(var st in X)bt[st]=X[st];return bt}function S(bt,X){for(var st in bt)if(st!=="__source"&&!(st in X))return!0;for(var W in X)if(W!=="__source"&&bt[W]!==X[W])return!0;return!1}function E(bt){this.props=bt}(E.prototype=new _$1).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(bt,X){return S(this.props,bt)||S(this.state,X)};var w=l$1.__b;l$1.__b=function(bt){bt.type&&bt.type.__f&&bt.ref&&(bt.props.ref=bt.ref,bt.ref=null),w&&w(bt)};var A=l$1.__e;l$1.__e=function(bt,X,st,W){if(bt.then){for(var Tt,lt=X;lt=lt.__;)if((Tt=lt.__c)&&Tt.__c)return X.__e==null&&(X.__e=st.__e,X.__k=st.__k),Tt.__c(bt,X)}A(bt,X,st,W)};var O=l$1.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(bt){var X=bt.__.__c;return X&&X.__e&&X.__e(bt)}function M(){this.u=null,this.o=null}l$1.unmount=function(bt){var X=bt.__c;X&&X.__R&&X.__R(),X&&bt.__h===!0&&(bt.type=null),O&&O(bt)},(L.prototype=new _$1).__c=function(bt,X){var st=X.__c,W=this;W.t==null&&(W.t=[]),W.t.push(st);var Tt=U(W.__v),lt=!1,pt=function(){lt||(lt=!0,st.__R=null,Tt?Tt(ut):ut())};st.__R=pt;var ut=function(){if(!--W.__u){if(W.state.__e){var ct=W.state.__e;W.__v.__k[0]=function At(yt,et,G){return yt&&(yt.__v=null,yt.__k=yt.__k&&yt.__k.map(function(tt){return At(tt,et,G)}),yt.__c&&yt.__c.__P===et&&(yt.__e&&G.insertBefore(yt.__e,yt.__d),yt.__c.__e=!0,yt.__c.__P=G)),yt}(ct,ct.__c.__P,ct.__c.__O)}var at;for(W.setState({__e:W.__b=null});at=W.t.pop();)at.forceUpdate()}},gt=X.__h===!0;W.__u++||gt||W.setState({__e:W.__b=W.__v.__k[0]}),bt.then(pt,pt)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(bt,X){if(this.__b){if(this.__v.__k){var st=document.createElement("div"),W=this.__v.__k[0].__c;this.__v.__k[0]=function lt(pt,ut,gt){return pt&&(pt.__c&&pt.__c.__H&&(pt.__c.__H.__.forEach(function(ct){typeof ct.__c=="function"&&ct.__c()}),pt.__c.__H=null),(pt=C({},pt)).__c!=null&&(pt.__c.__P===gt&&(pt.__c.__P=ut),pt.__c=null),pt.__k=pt.__k&&pt.__k.map(function(ct){return lt(ct,ut,gt)})),pt}(this.__b,st,W.__O=W.__P)}this.__b=null}var Tt=X.__e&&v$1(d$1,null,bt.fallback);return Tt&&(Tt.__h=null),[v$1(d$1,null,X.__e?null:bt.children),Tt]};var T=function(bt,X,st){if(++st[1]===st[0]&&bt.o.delete(X),bt.props.revealOrder&&(bt.props.revealOrder[0]!=="t"||!bt.o.size))for(st=bt.u;st;){for(;st.length>3;)st.pop()();if(st[1]<st[0])break;bt.u=st=st[2]}};(M.prototype=new _$1).__e=function(bt){var X=this,st=U(X.__v),W=X.o.get(bt);return W[0]++,function(Tt){var lt=function(){X.props.revealOrder?(W.push(Tt),T(X,bt,W)):Tt()};st?st(lt):lt()}},M.prototype.render=function(bt){this.u=null,this.o=new Map;var X=A$1(bt.children);bt.revealOrder&&bt.revealOrder[0]==="b"&&X.reverse();for(var st=X.length;st--;)this.o.set(X[st],this.u=[1,0,this.u]);return bt.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var bt=this;this.o.forEach(function(X,st){T(bt,st,X)})};var P=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,V=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$=typeof document!="undefined",j=function(bt){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(bt)};_$1.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(bt){Object.defineProperty(_$1.prototype,bt,{configurable:!0,get:function(){return this["UNSAFE_"+bt]},set:function(X){Object.defineProperty(this,bt,{configurable:!0,writable:!0,value:X})}})});var H=l$1.event;function Z(){}function Y(){return this.cancelBubble}function q(){return this.defaultPrevented}l$1.event=function(bt){return H&&(bt=H(bt)),bt.persist=Z,bt.isPropagationStopped=Y,bt.isDefaultPrevented=q,bt.nativeEvent=bt};var J={configurable:!0,get:function(){return this.class}},K=l$1.vnode;l$1.vnode=function(bt){var X=bt.type,st=bt.props,W=st;if(typeof X=="string"){var Tt=X.indexOf("-")===-1;for(var lt in W={},st){var pt=st[lt];$&&lt==="children"&&X==="noscript"||lt==="value"&&"defaultValue"in st&&pt==null||(lt==="defaultValue"&&"value"in st&&st.value==null?lt="value":lt==="download"&&pt===!0?pt="":/ondoubleclick/i.test(lt)?lt="ondblclick":/^onchange(textarea|input)/i.test(lt+X)&&!j(st.type)?lt="oninput":/^onfocus$/i.test(lt)?lt="onfocusin":/^onblur$/i.test(lt)?lt="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(lt)?lt=lt.toLowerCase():Tt&&V.test(lt)?lt=lt.replace(/[A-Z0-9]/,"-$&").toLowerCase():pt===null&&(pt=void 0),/^oninput$/i.test(lt)&&(lt=lt.toLowerCase(),W[lt]&&(lt="oninputCapture")),W[lt]=pt)}X=="select"&&W.multiple&&Array.isArray(W.value)&&(W.value=A$1(st.children).forEach(function(ut){ut.props.selected=W.value.indexOf(ut.props.value)!=-1})),X=="select"&&W.defaultValue!=null&&(W.value=A$1(st.children).forEach(function(ut){ut.props.selected=W.multiple?W.defaultValue.indexOf(ut.props.value)!=-1:W.defaultValue==ut.props.value})),bt.props=W,st.class!=st.className&&(J.enumerable="className"in st,st.className!=null&&(W.class=st.className),Object.defineProperty(W,"className",J))}bt.$$typeof=P,K&&K(bt)};var Q=l$1.__r;l$1.__r=function(bt){Q&&Q(bt),bt.__c};function en(bt){return!!bt&&bt.$$typeof===P}function rn(bt){return en(bt)?B.apply(null,arguments):bt}const eventPopstate="popstate",eventPushState="pushState",eventReplaceState="replaceState",events=[eventPopstate,eventPushState,eventReplaceState];var locationHook=({base:bt=""}={})=>{const[{path:X,search:st},W]=y(()=>({path:currentPathname(bt),search:location.search})),Tt=s(X+st);_(()=>{const pt=()=>{const ut=currentPathname(bt),gt=location.search,ct=ut+gt;Tt.current!==ct&&(Tt.current=ct,W({path:ut,search:gt}))};return events.forEach(ut=>addEventListener(ut,pt)),pt(),()=>events.forEach(ut=>removeEventListener(ut,pt))},[bt]);const lt=T$1((pt,{replace:ut=!1}={})=>history[ut?eventReplaceState:eventPushState](null,"",pt[0]==="~"?pt.slice(1):bt+pt),[bt]);return[X,lt]};if(typeof history!="undefined")for(const bt of[eventPushState,eventReplaceState]){const X=history[bt];history[bt]=function(){const st=X.apply(this,arguments),W=new Event(bt);return W.arguments=arguments,dispatchEvent(W),st}}const currentPathname=(bt,X=location.pathname)=>X.toLowerCase().indexOf(bt.toLowerCase())?"~"+X:X.slice(bt.length)||"/";function makeMatcher(bt=pathToRegexp){let X={};const st=W=>X[W]||(X[W]=bt(W));return(W,Tt)=>{const{regexp:lt,keys:pt}=st(W||""),ut=lt.exec(Tt);if(!ut)return[!1,null];const gt=pt.reduce((ct,at,At)=>(ct[at.name]=ut[At+1],ct),{});return[!0,gt]}}const escapeRx=bt=>bt.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),rxForSegment=(bt,X,st)=>{let W=bt?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return X&&st&&(W="(?:\\/"+W+")"),W+(X?"?":"")},pathToRegexp=bt=>{const X=/:([A-Za-z0-9_]+)([?+*]?)/g;let st=null,W=0,Tt=[],lt="";for(;(st=X.exec(bt))!==null;){const[pt,ut,gt]=st,ct=gt==="+"||gt==="*",at=gt==="?"||gt==="*",At=at&&bt[st.index-1]==="/"?1:0,yt=bt.substring(W,st.index-At);Tt.push({name:ut}),W=X.lastIndex,lt+=escapeRx(yt)+rxForSegment(ct,at,At)}return lt+=escapeRx(bt.substring(W)),{keys:Tt,regexp:new RegExp("^"+lt+"(?:\\/)?$","i")}},RouterCtx=D({}),buildRouter=({hook:bt=locationHook,base:X="",matcher:st=makeMatcher()}={})=>({hook:bt,base:X,matcher:st}),useRouter=()=>{const bt=q$1(RouterCtx);return bt.v||(bt.v=buildRouter())},useLocation=()=>{const bt=useRouter();return bt.hook(bt)},useRoute=bt=>{const[X]=useLocation();return useRouter().matcher(bt,X)},useNavigate=bt=>{const X=s(),[,st]=useLocation();return X.current=()=>st(bt.to||bt.href,bt),X},Router=bt=>{const X=s(),st=X.current||(X.current={v:buildRouter(bt)});return v$1(RouterCtx.Provider,{value:st,children:bt.children})},Route=({path:bt,match:X,component:st,children:W})=>{const Tt=useRoute(bt),[lt,pt]=X||Tt;return lt?st?v$1(st,{params:pt}):typeof W=="function"?W(pt):W:null},Link=bt=>{const X=useNavigate(bt),{base:st}=useRouter();let{to:W,href:Tt=W,children:lt,onClick:pt}=bt;const ut=T$1(at=>{at.ctrlKey||at.metaKey||at.altKey||at.shiftKey||at.button!==0||(at.preventDefault(),X.current(),pt&&pt(at))},[pt]),gt={href:Tt[0]==="~"?Tt.slice(1):st+Tt,onClick:ut,to:null},ct=en(lt)?lt:v$1("a",bt);return rn(ct,gt)},flattenChildren=bt=>Array.isArray(bt)?[].concat(...bt.map(X=>X&&X.type===d$1?flattenChildren(X.props.children):flattenChildren(X))):[bt],Switch=({children:bt,location:X})=>{const{matcher:st}=useRouter(),[W]=useLocation();for(const Tt of flattenChildren(bt)){let lt=0;if(en(Tt)&&(lt=Tt.props.path?st(Tt.props.path,X||W):[!0,{}])[0])return rn(Tt,{match:lt})}return null};var o=0;function e(bt,X,st,W,Tt){var lt,pt,ut={};for(pt in X)pt=="ref"?lt=X[pt]:ut[pt]=X[pt];var gt={type:bt,props:ut,key:st,ref:lt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--o,__source:Tt,__self:W};if(typeof bt=="function"&&(lt=bt.defaultProps))for(pt in lt)ut[pt]===void 0&&(ut[pt]=lt[pt]);return l$1.vnode&&l$1.vnode(gt),gt}function CenterCard({children:bt}){return e("div",{class:"relative text-center flex min-h-screen flex-col justify-center overflow-hidden bg-gray-50 py-6 sm:py-12",children:e("div",{class:"relative container  bg-white px-6 pt-10 pb-7 shadow-xl ring-1 ring-gray-900/5 sm:mx-auto sm:max-w-lg sm:rounded-lg sm:px-10",children:e("div",{class:"mx-auto max-w-md",children:bt})})})}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(bt){if(bt.__esModule)return bt;var X=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(bt).forEach(function(st){var W=Object.getOwnPropertyDescriptor(bt,st);Object.defineProperty(X,st,W.get?W:{enumerable:!0,get:function(){return bt[st]}})}),X}function commonjsRequire(bt){throw new Error('Could not dynamically require "'+bt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var FileSaver_min={exports:{}};(function(bt,X){(function(st,W){W()})(commonjsGlobal,function(){function st(ct,at){return typeof at=="undefined"?at={autoBom:!1}:typeof at!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),at={autoBom:!at}),at.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ct.type)?new Blob(["\uFEFF",ct],{type:ct.type}):ct}function W(ct,at,At){var yt=new XMLHttpRequest;yt.open("GET",ct),yt.responseType="blob",yt.onload=function(){gt(yt.response,at,At)},yt.onerror=function(){console.error("could not download file")},yt.send()}function Tt(ct){var at=new XMLHttpRequest;at.open("HEAD",ct,!1);try{at.send()}catch{}return 200<=at.status&&299>=at.status}function lt(ct){try{ct.dispatchEvent(new MouseEvent("click"))}catch{var at=document.createEvent("MouseEvents");at.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ct.dispatchEvent(at)}}var pt=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,ut=pt.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),gt=pt.saveAs||(typeof window!="object"||window!==pt?function(){}:"download"in HTMLAnchorElement.prototype&&!ut?function(ct,at,At){var yt=pt.URL||pt.webkitURL,et=document.createElement("a");at=at||ct.name||"download",et.download=at,et.rel="noopener",typeof ct=="string"?(et.href=ct,et.origin===location.origin?lt(et):Tt(et.href)?W(ct,at,At):lt(et,et.target="_blank")):(et.href=yt.createObjectURL(ct),setTimeout(function(){yt.revokeObjectURL(et.href)},4e4),setTimeout(function(){lt(et)},0))}:"msSaveOrOpenBlob"in navigator?function(ct,at,At){if(at=at||ct.name||"download",typeof ct!="string")navigator.msSaveOrOpenBlob(st(ct,At),at);else if(Tt(ct))W(ct,at,At);else{var yt=document.createElement("a");yt.href=ct,yt.target="_blank",setTimeout(function(){lt(yt)})}}:function(ct,at,At,yt){if(yt=yt||open("","_blank"),yt&&(yt.document.title=yt.document.body.innerText="downloading..."),typeof ct=="string")return W(ct,at,At);var et=ct.type==="application/octet-stream",G=/constructor/i.test(pt.HTMLElement)||pt.safari,tt=/CriOS\/[\d]+/.test(navigator.userAgent);if((tt||et&&G||ut)&&typeof FileReader!="undefined"){var nt=new FileReader;nt.onloadend=function(){var dt=nt.result;dt=tt?dt:dt.replace(/^data:[^;]*;/,"data:attachment/file;"),yt?yt.location.href=dt:location=dt,yt=null},nt.readAsDataURL(ct)}else{var rt=pt.URL||pt.webkitURL,mt=rt.createObjectURL(ct);yt?yt.location=mt:location.href=mt,yt=null,setTimeout(function(){rt.revokeObjectURL(mt)},4e4)}});pt.saveAs=gt.saveAs=gt,bt.exports=gt})})(FileSaver_min);var jszip_min={exports:{}};/*!

JSZip v3.10.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(bt,X){(function(st){bt.exports=st()})(function(){return function st(W,Tt,lt){function pt(ct,at){if(!Tt[ct]){if(!W[ct]){var At=typeof commonjsRequire=="function"&&commonjsRequire;if(!at&&At)return At(ct,!0);if(ut)return ut(ct,!0);var yt=new Error("Cannot find module '"+ct+"'");throw yt.code="MODULE_NOT_FOUND",yt}var et=Tt[ct]={exports:{}};W[ct][0].call(et.exports,function(G){var tt=W[ct][1][G];return pt(tt||G)},et,et.exports,st,W,Tt,lt)}return Tt[ct].exports}for(var ut=typeof commonjsRequire=="function"&&commonjsRequire,gt=0;gt<lt.length;gt++)pt(lt[gt]);return pt}({1:[function(st,W,Tt){var lt=st("./utils"),pt=st("./support"),ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Tt.encode=function(gt){for(var ct,at,At,yt,et,G,tt,nt=[],rt=0,mt=gt.length,dt=mt,Et=lt.getTypeOf(gt)!=="string";rt<gt.length;)dt=mt-rt,At=Et?(ct=gt[rt++],at=rt<mt?gt[rt++]:0,rt<mt?gt[rt++]:0):(ct=gt.charCodeAt(rt++),at=rt<mt?gt.charCodeAt(rt++):0,rt<mt?gt.charCodeAt(rt++):0),yt=ct>>2,et=(3&ct)<<4|at>>4,G=1<dt?(15&at)<<2|At>>6:64,tt=2<dt?63&At:64,nt.push(ut.charAt(yt)+ut.charAt(et)+ut.charAt(G)+ut.charAt(tt));return nt.join("")},Tt.decode=function(gt){var ct,at,At,yt,et,G,tt=0,nt=0,rt="data:";if(gt.substr(0,rt.length)===rt)throw new Error("Invalid base64 input, it looks like a data url.");var mt,dt=3*(gt=gt.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(gt.charAt(gt.length-1)===ut.charAt(64)&&dt--,gt.charAt(gt.length-2)===ut.charAt(64)&&dt--,dt%1!=0)throw new Error("Invalid base64 input, bad content length.");for(mt=pt.uint8array?new Uint8Array(0|dt):new Array(0|dt);tt<gt.length;)ct=ut.indexOf(gt.charAt(tt++))<<2|(yt=ut.indexOf(gt.charAt(tt++)))>>4,at=(15&yt)<<4|(et=ut.indexOf(gt.charAt(tt++)))>>2,At=(3&et)<<6|(G=ut.indexOf(gt.charAt(tt++))),mt[nt++]=ct,et!==64&&(mt[nt++]=at),G!==64&&(mt[nt++]=At);return mt}},{"./support":30,"./utils":32}],2:[function(st,W,Tt){var lt=st("./external"),pt=st("./stream/DataWorker"),ut=st("./stream/Crc32Probe"),gt=st("./stream/DataLengthProbe");function ct(at,At,yt,et,G){this.compressedSize=at,this.uncompressedSize=At,this.crc32=yt,this.compression=et,this.compressedContent=G}ct.prototype={getContentWorker:function(){var at=new pt(lt.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new gt("data_length")),At=this;return at.on("end",function(){if(this.streamInfo.data_length!==At.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),at},getCompressedWorker:function(){return new pt(lt.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},ct.createWorkerFrom=function(at,At,yt){return at.pipe(new ut).pipe(new gt("uncompressedSize")).pipe(At.compressWorker(yt)).pipe(new gt("compressedSize")).withStreamInfo("compression",At)},W.exports=ct},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(st,W,Tt){var lt=st("./stream/GenericWorker");Tt.STORE={magic:"\0\0",compressWorker:function(pt){return new lt("STORE compression")},uncompressWorker:function(){return new lt("STORE decompression")}},Tt.DEFLATE=st("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(st,W,Tt){var lt=st("./utils"),pt=function(){for(var ut,gt=[],ct=0;ct<256;ct++){ut=ct;for(var at=0;at<8;at++)ut=1&ut?3988292384^ut>>>1:ut>>>1;gt[ct]=ut}return gt}();W.exports=function(ut,gt){return ut!==void 0&&ut.length?lt.getTypeOf(ut)!=="string"?function(ct,at,At,yt){var et=pt,G=yt+At;ct^=-1;for(var tt=yt;tt<G;tt++)ct=ct>>>8^et[255&(ct^at[tt])];return-1^ct}(0|gt,ut,ut.length,0):function(ct,at,At,yt){var et=pt,G=yt+At;ct^=-1;for(var tt=yt;tt<G;tt++)ct=ct>>>8^et[255&(ct^at.charCodeAt(tt))];return-1^ct}(0|gt,ut,ut.length,0):0}},{"./utils":32}],5:[function(st,W,Tt){Tt.base64=!1,Tt.binary=!1,Tt.dir=!1,Tt.createFolders=!0,Tt.date=null,Tt.compression=null,Tt.compressionOptions=null,Tt.comment=null,Tt.unixPermissions=null,Tt.dosPermissions=null},{}],6:[function(st,W,Tt){var lt=null;lt=typeof Promise!="undefined"?Promise:st("lie"),W.exports={Promise:lt}},{lie:37}],7:[function(st,W,Tt){var lt=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",pt=st("pako"),ut=st("./utils"),gt=st("./stream/GenericWorker"),ct=lt?"uint8array":"array";function at(At,yt){gt.call(this,"FlateWorker/"+At),this._pako=null,this._pakoAction=At,this._pakoOptions=yt,this.meta={}}Tt.magic="\b\0",ut.inherits(at,gt),at.prototype.processChunk=function(At){this.meta=At.meta,this._pako===null&&this._createPako(),this._pako.push(ut.transformTo(ct,At.data),!1)},at.prototype.flush=function(){gt.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},at.prototype.cleanUp=function(){gt.prototype.cleanUp.call(this),this._pako=null},at.prototype._createPako=function(){this._pako=new pt[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var At=this;this._pako.onData=function(yt){At.push({data:yt,meta:At.meta})}},Tt.compressWorker=function(At){return new at("Deflate",At)},Tt.uncompressWorker=function(){return new at("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(st,W,Tt){function lt(et,G){var tt,nt="";for(tt=0;tt<G;tt++)nt+=String.fromCharCode(255&et),et>>>=8;return nt}function pt(et,G,tt,nt,rt,mt){var dt,Et,Ct=et.file,It=et.compression,Nt=mt!==ct.utf8encode,St=ut.transformTo("string",mt(Ct.name)),wt=ut.transformTo("string",ct.utf8encode(Ct.name)),Ot=Ct.comment,Ut=ut.transformTo("string",mt(Ot)),vt=ut.transformTo("string",ct.utf8encode(Ot)),Bt=wt.length!==Ct.name.length,ht=vt.length!==Ot.length,qt="",re="",Gt="",ne=Ct.dir,Kt=Ct.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};G&&!tt||(ie.crc32=et.crc32,ie.compressedSize=et.compressedSize,ie.uncompressedSize=et.uncompressedSize);var xt=0;G&&(xt|=8),Nt||!Bt&&!ht||(xt|=2048);var ot=0,_t=0;ne&&(ot|=16),rt==="UNIX"?(_t=798,ot|=function(R,ft){var kt=R;return R||(kt=ft?16893:33204),(65535&kt)<<16}(Ct.unixPermissions,ne)):(_t=20,ot|=function(R){return 63&(R||0)}(Ct.dosPermissions)),dt=Kt.getUTCHours(),dt<<=6,dt|=Kt.getUTCMinutes(),dt<<=5,dt|=Kt.getUTCSeconds()/2,Et=Kt.getUTCFullYear()-1980,Et<<=4,Et|=Kt.getUTCMonth()+1,Et<<=5,Et|=Kt.getUTCDate(),Bt&&(re=lt(1,1)+lt(at(St),4)+wt,qt+="up"+lt(re.length,2)+re),ht&&(Gt=lt(1,1)+lt(at(Ut),4)+vt,qt+="uc"+lt(Gt.length,2)+Gt);var Pt="";return Pt+=`
\0`,Pt+=lt(xt,2),Pt+=It.magic,Pt+=lt(dt,2),Pt+=lt(Et,2),Pt+=lt(ie.crc32,4),Pt+=lt(ie.compressedSize,4),Pt+=lt(ie.uncompressedSize,4),Pt+=lt(St.length,2),Pt+=lt(qt.length,2),{fileRecord:At.LOCAL_FILE_HEADER+Pt+St+qt,dirRecord:At.CENTRAL_FILE_HEADER+lt(_t,2)+Pt+lt(Ut.length,2)+"\0\0\0\0"+lt(ot,4)+lt(nt,4)+St+qt+Ut}}var ut=st("../utils"),gt=st("../stream/GenericWorker"),ct=st("../utf8"),at=st("../crc32"),At=st("../signature");function yt(et,G,tt,nt){gt.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=G,this.zipPlatform=tt,this.encodeFileName=nt,this.streamFiles=et,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}ut.inherits(yt,gt),yt.prototype.push=function(et){var G=et.meta.percent||0,tt=this.entriesCount,nt=this._sources.length;this.accumulate?this.contentBuffer.push(et):(this.bytesWritten+=et.data.length,gt.prototype.push.call(this,{data:et.data,meta:{currentFile:this.currentFile,percent:tt?(G+100*(tt-nt-1))/tt:100}}))},yt.prototype.openedSource=function(et){this.currentSourceOffset=this.bytesWritten,this.currentFile=et.file.name;var G=this.streamFiles&&!et.file.dir;if(G){var tt=pt(et,G,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:tt.fileRecord,meta:{percent:0}})}else this.accumulate=!0},yt.prototype.closedSource=function(et){this.accumulate=!1;var G=this.streamFiles&&!et.file.dir,tt=pt(et,G,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(tt.dirRecord),G)this.push({data:function(nt){return At.DATA_DESCRIPTOR+lt(nt.crc32,4)+lt(nt.compressedSize,4)+lt(nt.uncompressedSize,4)}(et),meta:{percent:100}});else for(this.push({data:tt.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},yt.prototype.flush=function(){for(var et=this.bytesWritten,G=0;G<this.dirRecords.length;G++)this.push({data:this.dirRecords[G],meta:{percent:100}});var tt=this.bytesWritten-et,nt=function(rt,mt,dt,Et,Ct){var It=ut.transformTo("string",Ct(Et));return At.CENTRAL_DIRECTORY_END+"\0\0\0\0"+lt(rt,2)+lt(rt,2)+lt(mt,4)+lt(dt,4)+lt(It.length,2)+It}(this.dirRecords.length,tt,et,this.zipComment,this.encodeFileName);this.push({data:nt,meta:{percent:100}})},yt.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},yt.prototype.registerPrevious=function(et){this._sources.push(et);var G=this;return et.on("data",function(tt){G.processChunk(tt)}),et.on("end",function(){G.closedSource(G.previous.streamInfo),G._sources.length?G.prepareNextSource():G.end()}),et.on("error",function(tt){G.error(tt)}),this},yt.prototype.resume=function(){return!!gt.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},yt.prototype.error=function(et){var G=this._sources;if(!gt.prototype.error.call(this,et))return!1;for(var tt=0;tt<G.length;tt++)try{G[tt].error(et)}catch{}return!0},yt.prototype.lock=function(){gt.prototype.lock.call(this);for(var et=this._sources,G=0;G<et.length;G++)et[G].lock()},W.exports=yt},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(st,W,Tt){var lt=st("../compressions"),pt=st("./ZipFileWorker");Tt.generateWorker=function(ut,gt,ct){var at=new pt(gt.streamFiles,ct,gt.platform,gt.encodeFileName),At=0;try{ut.forEach(function(yt,et){At++;var G=function(mt,dt){var Et=mt||dt,Ct=lt[Et];if(!Ct)throw new Error(Et+" is not a valid compression method !");return Ct}(et.options.compression,gt.compression),tt=et.options.compressionOptions||gt.compressionOptions||{},nt=et.dir,rt=et.date;et._compressWorker(G,tt).withStreamInfo("file",{name:yt,dir:nt,date:rt,comment:et.comment||"",unixPermissions:et.unixPermissions,dosPermissions:et.dosPermissions}).pipe(at)}),at.entriesCount=At}catch(yt){at.error(yt)}return at}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(st,W,Tt){function lt(){if(!(this instanceof lt))return new lt;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var pt=new lt;for(var ut in this)typeof this[ut]!="function"&&(pt[ut]=this[ut]);return pt}}(lt.prototype=st("./object")).loadAsync=st("./load"),lt.support=st("./support"),lt.defaults=st("./defaults"),lt.version="3.10.0",lt.loadAsync=function(pt,ut){return new lt().loadAsync(pt,ut)},lt.external=st("./external"),W.exports=lt},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(st,W,Tt){var lt=st("./utils"),pt=st("./external"),ut=st("./utf8"),gt=st("./zipEntries"),ct=st("./stream/Crc32Probe"),at=st("./nodejsUtils");function At(yt){return new pt.Promise(function(et,G){var tt=yt.decompressed.getContentWorker().pipe(new ct);tt.on("error",function(nt){G(nt)}).on("end",function(){tt.streamInfo.crc32!==yt.decompressed.crc32?G(new Error("Corrupted zip : CRC32 mismatch")):et()}).resume()})}W.exports=function(yt,et){var G=this;return et=lt.extend(et||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:ut.utf8decode}),at.isNode&&at.isStream(yt)?pt.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):lt.prepareContent("the loaded zip file",yt,!0,et.optimizedBinaryString,et.base64).then(function(tt){var nt=new gt(et);return nt.load(tt),nt}).then(function(tt){var nt=[pt.Promise.resolve(tt)],rt=tt.files;if(et.checkCRC32)for(var mt=0;mt<rt.length;mt++)nt.push(At(rt[mt]));return pt.Promise.all(nt)}).then(function(tt){for(var nt=tt.shift(),rt=nt.files,mt=0;mt<rt.length;mt++){var dt=rt[mt],Et=dt.fileNameStr,Ct=lt.resolve(dt.fileNameStr);G.file(Ct,dt.decompressed,{binary:!0,optimizedBinaryString:!0,date:dt.date,dir:dt.dir,comment:dt.fileCommentStr.length?dt.fileCommentStr:null,unixPermissions:dt.unixPermissions,dosPermissions:dt.dosPermissions,createFolders:et.createFolders}),dt.dir||(G.file(Ct).unsafeOriginalName=Et)}return nt.zipComment.length&&(G.comment=nt.zipComment),G})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(st,W,Tt){var lt=st("../utils"),pt=st("../stream/GenericWorker");function ut(gt,ct){pt.call(this,"Nodejs stream input adapter for "+gt),this._upstreamEnded=!1,this._bindStream(ct)}lt.inherits(ut,pt),ut.prototype._bindStream=function(gt){var ct=this;(this._stream=gt).pause(),gt.on("data",function(at){ct.push({data:at,meta:{percent:0}})}).on("error",function(at){ct.isPaused?this.generatedError=at:ct.error(at)}).on("end",function(){ct.isPaused?ct._upstreamEnded=!0:ct.end()})},ut.prototype.pause=function(){return!!pt.prototype.pause.call(this)&&(this._stream.pause(),!0)},ut.prototype.resume=function(){return!!pt.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},W.exports=ut},{"../stream/GenericWorker":28,"../utils":32}],13:[function(st,W,Tt){var lt=st("readable-stream").Readable;function pt(ut,gt,ct){lt.call(this,gt),this._helper=ut;var at=this;ut.on("data",function(At,yt){at.push(At)||at._helper.pause(),ct&&ct(yt)}).on("error",function(At){at.emit("error",At)}).on("end",function(){at.push(null)})}st("../utils").inherits(pt,lt),pt.prototype._read=function(){this._helper.resume()},W.exports=pt},{"../utils":32,"readable-stream":16}],14:[function(st,W,Tt){W.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(lt,pt){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(lt,pt);if(typeof lt=="number")throw new Error('The "data" argument must not be a number');return new Buffer(lt,pt)},allocBuffer:function(lt){if(Buffer.alloc)return Buffer.alloc(lt);var pt=new Buffer(lt);return pt.fill(0),pt},isBuffer:function(lt){return Buffer.isBuffer(lt)},isStream:function(lt){return lt&&typeof lt.on=="function"&&typeof lt.pause=="function"&&typeof lt.resume=="function"}}},{}],15:[function(st,W,Tt){function lt(Ct,It,Nt){var St,wt=ut.getTypeOf(It),Ot=ut.extend(Nt||{},at);Ot.date=Ot.date||new Date,Ot.compression!==null&&(Ot.compression=Ot.compression.toUpperCase()),typeof Ot.unixPermissions=="string"&&(Ot.unixPermissions=parseInt(Ot.unixPermissions,8)),Ot.unixPermissions&&16384&Ot.unixPermissions&&(Ot.dir=!0),Ot.dosPermissions&&16&Ot.dosPermissions&&(Ot.dir=!0),Ot.dir&&(Ct=rt(Ct)),Ot.createFolders&&(St=nt(Ct))&&mt.call(this,St,!0);var Ut=wt==="string"&&Ot.binary===!1&&Ot.base64===!1;Nt&&Nt.binary!==void 0||(Ot.binary=!Ut),(It instanceof At&&It.uncompressedSize===0||Ot.dir||!It||It.length===0)&&(Ot.base64=!1,Ot.binary=!0,It="",Ot.compression="STORE",wt="string");var vt=null;vt=It instanceof At||It instanceof gt?It:G.isNode&&G.isStream(It)?new tt(Ct,It):ut.prepareContent(Ct,It,Ot.binary,Ot.optimizedBinaryString,Ot.base64);var Bt=new yt(Ct,vt,Ot);this.files[Ct]=Bt}var pt=st("./utf8"),ut=st("./utils"),gt=st("./stream/GenericWorker"),ct=st("./stream/StreamHelper"),at=st("./defaults"),At=st("./compressedObject"),yt=st("./zipObject"),et=st("./generate"),G=st("./nodejsUtils"),tt=st("./nodejs/NodejsStreamInputAdapter"),nt=function(Ct){Ct.slice(-1)==="/"&&(Ct=Ct.substring(0,Ct.length-1));var It=Ct.lastIndexOf("/");return 0<It?Ct.substring(0,It):""},rt=function(Ct){return Ct.slice(-1)!=="/"&&(Ct+="/"),Ct},mt=function(Ct,It){return It=It!==void 0?It:at.createFolders,Ct=rt(Ct),this.files[Ct]||lt.call(this,Ct,null,{dir:!0,createFolders:It}),this.files[Ct]};function dt(Ct){return Object.prototype.toString.call(Ct)==="[object RegExp]"}var Et={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Ct){var It,Nt,St;for(It in this.files)St=this.files[It],(Nt=It.slice(this.root.length,It.length))&&It.slice(0,this.root.length)===this.root&&Ct(Nt,St)},filter:function(Ct){var It=[];return this.forEach(function(Nt,St){Ct(Nt,St)&&It.push(St)}),It},file:function(Ct,It,Nt){if(arguments.length!==1)return Ct=this.root+Ct,lt.call(this,Ct,It,Nt),this;if(dt(Ct)){var St=Ct;return this.filter(function(Ot,Ut){return!Ut.dir&&St.test(Ot)})}var wt=this.files[this.root+Ct];return wt&&!wt.dir?wt:null},folder:function(Ct){if(!Ct)return this;if(dt(Ct))return this.filter(function(wt,Ot){return Ot.dir&&Ct.test(wt)});var It=this.root+Ct,Nt=mt.call(this,It),St=this.clone();return St.root=Nt.name,St},remove:function(Ct){Ct=this.root+Ct;var It=this.files[Ct];if(It||(Ct.slice(-1)!=="/"&&(Ct+="/"),It=this.files[Ct]),It&&!It.dir)delete this.files[Ct];else for(var Nt=this.filter(function(wt,Ot){return Ot.name.slice(0,Ct.length)===Ct}),St=0;St<Nt.length;St++)delete this.files[Nt[St].name];return this},generate:function(Ct){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Ct){var It,Nt={};try{if((Nt=ut.extend(Ct||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:pt.utf8encode})).type=Nt.type.toLowerCase(),Nt.compression=Nt.compression.toUpperCase(),Nt.type==="binarystring"&&(Nt.type="string"),!Nt.type)throw new Error("No output type specified.");ut.checkSupport(Nt.type),Nt.platform!=="darwin"&&Nt.platform!=="freebsd"&&Nt.platform!=="linux"&&Nt.platform!=="sunos"||(Nt.platform="UNIX"),Nt.platform==="win32"&&(Nt.platform="DOS");var St=Nt.comment||this.comment||"";It=et.generateWorker(this,Nt,St)}catch(wt){(It=new gt("error")).error(wt)}return new ct(It,Nt.type||"string",Nt.mimeType)},generateAsync:function(Ct,It){return this.generateInternalStream(Ct).accumulate(It)},generateNodeStream:function(Ct,It){return(Ct=Ct||{}).type||(Ct.type="nodebuffer"),this.generateInternalStream(Ct).toNodejsStream(It)}};W.exports=Et},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(st,W,Tt){W.exports=st("stream")},{stream:void 0}],17:[function(st,W,Tt){var lt=st("./DataReader");function pt(ut){lt.call(this,ut);for(var gt=0;gt<this.data.length;gt++)ut[gt]=255&ut[gt]}st("../utils").inherits(pt,lt),pt.prototype.byteAt=function(ut){return this.data[this.zero+ut]},pt.prototype.lastIndexOfSignature=function(ut){for(var gt=ut.charCodeAt(0),ct=ut.charCodeAt(1),at=ut.charCodeAt(2),At=ut.charCodeAt(3),yt=this.length-4;0<=yt;--yt)if(this.data[yt]===gt&&this.data[yt+1]===ct&&this.data[yt+2]===at&&this.data[yt+3]===At)return yt-this.zero;return-1},pt.prototype.readAndCheckSignature=function(ut){var gt=ut.charCodeAt(0),ct=ut.charCodeAt(1),at=ut.charCodeAt(2),At=ut.charCodeAt(3),yt=this.readData(4);return gt===yt[0]&&ct===yt[1]&&at===yt[2]&&At===yt[3]},pt.prototype.readData=function(ut){if(this.checkOffset(ut),ut===0)return[];var gt=this.data.slice(this.zero+this.index,this.zero+this.index+ut);return this.index+=ut,gt},W.exports=pt},{"../utils":32,"./DataReader":18}],18:[function(st,W,Tt){var lt=st("../utils");function pt(ut){this.data=ut,this.length=ut.length,this.index=0,this.zero=0}pt.prototype={checkOffset:function(ut){this.checkIndex(this.index+ut)},checkIndex:function(ut){if(this.length<this.zero+ut||ut<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+ut+"). Corrupted zip ?")},setIndex:function(ut){this.checkIndex(ut),this.index=ut},skip:function(ut){this.setIndex(this.index+ut)},byteAt:function(ut){},readInt:function(ut){var gt,ct=0;for(this.checkOffset(ut),gt=this.index+ut-1;gt>=this.index;gt--)ct=(ct<<8)+this.byteAt(gt);return this.index+=ut,ct},readString:function(ut){return lt.transformTo("string",this.readData(ut))},readData:function(ut){},lastIndexOfSignature:function(ut){},readAndCheckSignature:function(ut){},readDate:function(){var ut=this.readInt(4);return new Date(Date.UTC(1980+(ut>>25&127),(ut>>21&15)-1,ut>>16&31,ut>>11&31,ut>>5&63,(31&ut)<<1))}},W.exports=pt},{"../utils":32}],19:[function(st,W,Tt){var lt=st("./Uint8ArrayReader");function pt(ut){lt.call(this,ut)}st("../utils").inherits(pt,lt),pt.prototype.readData=function(ut){this.checkOffset(ut);var gt=this.data.slice(this.zero+this.index,this.zero+this.index+ut);return this.index+=ut,gt},W.exports=pt},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(st,W,Tt){var lt=st("./DataReader");function pt(ut){lt.call(this,ut)}st("../utils").inherits(pt,lt),pt.prototype.byteAt=function(ut){return this.data.charCodeAt(this.zero+ut)},pt.prototype.lastIndexOfSignature=function(ut){return this.data.lastIndexOf(ut)-this.zero},pt.prototype.readAndCheckSignature=function(ut){return ut===this.readData(4)},pt.prototype.readData=function(ut){this.checkOffset(ut);var gt=this.data.slice(this.zero+this.index,this.zero+this.index+ut);return this.index+=ut,gt},W.exports=pt},{"../utils":32,"./DataReader":18}],21:[function(st,W,Tt){var lt=st("./ArrayReader");function pt(ut){lt.call(this,ut)}st("../utils").inherits(pt,lt),pt.prototype.readData=function(ut){if(this.checkOffset(ut),ut===0)return new Uint8Array(0);var gt=this.data.subarray(this.zero+this.index,this.zero+this.index+ut);return this.index+=ut,gt},W.exports=pt},{"../utils":32,"./ArrayReader":17}],22:[function(st,W,Tt){var lt=st("../utils"),pt=st("../support"),ut=st("./ArrayReader"),gt=st("./StringReader"),ct=st("./NodeBufferReader"),at=st("./Uint8ArrayReader");W.exports=function(At){var yt=lt.getTypeOf(At);return lt.checkSupport(yt),yt!=="string"||pt.uint8array?yt==="nodebuffer"?new ct(At):pt.uint8array?new at(lt.transformTo("uint8array",At)):new ut(lt.transformTo("array",At)):new gt(At)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(st,W,Tt){Tt.LOCAL_FILE_HEADER="PK",Tt.CENTRAL_FILE_HEADER="PK",Tt.CENTRAL_DIRECTORY_END="PK",Tt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",Tt.ZIP64_CENTRAL_DIRECTORY_END="PK",Tt.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(st,W,Tt){var lt=st("./GenericWorker"),pt=st("../utils");function ut(gt){lt.call(this,"ConvertWorker to "+gt),this.destType=gt}pt.inherits(ut,lt),ut.prototype.processChunk=function(gt){this.push({data:pt.transformTo(this.destType,gt.data),meta:gt.meta})},W.exports=ut},{"../utils":32,"./GenericWorker":28}],25:[function(st,W,Tt){var lt=st("./GenericWorker"),pt=st("../crc32");function ut(){lt.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}st("../utils").inherits(ut,lt),ut.prototype.processChunk=function(gt){this.streamInfo.crc32=pt(gt.data,this.streamInfo.crc32||0),this.push(gt)},W.exports=ut},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(st,W,Tt){var lt=st("../utils"),pt=st("./GenericWorker");function ut(gt){pt.call(this,"DataLengthProbe for "+gt),this.propName=gt,this.withStreamInfo(gt,0)}lt.inherits(ut,pt),ut.prototype.processChunk=function(gt){if(gt){var ct=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=ct+gt.data.length}pt.prototype.processChunk.call(this,gt)},W.exports=ut},{"../utils":32,"./GenericWorker":28}],27:[function(st,W,Tt){var lt=st("../utils"),pt=st("./GenericWorker");function ut(gt){pt.call(this,"DataWorker");var ct=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,gt.then(function(at){ct.dataIsReady=!0,ct.data=at,ct.max=at&&at.length||0,ct.type=lt.getTypeOf(at),ct.isPaused||ct._tickAndRepeat()},function(at){ct.error(at)})}lt.inherits(ut,pt),ut.prototype.cleanUp=function(){pt.prototype.cleanUp.call(this),this.data=null},ut.prototype.resume=function(){return!!pt.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,lt.delay(this._tickAndRepeat,[],this)),!0)},ut.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(lt.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},ut.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var gt=null,ct=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":gt=this.data.substring(this.index,ct);break;case"uint8array":gt=this.data.subarray(this.index,ct);break;case"array":case"nodebuffer":gt=this.data.slice(this.index,ct)}return this.index=ct,this.push({data:gt,meta:{percent:this.max?this.index/this.max*100:0}})},W.exports=ut},{"../utils":32,"./GenericWorker":28}],28:[function(st,W,Tt){function lt(pt){this.name=pt||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}lt.prototype={push:function(pt){this.emit("data",pt)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(pt){this.emit("error",pt)}return!0},error:function(pt){return!this.isFinished&&(this.isPaused?this.generatedError=pt:(this.isFinished=!0,this.emit("error",pt),this.previous&&this.previous.error(pt),this.cleanUp()),!0)},on:function(pt,ut){return this._listeners[pt].push(ut),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(pt,ut){if(this._listeners[pt])for(var gt=0;gt<this._listeners[pt].length;gt++)this._listeners[pt][gt].call(this,ut)},pipe:function(pt){return pt.registerPrevious(this)},registerPrevious:function(pt){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=pt.streamInfo,this.mergeStreamInfo(),this.previous=pt;var ut=this;return pt.on("data",function(gt){ut.processChunk(gt)}),pt.on("end",function(){ut.end()}),pt.on("error",function(gt){ut.error(gt)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var pt=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),pt=!0),this.previous&&this.previous.resume(),!pt},flush:function(){},processChunk:function(pt){this.push(pt)},withStreamInfo:function(pt,ut){return this.extraStreamInfo[pt]=ut,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var pt in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(pt)&&(this.streamInfo[pt]=this.extraStreamInfo[pt])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var pt="Worker "+this.name;return this.previous?this.previous+" -> "+pt:pt}},W.exports=lt},{}],29:[function(st,W,Tt){var lt=st("../utils"),pt=st("./ConvertWorker"),ut=st("./GenericWorker"),gt=st("../base64"),ct=st("../support"),at=st("../external"),At=null;if(ct.nodestream)try{At=st("../nodejs/NodejsStreamOutputAdapter")}catch{}function yt(G,tt){return new at.Promise(function(nt,rt){var mt=[],dt=G._internalType,Et=G._outputType,Ct=G._mimeType;G.on("data",function(It,Nt){mt.push(It),tt&&tt(Nt)}).on("error",function(It){mt=[],rt(It)}).on("end",function(){try{var It=function(Nt,St,wt){switch(Nt){case"blob":return lt.newBlob(lt.transformTo("arraybuffer",St),wt);case"base64":return gt.encode(St);default:return lt.transformTo(Nt,St)}}(Et,function(Nt,St){var wt,Ot=0,Ut=null,vt=0;for(wt=0;wt<St.length;wt++)vt+=St[wt].length;switch(Nt){case"string":return St.join("");case"array":return Array.prototype.concat.apply([],St);case"uint8array":for(Ut=new Uint8Array(vt),wt=0;wt<St.length;wt++)Ut.set(St[wt],Ot),Ot+=St[wt].length;return Ut;case"nodebuffer":return Buffer.concat(St);default:throw new Error("concat : unsupported type '"+Nt+"'")}}(dt,mt),Ct);nt(It)}catch(Nt){rt(Nt)}mt=[]}).resume()})}function et(G,tt,nt){var rt=tt;switch(tt){case"blob":case"arraybuffer":rt="uint8array";break;case"base64":rt="string"}try{this._internalType=rt,this._outputType=tt,this._mimeType=nt,lt.checkSupport(rt),this._worker=G.pipe(new pt(rt)),G.lock()}catch(mt){this._worker=new ut("error"),this._worker.error(mt)}}et.prototype={accumulate:function(G){return yt(this,G)},on:function(G,tt){var nt=this;return G==="data"?this._worker.on(G,function(rt){tt.call(nt,rt.data,rt.meta)}):this._worker.on(G,function(){lt.delay(tt,arguments,nt)}),this},resume:function(){return lt.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(G){if(lt.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new At(this,{objectMode:this._outputType!=="nodebuffer"},G)}},W.exports=et},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(st,W,Tt){if(Tt.base64=!0,Tt.array=!0,Tt.string=!0,Tt.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",Tt.nodebuffer=typeof Buffer!="undefined",Tt.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")Tt.blob=!1;else{var lt=new ArrayBuffer(0);try{Tt.blob=new Blob([lt],{type:"application/zip"}).size===0}catch{try{var pt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);pt.append(lt),Tt.blob=pt.getBlob("application/zip").size===0}catch{Tt.blob=!1}}}try{Tt.nodestream=!!st("readable-stream").Readable}catch{Tt.nodestream=!1}},{"readable-stream":16}],31:[function(st,W,Tt){for(var lt=st("./utils"),pt=st("./support"),ut=st("./nodejsUtils"),gt=st("./stream/GenericWorker"),ct=new Array(256),at=0;at<256;at++)ct[at]=252<=at?6:248<=at?5:240<=at?4:224<=at?3:192<=at?2:1;ct[254]=ct[254]=1;function At(){gt.call(this,"utf-8 decode"),this.leftOver=null}function yt(){gt.call(this,"utf-8 encode")}Tt.utf8encode=function(et){return pt.nodebuffer?ut.newBufferFrom(et,"utf-8"):function(G){var tt,nt,rt,mt,dt,Et=G.length,Ct=0;for(mt=0;mt<Et;mt++)(64512&(nt=G.charCodeAt(mt)))==55296&&mt+1<Et&&(64512&(rt=G.charCodeAt(mt+1)))==56320&&(nt=65536+(nt-55296<<10)+(rt-56320),mt++),Ct+=nt<128?1:nt<2048?2:nt<65536?3:4;for(tt=pt.uint8array?new Uint8Array(Ct):new Array(Ct),mt=dt=0;dt<Ct;mt++)(64512&(nt=G.charCodeAt(mt)))==55296&&mt+1<Et&&(64512&(rt=G.charCodeAt(mt+1)))==56320&&(nt=65536+(nt-55296<<10)+(rt-56320),mt++),nt<128?tt[dt++]=nt:(nt<2048?tt[dt++]=192|nt>>>6:(nt<65536?tt[dt++]=224|nt>>>12:(tt[dt++]=240|nt>>>18,tt[dt++]=128|nt>>>12&63),tt[dt++]=128|nt>>>6&63),tt[dt++]=128|63&nt);return tt}(et)},Tt.utf8decode=function(et){return pt.nodebuffer?lt.transformTo("nodebuffer",et).toString("utf-8"):function(G){var tt,nt,rt,mt,dt=G.length,Et=new Array(2*dt);for(tt=nt=0;tt<dt;)if((rt=G[tt++])<128)Et[nt++]=rt;else if(4<(mt=ct[rt]))Et[nt++]=65533,tt+=mt-1;else{for(rt&=mt===2?31:mt===3?15:7;1<mt&&tt<dt;)rt=rt<<6|63&G[tt++],mt--;1<mt?Et[nt++]=65533:rt<65536?Et[nt++]=rt:(rt-=65536,Et[nt++]=55296|rt>>10&1023,Et[nt++]=56320|1023&rt)}return Et.length!==nt&&(Et.subarray?Et=Et.subarray(0,nt):Et.length=nt),lt.applyFromCharCode(Et)}(et=lt.transformTo(pt.uint8array?"uint8array":"array",et))},lt.inherits(At,gt),At.prototype.processChunk=function(et){var G=lt.transformTo(pt.uint8array?"uint8array":"array",et.data);if(this.leftOver&&this.leftOver.length){if(pt.uint8array){var tt=G;(G=new Uint8Array(tt.length+this.leftOver.length)).set(this.leftOver,0),G.set(tt,this.leftOver.length)}else G=this.leftOver.concat(G);this.leftOver=null}var nt=function(mt,dt){var Et;for((dt=dt||mt.length)>mt.length&&(dt=mt.length),Et=dt-1;0<=Et&&(192&mt[Et])==128;)Et--;return Et<0||Et===0?dt:Et+ct[mt[Et]]>dt?Et:dt}(G),rt=G;nt!==G.length&&(pt.uint8array?(rt=G.subarray(0,nt),this.leftOver=G.subarray(nt,G.length)):(rt=G.slice(0,nt),this.leftOver=G.slice(nt,G.length))),this.push({data:Tt.utf8decode(rt),meta:et.meta})},At.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Tt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},Tt.Utf8DecodeWorker=At,lt.inherits(yt,gt),yt.prototype.processChunk=function(et){this.push({data:Tt.utf8encode(et.data),meta:et.meta})},Tt.Utf8EncodeWorker=yt},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(st,W,Tt){var lt=st("./support"),pt=st("./base64"),ut=st("./nodejsUtils"),gt=st("./external");function ct(tt){return tt}function at(tt,nt){for(var rt=0;rt<tt.length;++rt)nt[rt]=255&tt.charCodeAt(rt);return nt}st("setimmediate"),Tt.newBlob=function(tt,nt){Tt.checkSupport("blob");try{return new Blob([tt],{type:nt})}catch{try{var rt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return rt.append(tt),rt.getBlob(nt)}catch{throw new Error("Bug : can't construct the Blob.")}}};var At={stringifyByChunk:function(tt,nt,rt){var mt=[],dt=0,Et=tt.length;if(Et<=rt)return String.fromCharCode.apply(null,tt);for(;dt<Et;)nt==="array"||nt==="nodebuffer"?mt.push(String.fromCharCode.apply(null,tt.slice(dt,Math.min(dt+rt,Et)))):mt.push(String.fromCharCode.apply(null,tt.subarray(dt,Math.min(dt+rt,Et)))),dt+=rt;return mt.join("")},stringifyByChar:function(tt){for(var nt="",rt=0;rt<tt.length;rt++)nt+=String.fromCharCode(tt[rt]);return nt},applyCanBeUsed:{uint8array:function(){try{return lt.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return lt.nodebuffer&&String.fromCharCode.apply(null,ut.allocBuffer(1)).length===1}catch{return!1}}()}};function yt(tt){var nt=65536,rt=Tt.getTypeOf(tt),mt=!0;if(rt==="uint8array"?mt=At.applyCanBeUsed.uint8array:rt==="nodebuffer"&&(mt=At.applyCanBeUsed.nodebuffer),mt)for(;1<nt;)try{return At.stringifyByChunk(tt,rt,nt)}catch{nt=Math.floor(nt/2)}return At.stringifyByChar(tt)}function et(tt,nt){for(var rt=0;rt<tt.length;rt++)nt[rt]=tt[rt];return nt}Tt.applyFromCharCode=yt;var G={};G.string={string:ct,array:function(tt){return at(tt,new Array(tt.length))},arraybuffer:function(tt){return G.string.uint8array(tt).buffer},uint8array:function(tt){return at(tt,new Uint8Array(tt.length))},nodebuffer:function(tt){return at(tt,ut.allocBuffer(tt.length))}},G.array={string:yt,array:ct,arraybuffer:function(tt){return new Uint8Array(tt).buffer},uint8array:function(tt){return new Uint8Array(tt)},nodebuffer:function(tt){return ut.newBufferFrom(tt)}},G.arraybuffer={string:function(tt){return yt(new Uint8Array(tt))},array:function(tt){return et(new Uint8Array(tt),new Array(tt.byteLength))},arraybuffer:ct,uint8array:function(tt){return new Uint8Array(tt)},nodebuffer:function(tt){return ut.newBufferFrom(new Uint8Array(tt))}},G.uint8array={string:yt,array:function(tt){return et(tt,new Array(tt.length))},arraybuffer:function(tt){return tt.buffer},uint8array:ct,nodebuffer:function(tt){return ut.newBufferFrom(tt)}},G.nodebuffer={string:yt,array:function(tt){return et(tt,new Array(tt.length))},arraybuffer:function(tt){return G.nodebuffer.uint8array(tt).buffer},uint8array:function(tt){return et(tt,new Uint8Array(tt.length))},nodebuffer:ct},Tt.transformTo=function(tt,nt){if(nt=nt||"",!tt)return nt;Tt.checkSupport(tt);var rt=Tt.getTypeOf(nt);return G[rt][tt](nt)},Tt.resolve=function(tt){for(var nt=tt.split("/"),rt=[],mt=0;mt<nt.length;mt++){var dt=nt[mt];dt==="."||dt===""&&mt!==0&&mt!==nt.length-1||(dt===".."?rt.pop():rt.push(dt))}return rt.join("/")},Tt.getTypeOf=function(tt){return typeof tt=="string"?"string":Object.prototype.toString.call(tt)==="[object Array]"?"array":lt.nodebuffer&&ut.isBuffer(tt)?"nodebuffer":lt.uint8array&&tt instanceof Uint8Array?"uint8array":lt.arraybuffer&&tt instanceof ArrayBuffer?"arraybuffer":void 0},Tt.checkSupport=function(tt){if(!lt[tt.toLowerCase()])throw new Error(tt+" is not supported by this platform")},Tt.MAX_VALUE_16BITS=65535,Tt.MAX_VALUE_32BITS=-1,Tt.pretty=function(tt){var nt,rt,mt="";for(rt=0;rt<(tt||"").length;rt++)mt+="\\x"+((nt=tt.charCodeAt(rt))<16?"0":"")+nt.toString(16).toUpperCase();return mt},Tt.delay=function(tt,nt,rt){setImmediate(function(){tt.apply(rt||null,nt||[])})},Tt.inherits=function(tt,nt){function rt(){}rt.prototype=nt.prototype,tt.prototype=new rt},Tt.extend=function(){var tt,nt,rt={};for(tt=0;tt<arguments.length;tt++)for(nt in arguments[tt])arguments[tt].hasOwnProperty(nt)&&rt[nt]===void 0&&(rt[nt]=arguments[tt][nt]);return rt},Tt.prepareContent=function(tt,nt,rt,mt,dt){return gt.Promise.resolve(nt).then(function(Et){return lt.blob&&(Et instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Et))!==-1)&&typeof FileReader!="undefined"?new gt.Promise(function(Ct,It){var Nt=new FileReader;Nt.onload=function(St){Ct(St.target.result)},Nt.onerror=function(St){It(St.target.error)},Nt.readAsArrayBuffer(Et)}):Et}).then(function(Et){var Ct=Tt.getTypeOf(Et);return Ct?(Ct==="arraybuffer"?Et=Tt.transformTo("uint8array",Et):Ct==="string"&&(dt?Et=pt.decode(Et):rt&&mt!==!0&&(Et=function(It){return at(It,lt.uint8array?new Uint8Array(It.length):new Array(It.length))}(Et))),Et):gt.Promise.reject(new Error("Can't read the data of '"+tt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(st,W,Tt){var lt=st("./reader/readerFor"),pt=st("./utils"),ut=st("./signature"),gt=st("./zipEntry"),ct=(st("./utf8"),st("./support"));function at(At){this.files=[],this.loadOptions=At}at.prototype={checkSignature:function(At){if(!this.reader.readAndCheckSignature(At)){this.reader.index-=4;var yt=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+pt.pretty(yt)+", expected "+pt.pretty(At)+")")}},isSignature:function(At,yt){var et=this.reader.index;this.reader.setIndex(At);var G=this.reader.readString(4)===yt;return this.reader.setIndex(et),G},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var At=this.reader.readData(this.zipCommentLength),yt=ct.uint8array?"uint8array":"array",et=pt.transformTo(yt,At);this.zipComment=this.loadOptions.decodeFileName(et)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var At,yt,et,G=this.zip64EndOfCentralSize-44;0<G;)At=this.reader.readInt(2),yt=this.reader.readInt(4),et=this.reader.readData(yt),this.zip64ExtensibleData[At]={id:At,length:yt,value:et}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var At,yt;for(At=0;At<this.files.length;At++)yt=this.files[At],this.reader.setIndex(yt.localHeaderOffset),this.checkSignature(ut.LOCAL_FILE_HEADER),yt.readLocalPart(this.reader),yt.handleUTF8(),yt.processAttributes()},readCentralDir:function(){var At;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(ut.CENTRAL_FILE_HEADER);)(At=new gt({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(At);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var At=this.reader.lastIndexOfSignature(ut.CENTRAL_DIRECTORY_END);if(At<0)throw this.isSignature(0,ut.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(At);var yt=At;if(this.checkSignature(ut.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===pt.MAX_VALUE_16BITS||this.diskWithCentralDirStart===pt.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===pt.MAX_VALUE_16BITS||this.centralDirRecords===pt.MAX_VALUE_16BITS||this.centralDirSize===pt.MAX_VALUE_32BITS||this.centralDirOffset===pt.MAX_VALUE_32BITS){if(this.zip64=!0,(At=this.reader.lastIndexOfSignature(ut.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(At),this.checkSignature(ut.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,ut.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(ut.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(ut.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var et=this.centralDirOffset+this.centralDirSize;this.zip64&&(et+=20,et+=12+this.zip64EndOfCentralSize);var G=yt-et;if(0<G)this.isSignature(yt,ut.CENTRAL_FILE_HEADER)||(this.reader.zero=G);else if(G<0)throw new Error("Corrupted zip: missing "+Math.abs(G)+" bytes.")},prepareReader:function(At){this.reader=lt(At)},load:function(At){this.prepareReader(At),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},W.exports=at},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(st,W,Tt){var lt=st("./reader/readerFor"),pt=st("./utils"),ut=st("./compressedObject"),gt=st("./crc32"),ct=st("./utf8"),at=st("./compressions"),At=st("./support");function yt(et,G){this.options=et,this.loadOptions=G}yt.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(et){var G,tt;if(et.skip(22),this.fileNameLength=et.readInt(2),tt=et.readInt(2),this.fileName=et.readData(this.fileNameLength),et.skip(tt),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((G=function(nt){for(var rt in at)if(at.hasOwnProperty(rt)&&at[rt].magic===nt)return at[rt];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+pt.pretty(this.compressionMethod)+" unknown (inner file : "+pt.transformTo("string",this.fileName)+")");this.decompressed=new ut(this.compressedSize,this.uncompressedSize,this.crc32,G,et.readData(this.compressedSize))},readCentralPart:function(et){this.versionMadeBy=et.readInt(2),et.skip(2),this.bitFlag=et.readInt(2),this.compressionMethod=et.readString(2),this.date=et.readDate(),this.crc32=et.readInt(4),this.compressedSize=et.readInt(4),this.uncompressedSize=et.readInt(4);var G=et.readInt(2);if(this.extraFieldsLength=et.readInt(2),this.fileCommentLength=et.readInt(2),this.diskNumberStart=et.readInt(2),this.internalFileAttributes=et.readInt(2),this.externalFileAttributes=et.readInt(4),this.localHeaderOffset=et.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");et.skip(G),this.readExtraFields(et),this.parseZIP64ExtraField(et),this.fileComment=et.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var et=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),et==0&&(this.dosPermissions=63&this.externalFileAttributes),et==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(et){if(this.extraFields[1]){var G=lt(this.extraFields[1].value);this.uncompressedSize===pt.MAX_VALUE_32BITS&&(this.uncompressedSize=G.readInt(8)),this.compressedSize===pt.MAX_VALUE_32BITS&&(this.compressedSize=G.readInt(8)),this.localHeaderOffset===pt.MAX_VALUE_32BITS&&(this.localHeaderOffset=G.readInt(8)),this.diskNumberStart===pt.MAX_VALUE_32BITS&&(this.diskNumberStart=G.readInt(4))}},readExtraFields:function(et){var G,tt,nt,rt=et.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});et.index+4<rt;)G=et.readInt(2),tt=et.readInt(2),nt=et.readData(tt),this.extraFields[G]={id:G,length:tt,value:nt};et.setIndex(rt)},handleUTF8:function(){var et=At.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ct.utf8decode(this.fileName),this.fileCommentStr=ct.utf8decode(this.fileComment);else{var G=this.findExtraFieldUnicodePath();if(G!==null)this.fileNameStr=G;else{var tt=pt.transformTo(et,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(tt)}var nt=this.findExtraFieldUnicodeComment();if(nt!==null)this.fileCommentStr=nt;else{var rt=pt.transformTo(et,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(rt)}}},findExtraFieldUnicodePath:function(){var et=this.extraFields[28789];if(et){var G=lt(et.value);return G.readInt(1)!==1||gt(this.fileName)!==G.readInt(4)?null:ct.utf8decode(G.readData(et.length-5))}return null},findExtraFieldUnicodeComment:function(){var et=this.extraFields[25461];if(et){var G=lt(et.value);return G.readInt(1)!==1||gt(this.fileComment)!==G.readInt(4)?null:ct.utf8decode(G.readData(et.length-5))}return null}},W.exports=yt},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(st,W,Tt){function lt(G,tt,nt){this.name=G,this.dir=nt.dir,this.date=nt.date,this.comment=nt.comment,this.unixPermissions=nt.unixPermissions,this.dosPermissions=nt.dosPermissions,this._data=tt,this._dataBinary=nt.binary,this.options={compression:nt.compression,compressionOptions:nt.compressionOptions}}var pt=st("./stream/StreamHelper"),ut=st("./stream/DataWorker"),gt=st("./utf8"),ct=st("./compressedObject"),at=st("./stream/GenericWorker");lt.prototype={internalStream:function(G){var tt=null,nt="string";try{if(!G)throw new Error("No output type specified.");var rt=(nt=G.toLowerCase())==="string"||nt==="text";nt!=="binarystring"&&nt!=="text"||(nt="string"),tt=this._decompressWorker();var mt=!this._dataBinary;mt&&!rt&&(tt=tt.pipe(new gt.Utf8EncodeWorker)),!mt&&rt&&(tt=tt.pipe(new gt.Utf8DecodeWorker))}catch(dt){(tt=new at("error")).error(dt)}return new pt(tt,nt,"")},async:function(G,tt){return this.internalStream(G).accumulate(tt)},nodeStream:function(G,tt){return this.internalStream(G||"nodebuffer").toNodejsStream(tt)},_compressWorker:function(G,tt){if(this._data instanceof ct&&this._data.compression.magic===G.magic)return this._data.getCompressedWorker();var nt=this._decompressWorker();return this._dataBinary||(nt=nt.pipe(new gt.Utf8EncodeWorker)),ct.createWorkerFrom(nt,G,tt)},_decompressWorker:function(){return this._data instanceof ct?this._data.getContentWorker():this._data instanceof at?this._data:new ut(this._data)}};for(var At=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],yt=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},et=0;et<At.length;et++)lt.prototype[At[et]]=yt;W.exports=lt},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(st,W,Tt){(function(lt){var pt,ut,gt=lt.MutationObserver||lt.WebKitMutationObserver;if(gt){var ct=0,at=new gt(G),At=lt.document.createTextNode("");at.observe(At,{characterData:!0}),pt=function(){At.data=ct=++ct%2}}else if(lt.setImmediate||lt.MessageChannel===void 0)pt="document"in lt&&"onreadystatechange"in lt.document.createElement("script")?function(){var tt=lt.document.createElement("script");tt.onreadystatechange=function(){G(),tt.onreadystatechange=null,tt.parentNode.removeChild(tt),tt=null},lt.document.documentElement.appendChild(tt)}:function(){setTimeout(G,0)};else{var yt=new lt.MessageChannel;yt.port1.onmessage=G,pt=function(){yt.port2.postMessage(0)}}var et=[];function G(){var tt,nt;ut=!0;for(var rt=et.length;rt;){for(nt=et,et=[],tt=-1;++tt<rt;)nt[tt]();rt=et.length}ut=!1}W.exports=function(tt){et.push(tt)!==1||ut||pt()}}).call(this,typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(st,W,Tt){var lt=st("immediate");function pt(){}var ut={},gt=["REJECTED"],ct=["FULFILLED"],at=["PENDING"];function At(rt){if(typeof rt!="function")throw new TypeError("resolver must be a function");this.state=at,this.queue=[],this.outcome=void 0,rt!==pt&&tt(this,rt)}function yt(rt,mt,dt){this.promise=rt,typeof mt=="function"&&(this.onFulfilled=mt,this.callFulfilled=this.otherCallFulfilled),typeof dt=="function"&&(this.onRejected=dt,this.callRejected=this.otherCallRejected)}function et(rt,mt,dt){lt(function(){var Et;try{Et=mt(dt)}catch(Ct){return ut.reject(rt,Ct)}Et===rt?ut.reject(rt,new TypeError("Cannot resolve promise with itself")):ut.resolve(rt,Et)})}function G(rt){var mt=rt&&rt.then;if(rt&&(typeof rt=="object"||typeof rt=="function")&&typeof mt=="function")return function(){mt.apply(rt,arguments)}}function tt(rt,mt){var dt=!1;function Et(Nt){dt||(dt=!0,ut.reject(rt,Nt))}function Ct(Nt){dt||(dt=!0,ut.resolve(rt,Nt))}var It=nt(function(){mt(Ct,Et)});It.status==="error"&&Et(It.value)}function nt(rt,mt){var dt={};try{dt.value=rt(mt),dt.status="success"}catch(Et){dt.status="error",dt.value=Et}return dt}(W.exports=At).prototype.finally=function(rt){if(typeof rt!="function")return this;var mt=this.constructor;return this.then(function(dt){return mt.resolve(rt()).then(function(){return dt})},function(dt){return mt.resolve(rt()).then(function(){throw dt})})},At.prototype.catch=function(rt){return this.then(null,rt)},At.prototype.then=function(rt,mt){if(typeof rt!="function"&&this.state===ct||typeof mt!="function"&&this.state===gt)return this;var dt=new this.constructor(pt);return this.state!==at?et(dt,this.state===ct?rt:mt,this.outcome):this.queue.push(new yt(dt,rt,mt)),dt},yt.prototype.callFulfilled=function(rt){ut.resolve(this.promise,rt)},yt.prototype.otherCallFulfilled=function(rt){et(this.promise,this.onFulfilled,rt)},yt.prototype.callRejected=function(rt){ut.reject(this.promise,rt)},yt.prototype.otherCallRejected=function(rt){et(this.promise,this.onRejected,rt)},ut.resolve=function(rt,mt){var dt=nt(G,mt);if(dt.status==="error")return ut.reject(rt,dt.value);var Et=dt.value;if(Et)tt(rt,Et);else{rt.state=ct,rt.outcome=mt;for(var Ct=-1,It=rt.queue.length;++Ct<It;)rt.queue[Ct].callFulfilled(mt)}return rt},ut.reject=function(rt,mt){rt.state=gt,rt.outcome=mt;for(var dt=-1,Et=rt.queue.length;++dt<Et;)rt.queue[dt].callRejected(mt);return rt},At.resolve=function(rt){return rt instanceof this?rt:ut.resolve(new this(pt),rt)},At.reject=function(rt){var mt=new this(pt);return ut.reject(mt,rt)},At.all=function(rt){var mt=this;if(Object.prototype.toString.call(rt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var dt=rt.length,Et=!1;if(!dt)return this.resolve([]);for(var Ct=new Array(dt),It=0,Nt=-1,St=new this(pt);++Nt<dt;)wt(rt[Nt],Nt);return St;function wt(Ot,Ut){mt.resolve(Ot).then(function(vt){Ct[Ut]=vt,++It!==dt||Et||(Et=!0,ut.resolve(St,Ct))},function(vt){Et||(Et=!0,ut.reject(St,vt))})}},At.race=function(rt){var mt=this;if(Object.prototype.toString.call(rt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var dt=rt.length,Et=!1;if(!dt)return this.resolve([]);for(var Ct=-1,It=new this(pt);++Ct<dt;)Nt=rt[Ct],mt.resolve(Nt).then(function(St){Et||(Et=!0,ut.resolve(It,St))},function(St){Et||(Et=!0,ut.reject(It,St))});var Nt;return It}},{immediate:36}],38:[function(st,W,Tt){var lt={};(0,st("./lib/utils/common").assign)(lt,st("./lib/deflate"),st("./lib/inflate"),st("./lib/zlib/constants")),W.exports=lt},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(st,W,Tt){var lt=st("./zlib/deflate"),pt=st("./utils/common"),ut=st("./utils/strings"),gt=st("./zlib/messages"),ct=st("./zlib/zstream"),at=Object.prototype.toString,At=0,yt=-1,et=0,G=8;function tt(rt){if(!(this instanceof tt))return new tt(rt);this.options=pt.assign({level:yt,method:G,chunkSize:16384,windowBits:15,memLevel:8,strategy:et,to:""},rt||{});var mt=this.options;mt.raw&&0<mt.windowBits?mt.windowBits=-mt.windowBits:mt.gzip&&0<mt.windowBits&&mt.windowBits<16&&(mt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ct,this.strm.avail_out=0;var dt=lt.deflateInit2(this.strm,mt.level,mt.method,mt.windowBits,mt.memLevel,mt.strategy);if(dt!==At)throw new Error(gt[dt]);if(mt.header&&lt.deflateSetHeader(this.strm,mt.header),mt.dictionary){var Et;if(Et=typeof mt.dictionary=="string"?ut.string2buf(mt.dictionary):at.call(mt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(mt.dictionary):mt.dictionary,(dt=lt.deflateSetDictionary(this.strm,Et))!==At)throw new Error(gt[dt]);this._dict_set=!0}}function nt(rt,mt){var dt=new tt(mt);if(dt.push(rt,!0),dt.err)throw dt.msg||gt[dt.err];return dt.result}tt.prototype.push=function(rt,mt){var dt,Et,Ct=this.strm,It=this.options.chunkSize;if(this.ended)return!1;Et=mt===~~mt?mt:mt===!0?4:0,typeof rt=="string"?Ct.input=ut.string2buf(rt):at.call(rt)==="[object ArrayBuffer]"?Ct.input=new Uint8Array(rt):Ct.input=rt,Ct.next_in=0,Ct.avail_in=Ct.input.length;do{if(Ct.avail_out===0&&(Ct.output=new pt.Buf8(It),Ct.next_out=0,Ct.avail_out=It),(dt=lt.deflate(Ct,Et))!==1&&dt!==At)return this.onEnd(dt),!(this.ended=!0);Ct.avail_out!==0&&(Ct.avail_in!==0||Et!==4&&Et!==2)||(this.options.to==="string"?this.onData(ut.buf2binstring(pt.shrinkBuf(Ct.output,Ct.next_out))):this.onData(pt.shrinkBuf(Ct.output,Ct.next_out)))}while((0<Ct.avail_in||Ct.avail_out===0)&&dt!==1);return Et===4?(dt=lt.deflateEnd(this.strm),this.onEnd(dt),this.ended=!0,dt===At):Et!==2||(this.onEnd(At),!(Ct.avail_out=0))},tt.prototype.onData=function(rt){this.chunks.push(rt)},tt.prototype.onEnd=function(rt){rt===At&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=pt.flattenChunks(this.chunks)),this.chunks=[],this.err=rt,this.msg=this.strm.msg},Tt.Deflate=tt,Tt.deflate=nt,Tt.deflateRaw=function(rt,mt){return(mt=mt||{}).raw=!0,nt(rt,mt)},Tt.gzip=function(rt,mt){return(mt=mt||{}).gzip=!0,nt(rt,mt)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(st,W,Tt){var lt=st("./zlib/inflate"),pt=st("./utils/common"),ut=st("./utils/strings"),gt=st("./zlib/constants"),ct=st("./zlib/messages"),at=st("./zlib/zstream"),At=st("./zlib/gzheader"),yt=Object.prototype.toString;function et(tt){if(!(this instanceof et))return new et(tt);this.options=pt.assign({chunkSize:16384,windowBits:0,to:""},tt||{});var nt=this.options;nt.raw&&0<=nt.windowBits&&nt.windowBits<16&&(nt.windowBits=-nt.windowBits,nt.windowBits===0&&(nt.windowBits=-15)),!(0<=nt.windowBits&&nt.windowBits<16)||tt&&tt.windowBits||(nt.windowBits+=32),15<nt.windowBits&&nt.windowBits<48&&(15&nt.windowBits)==0&&(nt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new at,this.strm.avail_out=0;var rt=lt.inflateInit2(this.strm,nt.windowBits);if(rt!==gt.Z_OK)throw new Error(ct[rt]);this.header=new At,lt.inflateGetHeader(this.strm,this.header)}function G(tt,nt){var rt=new et(nt);if(rt.push(tt,!0),rt.err)throw rt.msg||ct[rt.err];return rt.result}et.prototype.push=function(tt,nt){var rt,mt,dt,Et,Ct,It,Nt=this.strm,St=this.options.chunkSize,wt=this.options.dictionary,Ot=!1;if(this.ended)return!1;mt=nt===~~nt?nt:nt===!0?gt.Z_FINISH:gt.Z_NO_FLUSH,typeof tt=="string"?Nt.input=ut.binstring2buf(tt):yt.call(tt)==="[object ArrayBuffer]"?Nt.input=new Uint8Array(tt):Nt.input=tt,Nt.next_in=0,Nt.avail_in=Nt.input.length;do{if(Nt.avail_out===0&&(Nt.output=new pt.Buf8(St),Nt.next_out=0,Nt.avail_out=St),(rt=lt.inflate(Nt,gt.Z_NO_FLUSH))===gt.Z_NEED_DICT&&wt&&(It=typeof wt=="string"?ut.string2buf(wt):yt.call(wt)==="[object ArrayBuffer]"?new Uint8Array(wt):wt,rt=lt.inflateSetDictionary(this.strm,It)),rt===gt.Z_BUF_ERROR&&Ot===!0&&(rt=gt.Z_OK,Ot=!1),rt!==gt.Z_STREAM_END&&rt!==gt.Z_OK)return this.onEnd(rt),!(this.ended=!0);Nt.next_out&&(Nt.avail_out!==0&&rt!==gt.Z_STREAM_END&&(Nt.avail_in!==0||mt!==gt.Z_FINISH&&mt!==gt.Z_SYNC_FLUSH)||(this.options.to==="string"?(dt=ut.utf8border(Nt.output,Nt.next_out),Et=Nt.next_out-dt,Ct=ut.buf2string(Nt.output,dt),Nt.next_out=Et,Nt.avail_out=St-Et,Et&&pt.arraySet(Nt.output,Nt.output,dt,Et,0),this.onData(Ct)):this.onData(pt.shrinkBuf(Nt.output,Nt.next_out)))),Nt.avail_in===0&&Nt.avail_out===0&&(Ot=!0)}while((0<Nt.avail_in||Nt.avail_out===0)&&rt!==gt.Z_STREAM_END);return rt===gt.Z_STREAM_END&&(mt=gt.Z_FINISH),mt===gt.Z_FINISH?(rt=lt.inflateEnd(this.strm),this.onEnd(rt),this.ended=!0,rt===gt.Z_OK):mt!==gt.Z_SYNC_FLUSH||(this.onEnd(gt.Z_OK),!(Nt.avail_out=0))},et.prototype.onData=function(tt){this.chunks.push(tt)},et.prototype.onEnd=function(tt){tt===gt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=pt.flattenChunks(this.chunks)),this.chunks=[],this.err=tt,this.msg=this.strm.msg},Tt.Inflate=et,Tt.inflate=G,Tt.inflateRaw=function(tt,nt){return(nt=nt||{}).raw=!0,G(tt,nt)},Tt.ungzip=G},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(st,W,Tt){var lt=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";Tt.assign=function(gt){for(var ct=Array.prototype.slice.call(arguments,1);ct.length;){var at=ct.shift();if(at){if(typeof at!="object")throw new TypeError(at+"must be non-object");for(var At in at)at.hasOwnProperty(At)&&(gt[At]=at[At])}}return gt},Tt.shrinkBuf=function(gt,ct){return gt.length===ct?gt:gt.subarray?gt.subarray(0,ct):(gt.length=ct,gt)};var pt={arraySet:function(gt,ct,at,At,yt){if(ct.subarray&&gt.subarray)gt.set(ct.subarray(at,at+At),yt);else for(var et=0;et<At;et++)gt[yt+et]=ct[at+et]},flattenChunks:function(gt){var ct,at,At,yt,et,G;for(ct=At=0,at=gt.length;ct<at;ct++)At+=gt[ct].length;for(G=new Uint8Array(At),ct=yt=0,at=gt.length;ct<at;ct++)et=gt[ct],G.set(et,yt),yt+=et.length;return G}},ut={arraySet:function(gt,ct,at,At,yt){for(var et=0;et<At;et++)gt[yt+et]=ct[at+et]},flattenChunks:function(gt){return[].concat.apply([],gt)}};Tt.setTyped=function(gt){gt?(Tt.Buf8=Uint8Array,Tt.Buf16=Uint16Array,Tt.Buf32=Int32Array,Tt.assign(Tt,pt)):(Tt.Buf8=Array,Tt.Buf16=Array,Tt.Buf32=Array,Tt.assign(Tt,ut))},Tt.setTyped(lt)},{}],42:[function(st,W,Tt){var lt=st("./common"),pt=!0,ut=!0;try{String.fromCharCode.apply(null,[0])}catch{pt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ut=!1}for(var gt=new lt.Buf8(256),ct=0;ct<256;ct++)gt[ct]=252<=ct?6:248<=ct?5:240<=ct?4:224<=ct?3:192<=ct?2:1;function at(At,yt){if(yt<65537&&(At.subarray&&ut||!At.subarray&&pt))return String.fromCharCode.apply(null,lt.shrinkBuf(At,yt));for(var et="",G=0;G<yt;G++)et+=String.fromCharCode(At[G]);return et}gt[254]=gt[254]=1,Tt.string2buf=function(At){var yt,et,G,tt,nt,rt=At.length,mt=0;for(tt=0;tt<rt;tt++)(64512&(et=At.charCodeAt(tt)))==55296&&tt+1<rt&&(64512&(G=At.charCodeAt(tt+1)))==56320&&(et=65536+(et-55296<<10)+(G-56320),tt++),mt+=et<128?1:et<2048?2:et<65536?3:4;for(yt=new lt.Buf8(mt),tt=nt=0;nt<mt;tt++)(64512&(et=At.charCodeAt(tt)))==55296&&tt+1<rt&&(64512&(G=At.charCodeAt(tt+1)))==56320&&(et=65536+(et-55296<<10)+(G-56320),tt++),et<128?yt[nt++]=et:(et<2048?yt[nt++]=192|et>>>6:(et<65536?yt[nt++]=224|et>>>12:(yt[nt++]=240|et>>>18,yt[nt++]=128|et>>>12&63),yt[nt++]=128|et>>>6&63),yt[nt++]=128|63&et);return yt},Tt.buf2binstring=function(At){return at(At,At.length)},Tt.binstring2buf=function(At){for(var yt=new lt.Buf8(At.length),et=0,G=yt.length;et<G;et++)yt[et]=At.charCodeAt(et);return yt},Tt.buf2string=function(At,yt){var et,G,tt,nt,rt=yt||At.length,mt=new Array(2*rt);for(et=G=0;et<rt;)if((tt=At[et++])<128)mt[G++]=tt;else if(4<(nt=gt[tt]))mt[G++]=65533,et+=nt-1;else{for(tt&=nt===2?31:nt===3?15:7;1<nt&&et<rt;)tt=tt<<6|63&At[et++],nt--;1<nt?mt[G++]=65533:tt<65536?mt[G++]=tt:(tt-=65536,mt[G++]=55296|tt>>10&1023,mt[G++]=56320|1023&tt)}return at(mt,G)},Tt.utf8border=function(At,yt){var et;for((yt=yt||At.length)>At.length&&(yt=At.length),et=yt-1;0<=et&&(192&At[et])==128;)et--;return et<0||et===0?yt:et+gt[At[et]]>yt?et:yt}},{"./common":41}],43:[function(st,W,Tt){W.exports=function(lt,pt,ut,gt){for(var ct=65535&lt|0,at=lt>>>16&65535|0,At=0;ut!==0;){for(ut-=At=2e3<ut?2e3:ut;at=at+(ct=ct+pt[gt++]|0)|0,--At;);ct%=65521,at%=65521}return ct|at<<16|0}},{}],44:[function(st,W,Tt){W.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(st,W,Tt){var lt=function(){for(var pt,ut=[],gt=0;gt<256;gt++){pt=gt;for(var ct=0;ct<8;ct++)pt=1&pt?3988292384^pt>>>1:pt>>>1;ut[gt]=pt}return ut}();W.exports=function(pt,ut,gt,ct){var at=lt,At=ct+gt;pt^=-1;for(var yt=ct;yt<At;yt++)pt=pt>>>8^at[255&(pt^ut[yt])];return-1^pt}},{}],46:[function(st,W,Tt){var lt,pt=st("../utils/common"),ut=st("./trees"),gt=st("./adler32"),ct=st("./crc32"),at=st("./messages"),At=0,yt=4,et=0,G=-2,tt=-1,nt=4,rt=2,mt=8,dt=9,Et=286,Ct=30,It=19,Nt=2*Et+1,St=15,wt=3,Ot=258,Ut=Ot+wt+1,vt=42,Bt=113,ht=1,qt=2,re=3,Gt=4;function ne(it,Lt){return it.msg=at[Lt],Lt}function Kt(it){return(it<<1)-(4<it?9:0)}function ie(it){for(var Lt=it.length;0<=--Lt;)it[Lt]=0}function xt(it){var Lt=it.state,zt=Lt.pending;zt>it.avail_out&&(zt=it.avail_out),zt!==0&&(pt.arraySet(it.output,Lt.pending_buf,Lt.pending_out,zt,it.next_out),it.next_out+=zt,Lt.pending_out+=zt,it.total_out+=zt,it.avail_out-=zt,Lt.pending-=zt,Lt.pending===0&&(Lt.pending_out=0))}function ot(it,Lt){ut._tr_flush_block(it,0<=it.block_start?it.block_start:-1,it.strstart-it.block_start,Lt),it.block_start=it.strstart,xt(it.strm)}function _t(it,Lt){it.pending_buf[it.pending++]=Lt}function Pt(it,Lt){it.pending_buf[it.pending++]=Lt>>>8&255,it.pending_buf[it.pending++]=255&Lt}function R(it,Lt){var zt,Dt,Mt=it.max_chain_length,Wt=it.strstart,Vt=it.prev_length,ee=it.nice_match,Xt=it.strstart>it.w_size-Ut?it.strstart-(it.w_size-Ut):0,Jt=it.window,ae=it.w_mask,se=it.prev,oe=it.strstart+Ot,ce=Jt[Wt+Vt-1],he=Jt[Wt+Vt];it.prev_length>=it.good_match&&(Mt>>=2),ee>it.lookahead&&(ee=it.lookahead);do if(Jt[(zt=Lt)+Vt]===he&&Jt[zt+Vt-1]===ce&&Jt[zt]===Jt[Wt]&&Jt[++zt]===Jt[Wt+1]){Wt+=2,zt++;do;while(Jt[++Wt]===Jt[++zt]&&Jt[++Wt]===Jt[++zt]&&Jt[++Wt]===Jt[++zt]&&Jt[++Wt]===Jt[++zt]&&Jt[++Wt]===Jt[++zt]&&Jt[++Wt]===Jt[++zt]&&Jt[++Wt]===Jt[++zt]&&Jt[++Wt]===Jt[++zt]&&Wt<oe);if(Dt=Ot-(oe-Wt),Wt=oe-Ot,Vt<Dt){if(it.match_start=Lt,ee<=(Vt=Dt))break;ce=Jt[Wt+Vt-1],he=Jt[Wt+Vt]}}while((Lt=se[Lt&ae])>Xt&&--Mt!=0);return Vt<=it.lookahead?Vt:it.lookahead}function ft(it){var Lt,zt,Dt,Mt,Wt,Vt,ee,Xt,Jt,ae,se=it.w_size;do{if(Mt=it.window_size-it.lookahead-it.strstart,it.strstart>=se+(se-Ut)){for(pt.arraySet(it.window,it.window,se,se,0),it.match_start-=se,it.strstart-=se,it.block_start-=se,Lt=zt=it.hash_size;Dt=it.head[--Lt],it.head[Lt]=se<=Dt?Dt-se:0,--zt;);for(Lt=zt=se;Dt=it.prev[--Lt],it.prev[Lt]=se<=Dt?Dt-se:0,--zt;);Mt+=se}if(it.strm.avail_in===0)break;if(Vt=it.strm,ee=it.window,Xt=it.strstart+it.lookahead,Jt=Mt,ae=void 0,ae=Vt.avail_in,Jt<ae&&(ae=Jt),zt=ae===0?0:(Vt.avail_in-=ae,pt.arraySet(ee,Vt.input,Vt.next_in,ae,Xt),Vt.state.wrap===1?Vt.adler=gt(Vt.adler,ee,ae,Xt):Vt.state.wrap===2&&(Vt.adler=ct(Vt.adler,ee,ae,Xt)),Vt.next_in+=ae,Vt.total_in+=ae,ae),it.lookahead+=zt,it.lookahead+it.insert>=wt)for(Wt=it.strstart-it.insert,it.ins_h=it.window[Wt],it.ins_h=(it.ins_h<<it.hash_shift^it.window[Wt+1])&it.hash_mask;it.insert&&(it.ins_h=(it.ins_h<<it.hash_shift^it.window[Wt+wt-1])&it.hash_mask,it.prev[Wt&it.w_mask]=it.head[it.ins_h],it.head[it.ins_h]=Wt,Wt++,it.insert--,!(it.lookahead+it.insert<wt)););}while(it.lookahead<Ut&&it.strm.avail_in!==0)}function kt(it,Lt){for(var zt,Dt;;){if(it.lookahead<Ut){if(ft(it),it.lookahead<Ut&&Lt===At)return ht;if(it.lookahead===0)break}if(zt=0,it.lookahead>=wt&&(it.ins_h=(it.ins_h<<it.hash_shift^it.window[it.strstart+wt-1])&it.hash_mask,zt=it.prev[it.strstart&it.w_mask]=it.head[it.ins_h],it.head[it.ins_h]=it.strstart),zt!==0&&it.strstart-zt<=it.w_size-Ut&&(it.match_length=R(it,zt)),it.match_length>=wt)if(Dt=ut._tr_tally(it,it.strstart-it.match_start,it.match_length-wt),it.lookahead-=it.match_length,it.match_length<=it.max_lazy_match&&it.lookahead>=wt){for(it.match_length--;it.strstart++,it.ins_h=(it.ins_h<<it.hash_shift^it.window[it.strstart+wt-1])&it.hash_mask,zt=it.prev[it.strstart&it.w_mask]=it.head[it.ins_h],it.head[it.ins_h]=it.strstart,--it.match_length!=0;);it.strstart++}else it.strstart+=it.match_length,it.match_length=0,it.ins_h=it.window[it.strstart],it.ins_h=(it.ins_h<<it.hash_shift^it.window[it.strstart+1])&it.hash_mask;else Dt=ut._tr_tally(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++;if(Dt&&(ot(it,!1),it.strm.avail_out===0))return ht}return it.insert=it.strstart<wt-1?it.strstart:wt-1,Lt===yt?(ot(it,!0),it.strm.avail_out===0?re:Gt):it.last_lit&&(ot(it,!1),it.strm.avail_out===0)?ht:qt}function Rt(it,Lt){for(var zt,Dt,Mt;;){if(it.lookahead<Ut){if(ft(it),it.lookahead<Ut&&Lt===At)return ht;if(it.lookahead===0)break}if(zt=0,it.lookahead>=wt&&(it.ins_h=(it.ins_h<<it.hash_shift^it.window[it.strstart+wt-1])&it.hash_mask,zt=it.prev[it.strstart&it.w_mask]=it.head[it.ins_h],it.head[it.ins_h]=it.strstart),it.prev_length=it.match_length,it.prev_match=it.match_start,it.match_length=wt-1,zt!==0&&it.prev_length<it.max_lazy_match&&it.strstart-zt<=it.w_size-Ut&&(it.match_length=R(it,zt),it.match_length<=5&&(it.strategy===1||it.match_length===wt&&4096<it.strstart-it.match_start)&&(it.match_length=wt-1)),it.prev_length>=wt&&it.match_length<=it.prev_length){for(Mt=it.strstart+it.lookahead-wt,Dt=ut._tr_tally(it,it.strstart-1-it.prev_match,it.prev_length-wt),it.lookahead-=it.prev_length-1,it.prev_length-=2;++it.strstart<=Mt&&(it.ins_h=(it.ins_h<<it.hash_shift^it.window[it.strstart+wt-1])&it.hash_mask,zt=it.prev[it.strstart&it.w_mask]=it.head[it.ins_h],it.head[it.ins_h]=it.strstart),--it.prev_length!=0;);if(it.match_available=0,it.match_length=wt-1,it.strstart++,Dt&&(ot(it,!1),it.strm.avail_out===0))return ht}else if(it.match_available){if((Dt=ut._tr_tally(it,0,it.window[it.strstart-1]))&&ot(it,!1),it.strstart++,it.lookahead--,it.strm.avail_out===0)return ht}else it.match_available=1,it.strstart++,it.lookahead--}return it.match_available&&(Dt=ut._tr_tally(it,0,it.window[it.strstart-1]),it.match_available=0),it.insert=it.strstart<wt-1?it.strstart:wt-1,Lt===yt?(ot(it,!0),it.strm.avail_out===0?re:Gt):it.last_lit&&(ot(it,!1),it.strm.avail_out===0)?ht:qt}function Ft(it,Lt,zt,Dt,Mt){this.good_length=it,this.max_lazy=Lt,this.nice_length=zt,this.max_chain=Dt,this.func=Mt}function jt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new pt.Buf16(2*Nt),this.dyn_dtree=new pt.Buf16(2*(2*Ct+1)),this.bl_tree=new pt.Buf16(2*(2*It+1)),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new pt.Buf16(St+1),this.heap=new pt.Buf16(2*Et+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new pt.Buf16(2*Et+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $t(it){var Lt;return it&&it.state?(it.total_in=it.total_out=0,it.data_type=rt,(Lt=it.state).pending=0,Lt.pending_out=0,Lt.wrap<0&&(Lt.wrap=-Lt.wrap),Lt.status=Lt.wrap?vt:Bt,it.adler=Lt.wrap===2?0:1,Lt.last_flush=At,ut._tr_init(Lt),et):ne(it,G)}function Yt(it){var Lt=$t(it);return Lt===et&&function(zt){zt.window_size=2*zt.w_size,ie(zt.head),zt.max_lazy_match=lt[zt.level].max_lazy,zt.good_match=lt[zt.level].good_length,zt.nice_match=lt[zt.level].nice_length,zt.max_chain_length=lt[zt.level].max_chain,zt.strstart=0,zt.block_start=0,zt.lookahead=0,zt.insert=0,zt.match_length=zt.prev_length=wt-1,zt.match_available=0,zt.ins_h=0}(it.state),Lt}function Ht(it,Lt,zt,Dt,Mt,Wt){if(!it)return G;var Vt=1;if(Lt===tt&&(Lt=6),Dt<0?(Vt=0,Dt=-Dt):15<Dt&&(Vt=2,Dt-=16),Mt<1||dt<Mt||zt!==mt||Dt<8||15<Dt||Lt<0||9<Lt||Wt<0||nt<Wt)return ne(it,G);Dt===8&&(Dt=9);var ee=new jt;return(it.state=ee).strm=it,ee.wrap=Vt,ee.gzhead=null,ee.w_bits=Dt,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=Mt+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+wt-1)/wt),ee.window=new pt.Buf8(2*ee.w_size),ee.head=new pt.Buf16(ee.hash_size),ee.prev=new pt.Buf16(ee.w_size),ee.lit_bufsize=1<<Mt+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new pt.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=Lt,ee.strategy=Wt,ee.method=zt,Yt(it)}lt=[new Ft(0,0,0,0,function(it,Lt){var zt=65535;for(zt>it.pending_buf_size-5&&(zt=it.pending_buf_size-5);;){if(it.lookahead<=1){if(ft(it),it.lookahead===0&&Lt===At)return ht;if(it.lookahead===0)break}it.strstart+=it.lookahead,it.lookahead=0;var Dt=it.block_start+zt;if((it.strstart===0||it.strstart>=Dt)&&(it.lookahead=it.strstart-Dt,it.strstart=Dt,ot(it,!1),it.strm.avail_out===0)||it.strstart-it.block_start>=it.w_size-Ut&&(ot(it,!1),it.strm.avail_out===0))return ht}return it.insert=0,Lt===yt?(ot(it,!0),it.strm.avail_out===0?re:Gt):(it.strstart>it.block_start&&(ot(it,!1),it.strm.avail_out),ht)}),new Ft(4,4,8,4,kt),new Ft(4,5,16,8,kt),new Ft(4,6,32,32,kt),new Ft(4,4,16,16,Rt),new Ft(8,16,32,32,Rt),new Ft(8,16,128,128,Rt),new Ft(8,32,128,256,Rt),new Ft(32,128,258,1024,Rt),new Ft(32,258,258,4096,Rt)],Tt.deflateInit=function(it,Lt){return Ht(it,Lt,mt,15,8,0)},Tt.deflateInit2=Ht,Tt.deflateReset=Yt,Tt.deflateResetKeep=$t,Tt.deflateSetHeader=function(it,Lt){return it&&it.state?it.state.wrap!==2?G:(it.state.gzhead=Lt,et):G},Tt.deflate=function(it,Lt){var zt,Dt,Mt,Wt;if(!it||!it.state||5<Lt||Lt<0)return it?ne(it,G):G;if(Dt=it.state,!it.output||!it.input&&it.avail_in!==0||Dt.status===666&&Lt!==yt)return ne(it,it.avail_out===0?-5:G);if(Dt.strm=it,zt=Dt.last_flush,Dt.last_flush=Lt,Dt.status===vt)if(Dt.wrap===2)it.adler=0,_t(Dt,31),_t(Dt,139),_t(Dt,8),Dt.gzhead?(_t(Dt,(Dt.gzhead.text?1:0)+(Dt.gzhead.hcrc?2:0)+(Dt.gzhead.extra?4:0)+(Dt.gzhead.name?8:0)+(Dt.gzhead.comment?16:0)),_t(Dt,255&Dt.gzhead.time),_t(Dt,Dt.gzhead.time>>8&255),_t(Dt,Dt.gzhead.time>>16&255),_t(Dt,Dt.gzhead.time>>24&255),_t(Dt,Dt.level===9?2:2<=Dt.strategy||Dt.level<2?4:0),_t(Dt,255&Dt.gzhead.os),Dt.gzhead.extra&&Dt.gzhead.extra.length&&(_t(Dt,255&Dt.gzhead.extra.length),_t(Dt,Dt.gzhead.extra.length>>8&255)),Dt.gzhead.hcrc&&(it.adler=ct(it.adler,Dt.pending_buf,Dt.pending,0)),Dt.gzindex=0,Dt.status=69):(_t(Dt,0),_t(Dt,0),_t(Dt,0),_t(Dt,0),_t(Dt,0),_t(Dt,Dt.level===9?2:2<=Dt.strategy||Dt.level<2?4:0),_t(Dt,3),Dt.status=Bt);else{var Vt=mt+(Dt.w_bits-8<<4)<<8;Vt|=(2<=Dt.strategy||Dt.level<2?0:Dt.level<6?1:Dt.level===6?2:3)<<6,Dt.strstart!==0&&(Vt|=32),Vt+=31-Vt%31,Dt.status=Bt,Pt(Dt,Vt),Dt.strstart!==0&&(Pt(Dt,it.adler>>>16),Pt(Dt,65535&it.adler)),it.adler=1}if(Dt.status===69)if(Dt.gzhead.extra){for(Mt=Dt.pending;Dt.gzindex<(65535&Dt.gzhead.extra.length)&&(Dt.pending!==Dt.pending_buf_size||(Dt.gzhead.hcrc&&Dt.pending>Mt&&(it.adler=ct(it.adler,Dt.pending_buf,Dt.pending-Mt,Mt)),xt(it),Mt=Dt.pending,Dt.pending!==Dt.pending_buf_size));)_t(Dt,255&Dt.gzhead.extra[Dt.gzindex]),Dt.gzindex++;Dt.gzhead.hcrc&&Dt.pending>Mt&&(it.adler=ct(it.adler,Dt.pending_buf,Dt.pending-Mt,Mt)),Dt.gzindex===Dt.gzhead.extra.length&&(Dt.gzindex=0,Dt.status=73)}else Dt.status=73;if(Dt.status===73)if(Dt.gzhead.name){Mt=Dt.pending;do{if(Dt.pending===Dt.pending_buf_size&&(Dt.gzhead.hcrc&&Dt.pending>Mt&&(it.adler=ct(it.adler,Dt.pending_buf,Dt.pending-Mt,Mt)),xt(it),Mt=Dt.pending,Dt.pending===Dt.pending_buf_size)){Wt=1;break}Wt=Dt.gzindex<Dt.gzhead.name.length?255&Dt.gzhead.name.charCodeAt(Dt.gzindex++):0,_t(Dt,Wt)}while(Wt!==0);Dt.gzhead.hcrc&&Dt.pending>Mt&&(it.adler=ct(it.adler,Dt.pending_buf,Dt.pending-Mt,Mt)),Wt===0&&(Dt.gzindex=0,Dt.status=91)}else Dt.status=91;if(Dt.status===91)if(Dt.gzhead.comment){Mt=Dt.pending;do{if(Dt.pending===Dt.pending_buf_size&&(Dt.gzhead.hcrc&&Dt.pending>Mt&&(it.adler=ct(it.adler,Dt.pending_buf,Dt.pending-Mt,Mt)),xt(it),Mt=Dt.pending,Dt.pending===Dt.pending_buf_size)){Wt=1;break}Wt=Dt.gzindex<Dt.gzhead.comment.length?255&Dt.gzhead.comment.charCodeAt(Dt.gzindex++):0,_t(Dt,Wt)}while(Wt!==0);Dt.gzhead.hcrc&&Dt.pending>Mt&&(it.adler=ct(it.adler,Dt.pending_buf,Dt.pending-Mt,Mt)),Wt===0&&(Dt.status=103)}else Dt.status=103;if(Dt.status===103&&(Dt.gzhead.hcrc?(Dt.pending+2>Dt.pending_buf_size&&xt(it),Dt.pending+2<=Dt.pending_buf_size&&(_t(Dt,255&it.adler),_t(Dt,it.adler>>8&255),it.adler=0,Dt.status=Bt)):Dt.status=Bt),Dt.pending!==0){if(xt(it),it.avail_out===0)return Dt.last_flush=-1,et}else if(it.avail_in===0&&Kt(Lt)<=Kt(zt)&&Lt!==yt)return ne(it,-5);if(Dt.status===666&&it.avail_in!==0)return ne(it,-5);if(it.avail_in!==0||Dt.lookahead!==0||Lt!==At&&Dt.status!==666){var ee=Dt.strategy===2?function(Xt,Jt){for(var ae;;){if(Xt.lookahead===0&&(ft(Xt),Xt.lookahead===0)){if(Jt===At)return ht;break}if(Xt.match_length=0,ae=ut._tr_tally(Xt,0,Xt.window[Xt.strstart]),Xt.lookahead--,Xt.strstart++,ae&&(ot(Xt,!1),Xt.strm.avail_out===0))return ht}return Xt.insert=0,Jt===yt?(ot(Xt,!0),Xt.strm.avail_out===0?re:Gt):Xt.last_lit&&(ot(Xt,!1),Xt.strm.avail_out===0)?ht:qt}(Dt,Lt):Dt.strategy===3?function(Xt,Jt){for(var ae,se,oe,ce,he=Xt.window;;){if(Xt.lookahead<=Ot){if(ft(Xt),Xt.lookahead<=Ot&&Jt===At)return ht;if(Xt.lookahead===0)break}if(Xt.match_length=0,Xt.lookahead>=wt&&0<Xt.strstart&&(se=he[oe=Xt.strstart-1])===he[++oe]&&se===he[++oe]&&se===he[++oe]){ce=Xt.strstart+Ot;do;while(se===he[++oe]&&se===he[++oe]&&se===he[++oe]&&se===he[++oe]&&se===he[++oe]&&se===he[++oe]&&se===he[++oe]&&se===he[++oe]&&oe<ce);Xt.match_length=Ot-(ce-oe),Xt.match_length>Xt.lookahead&&(Xt.match_length=Xt.lookahead)}if(Xt.match_length>=wt?(ae=ut._tr_tally(Xt,1,Xt.match_length-wt),Xt.lookahead-=Xt.match_length,Xt.strstart+=Xt.match_length,Xt.match_length=0):(ae=ut._tr_tally(Xt,0,Xt.window[Xt.strstart]),Xt.lookahead--,Xt.strstart++),ae&&(ot(Xt,!1),Xt.strm.avail_out===0))return ht}return Xt.insert=0,Jt===yt?(ot(Xt,!0),Xt.strm.avail_out===0?re:Gt):Xt.last_lit&&(ot(Xt,!1),Xt.strm.avail_out===0)?ht:qt}(Dt,Lt):lt[Dt.level].func(Dt,Lt);if(ee!==re&&ee!==Gt||(Dt.status=666),ee===ht||ee===re)return it.avail_out===0&&(Dt.last_flush=-1),et;if(ee===qt&&(Lt===1?ut._tr_align(Dt):Lt!==5&&(ut._tr_stored_block(Dt,0,0,!1),Lt===3&&(ie(Dt.head),Dt.lookahead===0&&(Dt.strstart=0,Dt.block_start=0,Dt.insert=0))),xt(it),it.avail_out===0))return Dt.last_flush=-1,et}return Lt!==yt?et:Dt.wrap<=0?1:(Dt.wrap===2?(_t(Dt,255&it.adler),_t(Dt,it.adler>>8&255),_t(Dt,it.adler>>16&255),_t(Dt,it.adler>>24&255),_t(Dt,255&it.total_in),_t(Dt,it.total_in>>8&255),_t(Dt,it.total_in>>16&255),_t(Dt,it.total_in>>24&255)):(Pt(Dt,it.adler>>>16),Pt(Dt,65535&it.adler)),xt(it),0<Dt.wrap&&(Dt.wrap=-Dt.wrap),Dt.pending!==0?et:1)},Tt.deflateEnd=function(it){var Lt;return it&&it.state?(Lt=it.state.status)!==vt&&Lt!==69&&Lt!==73&&Lt!==91&&Lt!==103&&Lt!==Bt&&Lt!==666?ne(it,G):(it.state=null,Lt===Bt?ne(it,-3):et):G},Tt.deflateSetDictionary=function(it,Lt){var zt,Dt,Mt,Wt,Vt,ee,Xt,Jt,ae=Lt.length;if(!it||!it.state||(Wt=(zt=it.state).wrap)===2||Wt===1&&zt.status!==vt||zt.lookahead)return G;for(Wt===1&&(it.adler=gt(it.adler,Lt,ae,0)),zt.wrap=0,ae>=zt.w_size&&(Wt===0&&(ie(zt.head),zt.strstart=0,zt.block_start=0,zt.insert=0),Jt=new pt.Buf8(zt.w_size),pt.arraySet(Jt,Lt,ae-zt.w_size,zt.w_size,0),Lt=Jt,ae=zt.w_size),Vt=it.avail_in,ee=it.next_in,Xt=it.input,it.avail_in=ae,it.next_in=0,it.input=Lt,ft(zt);zt.lookahead>=wt;){for(Dt=zt.strstart,Mt=zt.lookahead-(wt-1);zt.ins_h=(zt.ins_h<<zt.hash_shift^zt.window[Dt+wt-1])&zt.hash_mask,zt.prev[Dt&zt.w_mask]=zt.head[zt.ins_h],zt.head[zt.ins_h]=Dt,Dt++,--Mt;);zt.strstart=Dt,zt.lookahead=wt-1,ft(zt)}return zt.strstart+=zt.lookahead,zt.block_start=zt.strstart,zt.insert=zt.lookahead,zt.lookahead=0,zt.match_length=zt.prev_length=wt-1,zt.match_available=0,it.next_in=ee,it.input=Xt,it.avail_in=Vt,zt.wrap=Wt,et},Tt.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(st,W,Tt){W.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(st,W,Tt){W.exports=function(lt,pt){var ut,gt,ct,at,At,yt,et,G,tt,nt,rt,mt,dt,Et,Ct,It,Nt,St,wt,Ot,Ut,vt,Bt,ht,qt;ut=lt.state,gt=lt.next_in,ht=lt.input,ct=gt+(lt.avail_in-5),at=lt.next_out,qt=lt.output,At=at-(pt-lt.avail_out),yt=at+(lt.avail_out-257),et=ut.dmax,G=ut.wsize,tt=ut.whave,nt=ut.wnext,rt=ut.window,mt=ut.hold,dt=ut.bits,Et=ut.lencode,Ct=ut.distcode,It=(1<<ut.lenbits)-1,Nt=(1<<ut.distbits)-1;t:do{dt<15&&(mt+=ht[gt++]<<dt,dt+=8,mt+=ht[gt++]<<dt,dt+=8),St=Et[mt&It];e:for(;;){if(mt>>>=wt=St>>>24,dt-=wt,(wt=St>>>16&255)===0)qt[at++]=65535&St;else{if(!(16&wt)){if((64&wt)==0){St=Et[(65535&St)+(mt&(1<<wt)-1)];continue e}if(32&wt){ut.mode=12;break t}lt.msg="invalid literal/length code",ut.mode=30;break t}Ot=65535&St,(wt&=15)&&(dt<wt&&(mt+=ht[gt++]<<dt,dt+=8),Ot+=mt&(1<<wt)-1,mt>>>=wt,dt-=wt),dt<15&&(mt+=ht[gt++]<<dt,dt+=8,mt+=ht[gt++]<<dt,dt+=8),St=Ct[mt&Nt];n:for(;;){if(mt>>>=wt=St>>>24,dt-=wt,!(16&(wt=St>>>16&255))){if((64&wt)==0){St=Ct[(65535&St)+(mt&(1<<wt)-1)];continue n}lt.msg="invalid distance code",ut.mode=30;break t}if(Ut=65535&St,dt<(wt&=15)&&(mt+=ht[gt++]<<dt,(dt+=8)<wt&&(mt+=ht[gt++]<<dt,dt+=8)),et<(Ut+=mt&(1<<wt)-1)){lt.msg="invalid distance too far back",ut.mode=30;break t}if(mt>>>=wt,dt-=wt,(wt=at-At)<Ut){if(tt<(wt=Ut-wt)&&ut.sane){lt.msg="invalid distance too far back",ut.mode=30;break t}if(Bt=rt,(vt=0)===nt){if(vt+=G-wt,wt<Ot){for(Ot-=wt;qt[at++]=rt[vt++],--wt;);vt=at-Ut,Bt=qt}}else if(nt<wt){if(vt+=G+nt-wt,(wt-=nt)<Ot){for(Ot-=wt;qt[at++]=rt[vt++],--wt;);if(vt=0,nt<Ot){for(Ot-=wt=nt;qt[at++]=rt[vt++],--wt;);vt=at-Ut,Bt=qt}}}else if(vt+=nt-wt,wt<Ot){for(Ot-=wt;qt[at++]=rt[vt++],--wt;);vt=at-Ut,Bt=qt}for(;2<Ot;)qt[at++]=Bt[vt++],qt[at++]=Bt[vt++],qt[at++]=Bt[vt++],Ot-=3;Ot&&(qt[at++]=Bt[vt++],1<Ot&&(qt[at++]=Bt[vt++]))}else{for(vt=at-Ut;qt[at++]=qt[vt++],qt[at++]=qt[vt++],qt[at++]=qt[vt++],2<(Ot-=3););Ot&&(qt[at++]=qt[vt++],1<Ot&&(qt[at++]=qt[vt++]))}break}}break}}while(gt<ct&&at<yt);gt-=Ot=dt>>3,mt&=(1<<(dt-=Ot<<3))-1,lt.next_in=gt,lt.next_out=at,lt.avail_in=gt<ct?ct-gt+5:5-(gt-ct),lt.avail_out=at<yt?yt-at+257:257-(at-yt),ut.hold=mt,ut.bits=dt}},{}],49:[function(st,W,Tt){var lt=st("../utils/common"),pt=st("./adler32"),ut=st("./crc32"),gt=st("./inffast"),ct=st("./inftrees"),at=1,At=2,yt=0,et=-2,G=1,tt=852,nt=592;function rt(vt){return(vt>>>24&255)+(vt>>>8&65280)+((65280&vt)<<8)+((255&vt)<<24)}function mt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new lt.Buf16(320),this.work=new lt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function dt(vt){var Bt;return vt&&vt.state?(Bt=vt.state,vt.total_in=vt.total_out=Bt.total=0,vt.msg="",Bt.wrap&&(vt.adler=1&Bt.wrap),Bt.mode=G,Bt.last=0,Bt.havedict=0,Bt.dmax=32768,Bt.head=null,Bt.hold=0,Bt.bits=0,Bt.lencode=Bt.lendyn=new lt.Buf32(tt),Bt.distcode=Bt.distdyn=new lt.Buf32(nt),Bt.sane=1,Bt.back=-1,yt):et}function Et(vt){var Bt;return vt&&vt.state?((Bt=vt.state).wsize=0,Bt.whave=0,Bt.wnext=0,dt(vt)):et}function Ct(vt,Bt){var ht,qt;return vt&&vt.state?(qt=vt.state,Bt<0?(ht=0,Bt=-Bt):(ht=1+(Bt>>4),Bt<48&&(Bt&=15)),Bt&&(Bt<8||15<Bt)?et:(qt.window!==null&&qt.wbits!==Bt&&(qt.window=null),qt.wrap=ht,qt.wbits=Bt,Et(vt))):et}function It(vt,Bt){var ht,qt;return vt?(qt=new mt,(vt.state=qt).window=null,(ht=Ct(vt,Bt))!==yt&&(vt.state=null),ht):et}var Nt,St,wt=!0;function Ot(vt){if(wt){var Bt;for(Nt=new lt.Buf32(512),St=new lt.Buf32(32),Bt=0;Bt<144;)vt.lens[Bt++]=8;for(;Bt<256;)vt.lens[Bt++]=9;for(;Bt<280;)vt.lens[Bt++]=7;for(;Bt<288;)vt.lens[Bt++]=8;for(ct(at,vt.lens,0,288,Nt,0,vt.work,{bits:9}),Bt=0;Bt<32;)vt.lens[Bt++]=5;ct(At,vt.lens,0,32,St,0,vt.work,{bits:5}),wt=!1}vt.lencode=Nt,vt.lenbits=9,vt.distcode=St,vt.distbits=5}function Ut(vt,Bt,ht,qt){var re,Gt=vt.state;return Gt.window===null&&(Gt.wsize=1<<Gt.wbits,Gt.wnext=0,Gt.whave=0,Gt.window=new lt.Buf8(Gt.wsize)),qt>=Gt.wsize?(lt.arraySet(Gt.window,Bt,ht-Gt.wsize,Gt.wsize,0),Gt.wnext=0,Gt.whave=Gt.wsize):(qt<(re=Gt.wsize-Gt.wnext)&&(re=qt),lt.arraySet(Gt.window,Bt,ht-qt,re,Gt.wnext),(qt-=re)?(lt.arraySet(Gt.window,Bt,ht-qt,qt,0),Gt.wnext=qt,Gt.whave=Gt.wsize):(Gt.wnext+=re,Gt.wnext===Gt.wsize&&(Gt.wnext=0),Gt.whave<Gt.wsize&&(Gt.whave+=re))),0}Tt.inflateReset=Et,Tt.inflateReset2=Ct,Tt.inflateResetKeep=dt,Tt.inflateInit=function(vt){return It(vt,15)},Tt.inflateInit2=It,Tt.inflate=function(vt,Bt){var ht,qt,re,Gt,ne,Kt,ie,xt,ot,_t,Pt,R,ft,kt,Rt,Ft,jt,$t,Yt,Ht,it,Lt,zt,Dt,Mt=0,Wt=new lt.Buf8(4),Vt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!vt||!vt.state||!vt.output||!vt.input&&vt.avail_in!==0)return et;(ht=vt.state).mode===12&&(ht.mode=13),ne=vt.next_out,re=vt.output,ie=vt.avail_out,Gt=vt.next_in,qt=vt.input,Kt=vt.avail_in,xt=ht.hold,ot=ht.bits,_t=Kt,Pt=ie,Lt=yt;t:for(;;)switch(ht.mode){case G:if(ht.wrap===0){ht.mode=13;break}for(;ot<16;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if(2&ht.wrap&&xt===35615){Wt[ht.check=0]=255&xt,Wt[1]=xt>>>8&255,ht.check=ut(ht.check,Wt,2,0),ot=xt=0,ht.mode=2;break}if(ht.flags=0,ht.head&&(ht.head.done=!1),!(1&ht.wrap)||(((255&xt)<<8)+(xt>>8))%31){vt.msg="incorrect header check",ht.mode=30;break}if((15&xt)!=8){vt.msg="unknown compression method",ht.mode=30;break}if(ot-=4,it=8+(15&(xt>>>=4)),ht.wbits===0)ht.wbits=it;else if(it>ht.wbits){vt.msg="invalid window size",ht.mode=30;break}ht.dmax=1<<it,vt.adler=ht.check=1,ht.mode=512&xt?10:12,ot=xt=0;break;case 2:for(;ot<16;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if(ht.flags=xt,(255&ht.flags)!=8){vt.msg="unknown compression method",ht.mode=30;break}if(57344&ht.flags){vt.msg="unknown header flags set",ht.mode=30;break}ht.head&&(ht.head.text=xt>>8&1),512&ht.flags&&(Wt[0]=255&xt,Wt[1]=xt>>>8&255,ht.check=ut(ht.check,Wt,2,0)),ot=xt=0,ht.mode=3;case 3:for(;ot<32;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}ht.head&&(ht.head.time=xt),512&ht.flags&&(Wt[0]=255&xt,Wt[1]=xt>>>8&255,Wt[2]=xt>>>16&255,Wt[3]=xt>>>24&255,ht.check=ut(ht.check,Wt,4,0)),ot=xt=0,ht.mode=4;case 4:for(;ot<16;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}ht.head&&(ht.head.xflags=255&xt,ht.head.os=xt>>8),512&ht.flags&&(Wt[0]=255&xt,Wt[1]=xt>>>8&255,ht.check=ut(ht.check,Wt,2,0)),ot=xt=0,ht.mode=5;case 5:if(1024&ht.flags){for(;ot<16;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}ht.length=xt,ht.head&&(ht.head.extra_len=xt),512&ht.flags&&(Wt[0]=255&xt,Wt[1]=xt>>>8&255,ht.check=ut(ht.check,Wt,2,0)),ot=xt=0}else ht.head&&(ht.head.extra=null);ht.mode=6;case 6:if(1024&ht.flags&&(Kt<(R=ht.length)&&(R=Kt),R&&(ht.head&&(it=ht.head.extra_len-ht.length,ht.head.extra||(ht.head.extra=new Array(ht.head.extra_len)),lt.arraySet(ht.head.extra,qt,Gt,R,it)),512&ht.flags&&(ht.check=ut(ht.check,qt,R,Gt)),Kt-=R,Gt+=R,ht.length-=R),ht.length))break t;ht.length=0,ht.mode=7;case 7:if(2048&ht.flags){if(Kt===0)break t;for(R=0;it=qt[Gt+R++],ht.head&&it&&ht.length<65536&&(ht.head.name+=String.fromCharCode(it)),it&&R<Kt;);if(512&ht.flags&&(ht.check=ut(ht.check,qt,R,Gt)),Kt-=R,Gt+=R,it)break t}else ht.head&&(ht.head.name=null);ht.length=0,ht.mode=8;case 8:if(4096&ht.flags){if(Kt===0)break t;for(R=0;it=qt[Gt+R++],ht.head&&it&&ht.length<65536&&(ht.head.comment+=String.fromCharCode(it)),it&&R<Kt;);if(512&ht.flags&&(ht.check=ut(ht.check,qt,R,Gt)),Kt-=R,Gt+=R,it)break t}else ht.head&&(ht.head.comment=null);ht.mode=9;case 9:if(512&ht.flags){for(;ot<16;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if(xt!==(65535&ht.check)){vt.msg="header crc mismatch",ht.mode=30;break}ot=xt=0}ht.head&&(ht.head.hcrc=ht.flags>>9&1,ht.head.done=!0),vt.adler=ht.check=0,ht.mode=12;break;case 10:for(;ot<32;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}vt.adler=ht.check=rt(xt),ot=xt=0,ht.mode=11;case 11:if(ht.havedict===0)return vt.next_out=ne,vt.avail_out=ie,vt.next_in=Gt,vt.avail_in=Kt,ht.hold=xt,ht.bits=ot,2;vt.adler=ht.check=1,ht.mode=12;case 12:if(Bt===5||Bt===6)break t;case 13:if(ht.last){xt>>>=7&ot,ot-=7&ot,ht.mode=27;break}for(;ot<3;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}switch(ht.last=1&xt,ot-=1,3&(xt>>>=1)){case 0:ht.mode=14;break;case 1:if(Ot(ht),ht.mode=20,Bt!==6)break;xt>>>=2,ot-=2;break t;case 2:ht.mode=17;break;case 3:vt.msg="invalid block type",ht.mode=30}xt>>>=2,ot-=2;break;case 14:for(xt>>>=7&ot,ot-=7&ot;ot<32;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if((65535&xt)!=(xt>>>16^65535)){vt.msg="invalid stored block lengths",ht.mode=30;break}if(ht.length=65535&xt,ot=xt=0,ht.mode=15,Bt===6)break t;case 15:ht.mode=16;case 16:if(R=ht.length){if(Kt<R&&(R=Kt),ie<R&&(R=ie),R===0)break t;lt.arraySet(re,qt,Gt,R,ne),Kt-=R,Gt+=R,ie-=R,ne+=R,ht.length-=R;break}ht.mode=12;break;case 17:for(;ot<14;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if(ht.nlen=257+(31&xt),xt>>>=5,ot-=5,ht.ndist=1+(31&xt),xt>>>=5,ot-=5,ht.ncode=4+(15&xt),xt>>>=4,ot-=4,286<ht.nlen||30<ht.ndist){vt.msg="too many length or distance symbols",ht.mode=30;break}ht.have=0,ht.mode=18;case 18:for(;ht.have<ht.ncode;){for(;ot<3;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}ht.lens[Vt[ht.have++]]=7&xt,xt>>>=3,ot-=3}for(;ht.have<19;)ht.lens[Vt[ht.have++]]=0;if(ht.lencode=ht.lendyn,ht.lenbits=7,zt={bits:ht.lenbits},Lt=ct(0,ht.lens,0,19,ht.lencode,0,ht.work,zt),ht.lenbits=zt.bits,Lt){vt.msg="invalid code lengths set",ht.mode=30;break}ht.have=0,ht.mode=19;case 19:for(;ht.have<ht.nlen+ht.ndist;){for(;Ft=(Mt=ht.lencode[xt&(1<<ht.lenbits)-1])>>>16&255,jt=65535&Mt,!((Rt=Mt>>>24)<=ot);){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if(jt<16)xt>>>=Rt,ot-=Rt,ht.lens[ht.have++]=jt;else{if(jt===16){for(Dt=Rt+2;ot<Dt;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if(xt>>>=Rt,ot-=Rt,ht.have===0){vt.msg="invalid bit length repeat",ht.mode=30;break}it=ht.lens[ht.have-1],R=3+(3&xt),xt>>>=2,ot-=2}else if(jt===17){for(Dt=Rt+3;ot<Dt;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}ot-=Rt,it=0,R=3+(7&(xt>>>=Rt)),xt>>>=3,ot-=3}else{for(Dt=Rt+7;ot<Dt;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}ot-=Rt,it=0,R=11+(127&(xt>>>=Rt)),xt>>>=7,ot-=7}if(ht.have+R>ht.nlen+ht.ndist){vt.msg="invalid bit length repeat",ht.mode=30;break}for(;R--;)ht.lens[ht.have++]=it}}if(ht.mode===30)break;if(ht.lens[256]===0){vt.msg="invalid code -- missing end-of-block",ht.mode=30;break}if(ht.lenbits=9,zt={bits:ht.lenbits},Lt=ct(at,ht.lens,0,ht.nlen,ht.lencode,0,ht.work,zt),ht.lenbits=zt.bits,Lt){vt.msg="invalid literal/lengths set",ht.mode=30;break}if(ht.distbits=6,ht.distcode=ht.distdyn,zt={bits:ht.distbits},Lt=ct(At,ht.lens,ht.nlen,ht.ndist,ht.distcode,0,ht.work,zt),ht.distbits=zt.bits,Lt){vt.msg="invalid distances set",ht.mode=30;break}if(ht.mode=20,Bt===6)break t;case 20:ht.mode=21;case 21:if(6<=Kt&&258<=ie){vt.next_out=ne,vt.avail_out=ie,vt.next_in=Gt,vt.avail_in=Kt,ht.hold=xt,ht.bits=ot,gt(vt,Pt),ne=vt.next_out,re=vt.output,ie=vt.avail_out,Gt=vt.next_in,qt=vt.input,Kt=vt.avail_in,xt=ht.hold,ot=ht.bits,ht.mode===12&&(ht.back=-1);break}for(ht.back=0;Ft=(Mt=ht.lencode[xt&(1<<ht.lenbits)-1])>>>16&255,jt=65535&Mt,!((Rt=Mt>>>24)<=ot);){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if(Ft&&(240&Ft)==0){for($t=Rt,Yt=Ft,Ht=jt;Ft=(Mt=ht.lencode[Ht+((xt&(1<<$t+Yt)-1)>>$t)])>>>16&255,jt=65535&Mt,!($t+(Rt=Mt>>>24)<=ot);){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}xt>>>=$t,ot-=$t,ht.back+=$t}if(xt>>>=Rt,ot-=Rt,ht.back+=Rt,ht.length=jt,Ft===0){ht.mode=26;break}if(32&Ft){ht.back=-1,ht.mode=12;break}if(64&Ft){vt.msg="invalid literal/length code",ht.mode=30;break}ht.extra=15&Ft,ht.mode=22;case 22:if(ht.extra){for(Dt=ht.extra;ot<Dt;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}ht.length+=xt&(1<<ht.extra)-1,xt>>>=ht.extra,ot-=ht.extra,ht.back+=ht.extra}ht.was=ht.length,ht.mode=23;case 23:for(;Ft=(Mt=ht.distcode[xt&(1<<ht.distbits)-1])>>>16&255,jt=65535&Mt,!((Rt=Mt>>>24)<=ot);){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if((240&Ft)==0){for($t=Rt,Yt=Ft,Ht=jt;Ft=(Mt=ht.distcode[Ht+((xt&(1<<$t+Yt)-1)>>$t)])>>>16&255,jt=65535&Mt,!($t+(Rt=Mt>>>24)<=ot);){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}xt>>>=$t,ot-=$t,ht.back+=$t}if(xt>>>=Rt,ot-=Rt,ht.back+=Rt,64&Ft){vt.msg="invalid distance code",ht.mode=30;break}ht.offset=jt,ht.extra=15&Ft,ht.mode=24;case 24:if(ht.extra){for(Dt=ht.extra;ot<Dt;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}ht.offset+=xt&(1<<ht.extra)-1,xt>>>=ht.extra,ot-=ht.extra,ht.back+=ht.extra}if(ht.offset>ht.dmax){vt.msg="invalid distance too far back",ht.mode=30;break}ht.mode=25;case 25:if(ie===0)break t;if(R=Pt-ie,ht.offset>R){if((R=ht.offset-R)>ht.whave&&ht.sane){vt.msg="invalid distance too far back",ht.mode=30;break}ft=R>ht.wnext?(R-=ht.wnext,ht.wsize-R):ht.wnext-R,R>ht.length&&(R=ht.length),kt=ht.window}else kt=re,ft=ne-ht.offset,R=ht.length;for(ie<R&&(R=ie),ie-=R,ht.length-=R;re[ne++]=kt[ft++],--R;);ht.length===0&&(ht.mode=21);break;case 26:if(ie===0)break t;re[ne++]=ht.length,ie--,ht.mode=21;break;case 27:if(ht.wrap){for(;ot<32;){if(Kt===0)break t;Kt--,xt|=qt[Gt++]<<ot,ot+=8}if(Pt-=ie,vt.total_out+=Pt,ht.total+=Pt,Pt&&(vt.adler=ht.check=ht.flags?ut(ht.check,re,Pt,ne-Pt):pt(ht.check,re,Pt,ne-Pt)),Pt=ie,(ht.flags?xt:rt(xt))!==ht.check){vt.msg="incorrect data check",ht.mode=30;break}ot=xt=0}ht.mode=28;case 28:if(ht.wrap&&ht.flags){for(;ot<32;){if(Kt===0)break t;Kt--,xt+=qt[Gt++]<<ot,ot+=8}if(xt!==(4294967295&ht.total)){vt.msg="incorrect length check",ht.mode=30;break}ot=xt=0}ht.mode=29;case 29:Lt=1;break t;case 30:Lt=-3;break t;case 31:return-4;case 32:default:return et}return vt.next_out=ne,vt.avail_out=ie,vt.next_in=Gt,vt.avail_in=Kt,ht.hold=xt,ht.bits=ot,(ht.wsize||Pt!==vt.avail_out&&ht.mode<30&&(ht.mode<27||Bt!==4))&&Ut(vt,vt.output,vt.next_out,Pt-vt.avail_out)?(ht.mode=31,-4):(_t-=vt.avail_in,Pt-=vt.avail_out,vt.total_in+=_t,vt.total_out+=Pt,ht.total+=Pt,ht.wrap&&Pt&&(vt.adler=ht.check=ht.flags?ut(ht.check,re,Pt,vt.next_out-Pt):pt(ht.check,re,Pt,vt.next_out-Pt)),vt.data_type=ht.bits+(ht.last?64:0)+(ht.mode===12?128:0)+(ht.mode===20||ht.mode===15?256:0),(_t==0&&Pt===0||Bt===4)&&Lt===yt&&(Lt=-5),Lt)},Tt.inflateEnd=function(vt){if(!vt||!vt.state)return et;var Bt=vt.state;return Bt.window&&(Bt.window=null),vt.state=null,yt},Tt.inflateGetHeader=function(vt,Bt){var ht;return vt&&vt.state?(2&(ht=vt.state).wrap)==0?et:((ht.head=Bt).done=!1,yt):et},Tt.inflateSetDictionary=function(vt,Bt){var ht,qt=Bt.length;return vt&&vt.state?(ht=vt.state).wrap!==0&&ht.mode!==11?et:ht.mode===11&&pt(1,Bt,qt,0)!==ht.check?-3:Ut(vt,Bt,qt,qt)?(ht.mode=31,-4):(ht.havedict=1,yt):et},Tt.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(st,W,Tt){var lt=st("../utils/common"),pt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ut=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],gt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ct=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];W.exports=function(at,At,yt,et,G,tt,nt,rt){var mt,dt,Et,Ct,It,Nt,St,wt,Ot,Ut=rt.bits,vt=0,Bt=0,ht=0,qt=0,re=0,Gt=0,ne=0,Kt=0,ie=0,xt=0,ot=null,_t=0,Pt=new lt.Buf16(16),R=new lt.Buf16(16),ft=null,kt=0;for(vt=0;vt<=15;vt++)Pt[vt]=0;for(Bt=0;Bt<et;Bt++)Pt[At[yt+Bt]]++;for(re=Ut,qt=15;1<=qt&&Pt[qt]===0;qt--);if(qt<re&&(re=qt),qt===0)return G[tt++]=20971520,G[tt++]=20971520,rt.bits=1,0;for(ht=1;ht<qt&&Pt[ht]===0;ht++);for(re<ht&&(re=ht),vt=Kt=1;vt<=15;vt++)if(Kt<<=1,(Kt-=Pt[vt])<0)return-1;if(0<Kt&&(at===0||qt!==1))return-1;for(R[1]=0,vt=1;vt<15;vt++)R[vt+1]=R[vt]+Pt[vt];for(Bt=0;Bt<et;Bt++)At[yt+Bt]!==0&&(nt[R[At[yt+Bt]]++]=Bt);if(Nt=at===0?(ot=ft=nt,19):at===1?(ot=pt,_t-=257,ft=ut,kt-=257,256):(ot=gt,ft=ct,-1),vt=ht,It=tt,ne=Bt=xt=0,Et=-1,Ct=(ie=1<<(Gt=re))-1,at===1&&852<ie||at===2&&592<ie)return 1;for(;;){for(St=vt-ne,Ot=nt[Bt]<Nt?(wt=0,nt[Bt]):nt[Bt]>Nt?(wt=ft[kt+nt[Bt]],ot[_t+nt[Bt]]):(wt=96,0),mt=1<<vt-ne,ht=dt=1<<Gt;G[It+(xt>>ne)+(dt-=mt)]=St<<24|wt<<16|Ot|0,dt!==0;);for(mt=1<<vt-1;xt&mt;)mt>>=1;if(mt!==0?(xt&=mt-1,xt+=mt):xt=0,Bt++,--Pt[vt]==0){if(vt===qt)break;vt=At[yt+nt[Bt]]}if(re<vt&&(xt&Ct)!==Et){for(ne===0&&(ne=re),It+=ht,Kt=1<<(Gt=vt-ne);Gt+ne<qt&&!((Kt-=Pt[Gt+ne])<=0);)Gt++,Kt<<=1;if(ie+=1<<Gt,at===1&&852<ie||at===2&&592<ie)return 1;G[Et=xt&Ct]=re<<24|Gt<<16|It-tt|0}}return xt!==0&&(G[It+xt]=vt-ne<<24|64<<16|0),rt.bits=re,0}},{"../utils/common":41}],51:[function(st,W,Tt){W.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(st,W,Tt){var lt=st("../utils/common"),pt=0,ut=1;function gt(Mt){for(var Wt=Mt.length;0<=--Wt;)Mt[Wt]=0}var ct=0,at=29,At=256,yt=At+1+at,et=30,G=19,tt=2*yt+1,nt=15,rt=16,mt=7,dt=256,Et=16,Ct=17,It=18,Nt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],St=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],wt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ut=new Array(2*(yt+2));gt(Ut);var vt=new Array(2*et);gt(vt);var Bt=new Array(512);gt(Bt);var ht=new Array(256);gt(ht);var qt=new Array(at);gt(qt);var re,Gt,ne,Kt=new Array(et);function ie(Mt,Wt,Vt,ee,Xt){this.static_tree=Mt,this.extra_bits=Wt,this.extra_base=Vt,this.elems=ee,this.max_length=Xt,this.has_stree=Mt&&Mt.length}function xt(Mt,Wt){this.dyn_tree=Mt,this.max_code=0,this.stat_desc=Wt}function ot(Mt){return Mt<256?Bt[Mt]:Bt[256+(Mt>>>7)]}function _t(Mt,Wt){Mt.pending_buf[Mt.pending++]=255&Wt,Mt.pending_buf[Mt.pending++]=Wt>>>8&255}function Pt(Mt,Wt,Vt){Mt.bi_valid>rt-Vt?(Mt.bi_buf|=Wt<<Mt.bi_valid&65535,_t(Mt,Mt.bi_buf),Mt.bi_buf=Wt>>rt-Mt.bi_valid,Mt.bi_valid+=Vt-rt):(Mt.bi_buf|=Wt<<Mt.bi_valid&65535,Mt.bi_valid+=Vt)}function R(Mt,Wt,Vt){Pt(Mt,Vt[2*Wt],Vt[2*Wt+1])}function ft(Mt,Wt){for(var Vt=0;Vt|=1&Mt,Mt>>>=1,Vt<<=1,0<--Wt;);return Vt>>>1}function kt(Mt,Wt,Vt){var ee,Xt,Jt=new Array(nt+1),ae=0;for(ee=1;ee<=nt;ee++)Jt[ee]=ae=ae+Vt[ee-1]<<1;for(Xt=0;Xt<=Wt;Xt++){var se=Mt[2*Xt+1];se!==0&&(Mt[2*Xt]=ft(Jt[se]++,se))}}function Rt(Mt){var Wt;for(Wt=0;Wt<yt;Wt++)Mt.dyn_ltree[2*Wt]=0;for(Wt=0;Wt<et;Wt++)Mt.dyn_dtree[2*Wt]=0;for(Wt=0;Wt<G;Wt++)Mt.bl_tree[2*Wt]=0;Mt.dyn_ltree[2*dt]=1,Mt.opt_len=Mt.static_len=0,Mt.last_lit=Mt.matches=0}function Ft(Mt){8<Mt.bi_valid?_t(Mt,Mt.bi_buf):0<Mt.bi_valid&&(Mt.pending_buf[Mt.pending++]=Mt.bi_buf),Mt.bi_buf=0,Mt.bi_valid=0}function jt(Mt,Wt,Vt,ee){var Xt=2*Wt,Jt=2*Vt;return Mt[Xt]<Mt[Jt]||Mt[Xt]===Mt[Jt]&&ee[Wt]<=ee[Vt]}function $t(Mt,Wt,Vt){for(var ee=Mt.heap[Vt],Xt=Vt<<1;Xt<=Mt.heap_len&&(Xt<Mt.heap_len&&jt(Wt,Mt.heap[Xt+1],Mt.heap[Xt],Mt.depth)&&Xt++,!jt(Wt,ee,Mt.heap[Xt],Mt.depth));)Mt.heap[Vt]=Mt.heap[Xt],Vt=Xt,Xt<<=1;Mt.heap[Vt]=ee}function Yt(Mt,Wt,Vt){var ee,Xt,Jt,ae,se=0;if(Mt.last_lit!==0)for(;ee=Mt.pending_buf[Mt.d_buf+2*se]<<8|Mt.pending_buf[Mt.d_buf+2*se+1],Xt=Mt.pending_buf[Mt.l_buf+se],se++,ee===0?R(Mt,Xt,Wt):(R(Mt,(Jt=ht[Xt])+At+1,Wt),(ae=Nt[Jt])!==0&&Pt(Mt,Xt-=qt[Jt],ae),R(Mt,Jt=ot(--ee),Vt),(ae=St[Jt])!==0&&Pt(Mt,ee-=Kt[Jt],ae)),se<Mt.last_lit;);R(Mt,dt,Wt)}function Ht(Mt,Wt){var Vt,ee,Xt,Jt=Wt.dyn_tree,ae=Wt.stat_desc.static_tree,se=Wt.stat_desc.has_stree,oe=Wt.stat_desc.elems,ce=-1;for(Mt.heap_len=0,Mt.heap_max=tt,Vt=0;Vt<oe;Vt++)Jt[2*Vt]!==0?(Mt.heap[++Mt.heap_len]=ce=Vt,Mt.depth[Vt]=0):Jt[2*Vt+1]=0;for(;Mt.heap_len<2;)Jt[2*(Xt=Mt.heap[++Mt.heap_len]=ce<2?++ce:0)]=1,Mt.depth[Xt]=0,Mt.opt_len--,se&&(Mt.static_len-=ae[2*Xt+1]);for(Wt.max_code=ce,Vt=Mt.heap_len>>1;1<=Vt;Vt--)$t(Mt,Jt,Vt);for(Xt=oe;Vt=Mt.heap[1],Mt.heap[1]=Mt.heap[Mt.heap_len--],$t(Mt,Jt,1),ee=Mt.heap[1],Mt.heap[--Mt.heap_max]=Vt,Mt.heap[--Mt.heap_max]=ee,Jt[2*Xt]=Jt[2*Vt]+Jt[2*ee],Mt.depth[Xt]=(Mt.depth[Vt]>=Mt.depth[ee]?Mt.depth[Vt]:Mt.depth[ee])+1,Jt[2*Vt+1]=Jt[2*ee+1]=Xt,Mt.heap[1]=Xt++,$t(Mt,Jt,1),2<=Mt.heap_len;);Mt.heap[--Mt.heap_max]=Mt.heap[1],function(he,ge){var me,ye,_e,te,Zt,Qt,le=ge.dyn_tree,ue=ge.max_code,pe=ge.stat_desc.static_tree,fe=ge.stat_desc.has_stree,xe=ge.stat_desc.extra_bits,ke=ge.stat_desc.extra_base,Ae=ge.stat_desc.max_length,be=0;for(te=0;te<=nt;te++)he.bl_count[te]=0;for(le[2*he.heap[he.heap_max]+1]=0,me=he.heap_max+1;me<tt;me++)Ae<(te=le[2*le[2*(ye=he.heap[me])+1]+1]+1)&&(te=Ae,be++),le[2*ye+1]=te,ue<ye||(he.bl_count[te]++,Zt=0,ke<=ye&&(Zt=xe[ye-ke]),Qt=le[2*ye],he.opt_len+=Qt*(te+Zt),fe&&(he.static_len+=Qt*(pe[2*ye+1]+Zt)));if(be!==0){do{for(te=Ae-1;he.bl_count[te]===0;)te--;he.bl_count[te]--,he.bl_count[te+1]+=2,he.bl_count[Ae]--,be-=2}while(0<be);for(te=Ae;te!==0;te--)for(ye=he.bl_count[te];ye!==0;)ue<(_e=he.heap[--me])||(le[2*_e+1]!==te&&(he.opt_len+=(te-le[2*_e+1])*le[2*_e],le[2*_e+1]=te),ye--)}}(Mt,Wt),kt(Jt,ce,Mt.bl_count)}function it(Mt,Wt,Vt){var ee,Xt,Jt=-1,ae=Wt[1],se=0,oe=7,ce=4;for(ae===0&&(oe=138,ce=3),Wt[2*(Vt+1)+1]=65535,ee=0;ee<=Vt;ee++)Xt=ae,ae=Wt[2*(ee+1)+1],++se<oe&&Xt===ae||(se<ce?Mt.bl_tree[2*Xt]+=se:Xt!==0?(Xt!==Jt&&Mt.bl_tree[2*Xt]++,Mt.bl_tree[2*Et]++):se<=10?Mt.bl_tree[2*Ct]++:Mt.bl_tree[2*It]++,Jt=Xt,ce=(se=0)===ae?(oe=138,3):Xt===ae?(oe=6,3):(oe=7,4))}function Lt(Mt,Wt,Vt){var ee,Xt,Jt=-1,ae=Wt[1],se=0,oe=7,ce=4;for(ae===0&&(oe=138,ce=3),ee=0;ee<=Vt;ee++)if(Xt=ae,ae=Wt[2*(ee+1)+1],!(++se<oe&&Xt===ae)){if(se<ce)for(;R(Mt,Xt,Mt.bl_tree),--se!=0;);else Xt!==0?(Xt!==Jt&&(R(Mt,Xt,Mt.bl_tree),se--),R(Mt,Et,Mt.bl_tree),Pt(Mt,se-3,2)):se<=10?(R(Mt,Ct,Mt.bl_tree),Pt(Mt,se-3,3)):(R(Mt,It,Mt.bl_tree),Pt(Mt,se-11,7));Jt=Xt,ce=(se=0)===ae?(oe=138,3):Xt===ae?(oe=6,3):(oe=7,4)}}gt(Kt);var zt=!1;function Dt(Mt,Wt,Vt,ee){Pt(Mt,(ct<<1)+(ee?1:0),3),function(Xt,Jt,ae,se){Ft(Xt),se&&(_t(Xt,ae),_t(Xt,~ae)),lt.arraySet(Xt.pending_buf,Xt.window,Jt,ae,Xt.pending),Xt.pending+=ae}(Mt,Wt,Vt,!0)}Tt._tr_init=function(Mt){zt||(function(){var Wt,Vt,ee,Xt,Jt,ae=new Array(nt+1);for(Xt=ee=0;Xt<at-1;Xt++)for(qt[Xt]=ee,Wt=0;Wt<1<<Nt[Xt];Wt++)ht[ee++]=Xt;for(ht[ee-1]=Xt,Xt=Jt=0;Xt<16;Xt++)for(Kt[Xt]=Jt,Wt=0;Wt<1<<St[Xt];Wt++)Bt[Jt++]=Xt;for(Jt>>=7;Xt<et;Xt++)for(Kt[Xt]=Jt<<7,Wt=0;Wt<1<<St[Xt]-7;Wt++)Bt[256+Jt++]=Xt;for(Vt=0;Vt<=nt;Vt++)ae[Vt]=0;for(Wt=0;Wt<=143;)Ut[2*Wt+1]=8,Wt++,ae[8]++;for(;Wt<=255;)Ut[2*Wt+1]=9,Wt++,ae[9]++;for(;Wt<=279;)Ut[2*Wt+1]=7,Wt++,ae[7]++;for(;Wt<=287;)Ut[2*Wt+1]=8,Wt++,ae[8]++;for(kt(Ut,yt+1,ae),Wt=0;Wt<et;Wt++)vt[2*Wt+1]=5,vt[2*Wt]=ft(Wt,5);re=new ie(Ut,Nt,At+1,yt,nt),Gt=new ie(vt,St,0,et,nt),ne=new ie(new Array(0),wt,0,G,mt)}(),zt=!0),Mt.l_desc=new xt(Mt.dyn_ltree,re),Mt.d_desc=new xt(Mt.dyn_dtree,Gt),Mt.bl_desc=new xt(Mt.bl_tree,ne),Mt.bi_buf=0,Mt.bi_valid=0,Rt(Mt)},Tt._tr_stored_block=Dt,Tt._tr_flush_block=function(Mt,Wt,Vt,ee){var Xt,Jt,ae=0;0<Mt.level?(Mt.strm.data_type===2&&(Mt.strm.data_type=function(se){var oe,ce=4093624447;for(oe=0;oe<=31;oe++,ce>>>=1)if(1&ce&&se.dyn_ltree[2*oe]!==0)return pt;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return ut;for(oe=32;oe<At;oe++)if(se.dyn_ltree[2*oe]!==0)return ut;return pt}(Mt)),Ht(Mt,Mt.l_desc),Ht(Mt,Mt.d_desc),ae=function(se){var oe;for(it(se,se.dyn_ltree,se.l_desc.max_code),it(se,se.dyn_dtree,se.d_desc.max_code),Ht(se,se.bl_desc),oe=G-1;3<=oe&&se.bl_tree[2*Ot[oe]+1]===0;oe--);return se.opt_len+=3*(oe+1)+5+5+4,oe}(Mt),Xt=Mt.opt_len+3+7>>>3,(Jt=Mt.static_len+3+7>>>3)<=Xt&&(Xt=Jt)):Xt=Jt=Vt+5,Vt+4<=Xt&&Wt!==-1?Dt(Mt,Wt,Vt,ee):Mt.strategy===4||Jt===Xt?(Pt(Mt,2+(ee?1:0),3),Yt(Mt,Ut,vt)):(Pt(Mt,4+(ee?1:0),3),function(se,oe,ce,he){var ge;for(Pt(se,oe-257,5),Pt(se,ce-1,5),Pt(se,he-4,4),ge=0;ge<he;ge++)Pt(se,se.bl_tree[2*Ot[ge]+1],3);Lt(se,se.dyn_ltree,oe-1),Lt(se,se.dyn_dtree,ce-1)}(Mt,Mt.l_desc.max_code+1,Mt.d_desc.max_code+1,ae+1),Yt(Mt,Mt.dyn_ltree,Mt.dyn_dtree)),Rt(Mt),ee&&Ft(Mt)},Tt._tr_tally=function(Mt,Wt,Vt){return Mt.pending_buf[Mt.d_buf+2*Mt.last_lit]=Wt>>>8&255,Mt.pending_buf[Mt.d_buf+2*Mt.last_lit+1]=255&Wt,Mt.pending_buf[Mt.l_buf+Mt.last_lit]=255&Vt,Mt.last_lit++,Wt===0?Mt.dyn_ltree[2*Vt]++:(Mt.matches++,Wt--,Mt.dyn_ltree[2*(ht[Vt]+At+1)]++,Mt.dyn_dtree[2*ot(Wt)]++),Mt.last_lit===Mt.lit_bufsize-1},Tt._tr_align=function(Mt){Pt(Mt,2,3),R(Mt,dt,Ut),function(Wt){Wt.bi_valid===16?(_t(Wt,Wt.bi_buf),Wt.bi_buf=0,Wt.bi_valid=0):8<=Wt.bi_valid&&(Wt.pending_buf[Wt.pending++]=255&Wt.bi_buf,Wt.bi_buf>>=8,Wt.bi_valid-=8)}(Mt)}},{"../utils/common":41}],53:[function(st,W,Tt){W.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(st,W,Tt){(function(lt){(function(pt,ut){if(!pt.setImmediate){var gt,ct,at,At,yt=1,et={},G=!1,tt=pt.document,nt=Object.getPrototypeOf&&Object.getPrototypeOf(pt);nt=nt&&nt.setTimeout?nt:pt,gt={}.toString.call(pt.process)==="[object process]"?function(Et){process.nextTick(function(){mt(Et)})}:function(){if(pt.postMessage&&!pt.importScripts){var Et=!0,Ct=pt.onmessage;return pt.onmessage=function(){Et=!1},pt.postMessage("","*"),pt.onmessage=Ct,Et}}()?(At="setImmediate$"+Math.random()+"$",pt.addEventListener?pt.addEventListener("message",dt,!1):pt.attachEvent("onmessage",dt),function(Et){pt.postMessage(At+Et,"*")}):pt.MessageChannel?((at=new MessageChannel).port1.onmessage=function(Et){mt(Et.data)},function(Et){at.port2.postMessage(Et)}):tt&&"onreadystatechange"in tt.createElement("script")?(ct=tt.documentElement,function(Et){var Ct=tt.createElement("script");Ct.onreadystatechange=function(){mt(Et),Ct.onreadystatechange=null,ct.removeChild(Ct),Ct=null},ct.appendChild(Ct)}):function(Et){setTimeout(mt,0,Et)},nt.setImmediate=function(Et){typeof Et!="function"&&(Et=new Function(""+Et));for(var Ct=new Array(arguments.length-1),It=0;It<Ct.length;It++)Ct[It]=arguments[It+1];var Nt={callback:Et,args:Ct};return et[yt]=Nt,gt(yt),yt++},nt.clearImmediate=rt}function rt(Et){delete et[Et]}function mt(Et){if(G)setTimeout(mt,0,Et);else{var Ct=et[Et];if(Ct){G=!0;try{(function(It){var Nt=It.callback,St=It.args;switch(St.length){case 0:Nt();break;case 1:Nt(St[0]);break;case 2:Nt(St[0],St[1]);break;case 3:Nt(St[0],St[1],St[2]);break;default:Nt.apply(ut,St)}})(Ct)}finally{rt(Et),G=!1}}}}function dt(Et){Et.source===pt&&typeof Et.data=="string"&&Et.data.indexOf(At)===0&&mt(+Et.data.slice(At.length))}})(typeof self=="undefined"?lt===void 0?this:lt:self)}).call(this,typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(jszip_min);var JSZip=jszip_min.exports,pdf={exports:{}},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(X,st){module.exports=st()})(commonjsGlobal,()=>(()=>{var __webpack_modules__=[,(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.VerbosityLevel=X.Util=X.UnknownErrorException=X.UnexpectedResponseException=X.UNSUPPORTED_FEATURES=X.TextRenderingMode=X.StreamType=X.RenderingIntentFlag=X.PermissionFlag=X.PasswordResponses=X.PasswordException=X.PageActionEventType=X.OPS=X.MissingPDFException=X.InvalidPDFException=X.ImageKind=X.IDENTITY_MATRIX=X.FormatError=X.FontType=X.FeatureTest=X.FONT_IDENTITY_MATRIX=X.DocumentActionEventType=X.CMapCompressionType=X.BaseException=X.AnnotationType=X.AnnotationStateModelType=X.AnnotationReviewState=X.AnnotationReplyType=X.AnnotationMode=X.AnnotationMarkedState=X.AnnotationFlag=X.AnnotationFieldFlag=X.AnnotationBorderStyleType=X.AnnotationActionEventType=X.AbortException=void 0,X.arrayByteLength=Yt,X.arraysToBytes=Ht,X.assert=ne,X.bytesToString=jt,X.createPromiseCapability=_e,X.createValidAbsoluteUrl=ie,X.escapeString=ae,X.getModificationDate=ye,X.getVerbosityLevel=ht,X.info=qt,X.isArrayBuffer=ge,X.isArrayEqual=me,X.isAscii=se,X.objectFromMap=zt,X.objectSize=Lt,X.setVerbosityLevel=Bt,X.shadow=xt,X.string32=it,X.stringToBytes=$t,X.stringToPDFString=Jt,X.stringToUTF16BEString=oe,X.stringToUTF8String=ce,X.unreachable=Gt,X.utf8StringToString=he,X.warn=re,st(2);const W=[1,0,0,1,0,0];X.IDENTITY_MATRIX=W;const Tt=[.001,0,0,.001,0,0];X.FONT_IDENTITY_MATRIX=Tt;const lt={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};X.RenderingIntentFlag=lt;const pt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};X.AnnotationMode=pt;const ut={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};X.PermissionFlag=ut;const gt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};X.TextRenderingMode=gt;const ct={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};X.ImageKind=ct;const at={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};X.AnnotationType=at;const At={MARKED:"Marked",REVIEW:"Review"};X.AnnotationStateModelType=At;const yt={MARKED:"Marked",UNMARKED:"Unmarked"};X.AnnotationMarkedState=yt;const et={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};X.AnnotationReviewState=et;const G={GROUP:"Group",REPLY:"R"};X.AnnotationReplyType=G;const tt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};X.AnnotationFlag=tt;const nt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};X.AnnotationFieldFlag=nt;const rt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};X.AnnotationBorderStyleType=rt;const mt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};X.AnnotationActionEventType=mt;const dt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};X.DocumentActionEventType=dt;const Et={O:"PageOpen",C:"PageClose"};X.PageActionEventType=Et;const Ct={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};X.StreamType=Ct;const It={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};X.FontType=It;const Nt={ERRORS:0,WARNINGS:1,INFOS:5};X.VerbosityLevel=Nt;const St={NONE:0,BINARY:1,STREAM:2};X.CMapCompressionType=St;const wt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};X.OPS=wt;const Ot={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};X.UNSUPPORTED_FEATURES=Ot;const Ut={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};X.PasswordResponses=Ut;let vt=Nt.WARNINGS;function Bt(te){Number.isInteger(te)&&(vt=te)}function ht(){return vt}function qt(te){vt>=Nt.INFOS&&console.log(`Info: ${te}`)}function re(te){vt>=Nt.WARNINGS&&console.log(`Warning: ${te}`)}function Gt(te){throw new Error(te)}function ne(te,Zt){te||Gt(Zt)}function Kt(te){if(!te)return!1;switch(te.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ie(te,Zt=null,Qt=null){if(!te)return null;try{if(Qt&&typeof te=="string"){if(Qt.addDefaultProtocol&&te.startsWith("www.")){const ue=te.match(/\./g);ue&&ue.length>=2&&(te=`http://${te}`)}if(Qt.tryConvertEncoding)try{te=ce(te)}catch{}}const le=Zt?new URL(te,Zt):new URL(te);if(Kt(le))return le}catch{}return null}function xt(te,Zt,Qt){return Object.defineProperty(te,Zt,{value:Qt,enumerable:!0,configurable:!0,writable:!1}),Qt}const ot=function(){function Zt(Qt,le){this.constructor===Zt&&Gt("Cannot initialize BaseException."),this.message=Qt,this.name=le}return Zt.prototype=new Error,Zt.constructor=Zt,Zt}();X.BaseException=ot;class _t extends ot{constructor(Zt,Qt){super(Zt,"PasswordException"),this.code=Qt}}X.PasswordException=_t;class Pt extends ot{constructor(Zt,Qt){super(Zt,"UnknownErrorException"),this.details=Qt}}X.UnknownErrorException=Pt;class R extends ot{constructor(Zt){super(Zt,"InvalidPDFException")}}X.InvalidPDFException=R;class ft extends ot{constructor(Zt){super(Zt,"MissingPDFException")}}X.MissingPDFException=ft;class kt extends ot{constructor(Zt,Qt){super(Zt,"UnexpectedResponseException"),this.status=Qt}}X.UnexpectedResponseException=kt;class Rt extends ot{constructor(Zt){super(Zt,"FormatError")}}X.FormatError=Rt;class Ft extends ot{constructor(Zt){super(Zt,"AbortException")}}X.AbortException=Ft;function jt(te){(typeof te!="object"||te===null||te.length===void 0)&&Gt("Invalid argument for bytesToString");const Zt=te.length,Qt=8192;if(Zt<Qt)return String.fromCharCode.apply(null,te);const le=[];for(let ue=0;ue<Zt;ue+=Qt){const pe=Math.min(ue+Qt,Zt),fe=te.subarray(ue,pe);le.push(String.fromCharCode.apply(null,fe))}return le.join("")}function $t(te){typeof te!="string"&&Gt("Invalid argument for stringToBytes");const Zt=te.length,Qt=new Uint8Array(Zt);for(let le=0;le<Zt;++le)Qt[le]=te.charCodeAt(le)&255;return Qt}function Yt(te){if(te.length!==void 0)return te.length;if(te.byteLength!==void 0)return te.byteLength;Gt("Invalid argument for arrayByteLength")}function Ht(te){const Zt=te.length;if(Zt===1&&te[0]instanceof Uint8Array)return te[0];let Qt=0;for(let pe=0;pe<Zt;pe++)Qt+=Yt(te[pe]);let le=0;const ue=new Uint8Array(Qt);for(let pe=0;pe<Zt;pe++){let fe=te[pe];fe instanceof Uint8Array||(typeof fe=="string"?fe=$t(fe):fe=new Uint8Array(fe));const xe=fe.byteLength;ue.set(fe,le),le+=xe}return ue}function it(te){return String.fromCharCode(te>>24&255,te>>16&255,te>>8&255,te&255)}function Lt(te){return Object.keys(te).length}function zt(te){const Zt=Object.create(null);for(const[Qt,le]of te)Zt[Qt]=le;return Zt}function Dt(){const te=new Uint8Array(4);return te[0]=1,new Uint32Array(te.buffer,0,1)[0]===1}function Mt(){try{return new Function(""),!0}catch{return!1}}class Wt{static get isLittleEndian(){return xt(this,"isLittleEndian",Dt())}static get isEvalSupported(){return xt(this,"isEvalSupported",Mt())}static get isOffscreenCanvasSupported(){return xt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas!="undefined")}}X.FeatureTest=Wt;const Vt=[...Array(256).keys()].map(te=>te.toString(16).padStart(2,"0"));class ee{static makeHexColor(Zt,Qt,le){return`#${Vt[Zt]}${Vt[Qt]}${Vt[le]}`}static scaleMinMax(Zt,Qt){let le;Zt[0]?(Zt[0]<0&&(le=Qt[0],Qt[0]=Qt[1],Qt[1]=le),Qt[0]*=Zt[0],Qt[1]*=Zt[0],Zt[3]<0&&(le=Qt[2],Qt[2]=Qt[3],Qt[3]=le),Qt[2]*=Zt[3],Qt[3]*=Zt[3]):(le=Qt[0],Qt[0]=Qt[2],Qt[2]=le,le=Qt[1],Qt[1]=Qt[3],Qt[3]=le,Zt[1]<0&&(le=Qt[2],Qt[2]=Qt[3],Qt[3]=le),Qt[2]*=Zt[1],Qt[3]*=Zt[1],Zt[2]<0&&(le=Qt[0],Qt[0]=Qt[1],Qt[1]=le),Qt[0]*=Zt[2],Qt[1]*=Zt[2]),Qt[0]+=Zt[4],Qt[1]+=Zt[4],Qt[2]+=Zt[5],Qt[3]+=Zt[5]}static transform(Zt,Qt){return[Zt[0]*Qt[0]+Zt[2]*Qt[1],Zt[1]*Qt[0]+Zt[3]*Qt[1],Zt[0]*Qt[2]+Zt[2]*Qt[3],Zt[1]*Qt[2]+Zt[3]*Qt[3],Zt[0]*Qt[4]+Zt[2]*Qt[5]+Zt[4],Zt[1]*Qt[4]+Zt[3]*Qt[5]+Zt[5]]}static applyTransform(Zt,Qt){const le=Zt[0]*Qt[0]+Zt[1]*Qt[2]+Qt[4],ue=Zt[0]*Qt[1]+Zt[1]*Qt[3]+Qt[5];return[le,ue]}static applyInverseTransform(Zt,Qt){const le=Qt[0]*Qt[3]-Qt[1]*Qt[2],ue=(Zt[0]*Qt[3]-Zt[1]*Qt[2]+Qt[2]*Qt[5]-Qt[4]*Qt[3])/le,pe=(-Zt[0]*Qt[1]+Zt[1]*Qt[0]+Qt[4]*Qt[1]-Qt[5]*Qt[0])/le;return[ue,pe]}static getAxialAlignedBoundingBox(Zt,Qt){const le=ee.applyTransform(Zt,Qt),ue=ee.applyTransform(Zt.slice(2,4),Qt),pe=ee.applyTransform([Zt[0],Zt[3]],Qt),fe=ee.applyTransform([Zt[2],Zt[1]],Qt);return[Math.min(le[0],ue[0],pe[0],fe[0]),Math.min(le[1],ue[1],pe[1],fe[1]),Math.max(le[0],ue[0],pe[0],fe[0]),Math.max(le[1],ue[1],pe[1],fe[1])]}static inverseTransform(Zt){const Qt=Zt[0]*Zt[3]-Zt[1]*Zt[2];return[Zt[3]/Qt,-Zt[1]/Qt,-Zt[2]/Qt,Zt[0]/Qt,(Zt[2]*Zt[5]-Zt[4]*Zt[3])/Qt,(Zt[4]*Zt[1]-Zt[5]*Zt[0])/Qt]}static apply3dTransform(Zt,Qt){return[Zt[0]*Qt[0]+Zt[1]*Qt[1]+Zt[2]*Qt[2],Zt[3]*Qt[0]+Zt[4]*Qt[1]+Zt[5]*Qt[2],Zt[6]*Qt[0]+Zt[7]*Qt[1]+Zt[8]*Qt[2]]}static singularValueDecompose2dScale(Zt){const Qt=[Zt[0],Zt[2],Zt[1],Zt[3]],le=Zt[0]*Qt[0]+Zt[1]*Qt[2],ue=Zt[0]*Qt[1]+Zt[1]*Qt[3],pe=Zt[2]*Qt[0]+Zt[3]*Qt[2],fe=Zt[2]*Qt[1]+Zt[3]*Qt[3],xe=(le+fe)/2,ke=Math.sqrt((le+fe)**2-4*(le*fe-pe*ue))/2,Ae=xe+ke||1,be=xe-ke||1;return[Math.sqrt(Ae),Math.sqrt(be)]}static normalizeRect(Zt){const Qt=Zt.slice(0);return Zt[0]>Zt[2]&&(Qt[0]=Zt[2],Qt[2]=Zt[0]),Zt[1]>Zt[3]&&(Qt[1]=Zt[3],Qt[3]=Zt[1]),Qt}static intersect(Zt,Qt){const le=Math.max(Math.min(Zt[0],Zt[2]),Math.min(Qt[0],Qt[2])),ue=Math.min(Math.max(Zt[0],Zt[2]),Math.max(Qt[0],Qt[2]));if(le>ue)return null;const pe=Math.max(Math.min(Zt[1],Zt[3]),Math.min(Qt[1],Qt[3])),fe=Math.min(Math.max(Zt[1],Zt[3]),Math.max(Qt[1],Qt[3]));return pe>fe?null:[le,pe,ue,fe]}static bezierBoundingBox(Zt,Qt,le,ue,pe,fe,xe,ke){const Ae=[],be=[[],[]];let Te,Ee,Oe,ve,Me,De,Le,Ne;for(let je=0;je<2;++je){if(je===0?(Ee=6*Zt-12*le+6*pe,Te=-3*Zt+9*le-9*pe+3*xe,Oe=3*le-3*Zt):(Ee=6*Qt-12*ue+6*fe,Te=-3*Qt+9*ue-9*fe+3*ke,Oe=3*ue-3*Qt),Math.abs(Te)<1e-12){if(Math.abs(Ee)<1e-12)continue;ve=-Oe/Ee,0<ve&&ve<1&&Ae.push(ve);continue}Le=Ee*Ee-4*Oe*Te,Ne=Math.sqrt(Le),!(Le<0)&&(Me=(-Ee+Ne)/(2*Te),0<Me&&Me<1&&Ae.push(Me),De=(-Ee-Ne)/(2*Te),0<De&&De<1&&Ae.push(De))}let Pe=Ae.length,we;const Re=Pe;for(;Pe--;)ve=Ae[Pe],we=1-ve,be[0][Pe]=we*we*we*Zt+3*we*we*ve*le+3*we*ve*ve*pe+ve*ve*ve*xe,be[1][Pe]=we*we*we*Qt+3*we*we*ve*ue+3*we*ve*ve*fe+ve*ve*ve*ke;return be[0][Re]=Zt,be[1][Re]=Qt,be[0][Re+1]=xe,be[1][Re+1]=ke,be[0].length=be[1].length=Re+2,[Math.min(...be[0]),Math.min(...be[1]),Math.max(...be[0]),Math.max(...be[1])]}}X.Util=ee;const Xt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Jt(te){if(te[0]>="\xEF"){let Qt;if(te[0]==="\xFE"&&te[1]==="\xFF"?Qt="utf-16be":te[0]==="\xFF"&&te[1]==="\xFE"?Qt="utf-16le":te[0]==="\xEF"&&te[1]==="\xBB"&&te[2]==="\xBF"&&(Qt="utf-8"),Qt)try{const le=new TextDecoder(Qt,{fatal:!0}),ue=$t(te);return le.decode(ue)}catch(le){re(`stringToPDFString: "${le}".`)}}const Zt=[];for(let Qt=0,le=te.length;Qt<le;Qt++){const ue=Xt[te.charCodeAt(Qt)];Zt.push(ue?String.fromCharCode(ue):te.charAt(Qt))}return Zt.join("")}function ae(te){return te.replace(/([()\\\n\r])/g,Zt=>Zt===`
`?"\\n":Zt==="\r"?"\\r":`\\${Zt}`)}function se(te){return/^[\x00-\x7F]*$/.test(te)}function oe(te){const Zt=["\xFE\xFF"];for(let Qt=0,le=te.length;Qt<le;Qt++){const ue=te.charCodeAt(Qt);Zt.push(String.fromCharCode(ue>>8&255),String.fromCharCode(ue&255))}return Zt.join("")}function ce(te){return decodeURIComponent(escape(te))}function he(te){return unescape(encodeURIComponent(te))}function ge(te){return typeof te=="object"&&te!==null&&te.byteLength!==void 0}function me(te,Zt){if(te.length!==Zt.length)return!1;for(let Qt=0,le=te.length;Qt<le;Qt++)if(te[Qt]!==Zt[Qt])return!1;return!0}function ye(te=new Date){return[te.getUTCFullYear().toString(),(te.getUTCMonth()+1).toString().padStart(2,"0"),te.getUTCDate().toString().padStart(2,"0"),te.getUTCHours().toString().padStart(2,"0"),te.getUTCMinutes().toString().padStart(2,"0"),te.getUTCSeconds().toString().padStart(2,"0")].join("")}function _e(){const te=Object.create(null);let Zt=!1;return Object.defineProperty(te,"settled",{get(){return Zt}}),te.promise=new Promise(function(Qt,le){te.resolve=function(ue){Zt=!0,Qt(ue)},te.reject=function(ue){Zt=!0,le(ue)}}),te}},(bt,X,st)=>{st(3)},(bt,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.isNodeJS=void 0;const st=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");X.isNodeJS=st},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var bt,st,W,Tt,lt,pt,ut,gt,ct,Ue,At;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:et,NodeCMapReaderFactory:G,NodeStandardFontDataFactory:tt}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=et,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=G,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=tt}let createPDFNetworkStream;function setPDFNetworkStreamFactory(et){createPDFNetworkStream=et}function getDocument(et){const G=new PDFDocumentLoadingTask;let tt;if(typeof et=="string"||et instanceof URL)tt={url:et};else if((0,_util.isArrayBuffer)(et))tt={data:et};else if(et instanceof PDFDataRangeTransport)tt={range:et};else{if(typeof et!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!et.url&&!et.data&&!et.range)throw new Error("Invalid parameter object: need either .data, .range or .url");tt=et}const nt=Object.create(null);let rt=null,mt=null;for(const Et in tt){const Ct=tt[Et];switch(Et){case"url":if(typeof window!="undefined")try{nt[Et]=new URL(Ct,window.location).href;continue}catch(It){(0,_util.warn)(`Cannot create valid URL: "${It}".`)}else if(typeof Ct=="string"||Ct instanceof URL){nt[Et]=Ct.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":rt=Ct;continue;case"worker":mt=Ct;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&Ct instanceof Buffer)nt[Et]=new Uint8Array(Ct);else{if(Ct instanceof Uint8Array)break;if(typeof Ct=="string")nt[Et]=(0,_util.stringToBytes)(Ct);else if(typeof Ct=="object"&&Ct!==null&&!isNaN(Ct.length))nt[Et]=new Uint8Array(Ct);else if((0,_util.isArrayBuffer)(Ct))nt[Et]=new Uint8Array(Ct);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}nt[Et]=Ct}if(nt.CMapReaderFactory=nt.CMapReaderFactory||DefaultCMapReaderFactory,nt.StandardFontDataFactory=nt.StandardFontDataFactory||DefaultStandardFontDataFactory,nt.ignoreErrors=nt.stopAtErrors!==!0,nt.fontExtraProperties=nt.fontExtraProperties===!0,nt.pdfBug=nt.pdfBug===!0,nt.enableXfa=nt.enableXfa===!0,(!Number.isInteger(nt.rangeChunkSize)||nt.rangeChunkSize<1)&&(nt.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof nt.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(nt.docBaseUrl))&&(nt.docBaseUrl=null),(!Number.isInteger(nt.maxImageSize)||nt.maxImageSize<-1)&&(nt.maxImageSize=-1),typeof nt.cMapUrl!="string"&&(nt.cMapUrl=null),typeof nt.standardFontDataUrl!="string"&&(nt.standardFontDataUrl=null),typeof nt.useWorkerFetch!="boolean"&&(nt.useWorkerFetch=nt.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&nt.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof nt.isEvalSupported!="boolean"&&(nt.isEvalSupported=!0),typeof nt.disableFontFace!="boolean"&&(nt.disableFontFace=_is_node.isNodeJS),typeof nt.useSystemFonts!="boolean"&&(nt.useSystemFonts=!_is_node.isNodeJS&&!nt.disableFontFace),(typeof nt.ownerDocument!="object"||nt.ownerDocument===null)&&(nt.ownerDocument=globalThis.document),typeof nt.disableRange!="boolean"&&(nt.disableRange=!1),typeof nt.disableStream!="boolean"&&(nt.disableStream=!1),typeof nt.disableAutoFetch!="boolean"&&(nt.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(nt.verbosity),!mt){const Et={verbosity:nt.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};mt=Et.port?PDFWorker.fromPort(Et):new PDFWorker(Et),G._worker=mt}const dt=G.docId;return mt.promise.then(function(){if(G.destroyed)throw new Error("Loading aborted");const Et=_fetchDocument(mt,nt,rt,dt),Ct=new Promise(function(It){let Nt;rt?Nt=new _transport_stream.PDFDataTransportStream({length:nt.length,initialData:nt.initialData,progressiveDone:nt.progressiveDone,contentDispositionFilename:nt.contentDispositionFilename,disableRange:nt.disableRange,disableStream:nt.disableStream},rt):nt.data||(Nt=createPDFNetworkStream({url:nt.url,length:nt.length,httpHeaders:nt.httpHeaders,withCredentials:nt.withCredentials,rangeChunkSize:nt.rangeChunkSize,disableRange:nt.disableRange,disableStream:nt.disableStream})),It(Nt)});return Promise.all([Et,Ct]).then(function([It,Nt]){if(G.destroyed)throw new Error("Loading aborted");const St=new _message_handler.MessageHandler(dt,It,mt.port),wt=new WorkerTransport(St,G,Nt,nt);G._transport=wt,St.send("Ready",null)})}).catch(G._capability.reject),G}async function _fetchDocument(et,G,tt,nt){if(et.destroyed)throw new Error("Worker was destroyed");tt&&(G.length=tt.length,G.initialData=tt.initialData,G.progressiveDone=tt.progressiveDone,G.contentDispositionFilename=tt.contentDispositionFilename);const rt=await et.messageHandler.sendWithPromise("GetDocRequest",{docId:nt,apiVersion:"2.14.305",source:{data:G.data,url:G.url,password:G.password,disableAutoFetch:G.disableAutoFetch,rangeChunkSize:G.rangeChunkSize,length:G.length},maxImageSize:G.maxImageSize,disableFontFace:G.disableFontFace,docBaseUrl:G.docBaseUrl,ignoreErrors:G.ignoreErrors,isEvalSupported:G.isEvalSupported,fontExtraProperties:G.fontExtraProperties,enableXfa:G.enableXfa,useSystemFonts:G.useSystemFonts,cMapUrl:G.useWorkerFetch?G.cMapUrl:null,standardFontDataUrl:G.useWorkerFetch?G.standardFontDataUrl:null});if(et.destroyed)throw new Error("Worker was destroyed");return rt}const X=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${$e(X,bt)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var G;this.destroyed=!0,await((G=this._transport)==null?void 0:G.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=X;bt=new WeakMap,Se(PDFDocumentLoadingTask,bt,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(G,tt,nt=!1,rt=null){this.length=G,this.initialData=tt,this.progressiveDone=nt,this.contentDispositionFilename=rt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(G){this._rangeListeners.push(G)}addProgressListener(G){this._progressListeners.push(G)}addProgressiveReadListener(G){this._progressiveReadListeners.push(G)}addProgressiveDoneListener(G){this._progressiveDoneListeners.push(G)}onDataRange(G,tt){for(const nt of this._rangeListeners)nt(G,tt)}onDataProgress(G,tt){this._readyCapability.promise.then(()=>{for(const nt of this._progressListeners)nt(G,tt)})}onDataProgressiveRead(G){this._readyCapability.promise.then(()=>{for(const tt of this._progressiveReadListeners)tt(G)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const G of this._progressiveDoneListeners)G()})}transportReady(){this._readyCapability.resolve()}requestDataRange(G,tt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(G,tt){this._pdfInfo=G,this._transport=tt,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(G){return this._transport.getPage(G)}getPageIndex(G){return this._transport.getPageIndex(G)}getDestinations(){return this._transport.getDestinations()}getDestination(G){return this._transport.getDestination(G)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(G=!1){return this._transport.startCleanup(G||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(G,tt,nt,rt,mt=!1){this._pageIndex=G,this._pageInfo=tt,this._ownerDocument=rt,this._transport=nt,this._stats=mt?new _display_utils.StatTimer:null,this._pdfBug=mt,this.commonObjs=nt.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:G,rotation:tt=this.rotate,offsetX:nt=0,offsetY:rt=0,dontFlip:mt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:G,rotation:tt,offsetX:nt,offsetY:rt,dontFlip:mt})}getAnnotations({intent:G="display"}={}){const tt=this._transport.getRenderingIntent(G);let nt=this._annotationPromises.get(tt.cacheKey);return nt||(nt=this._transport.getAnnotations(this._pageIndex,tt.renderingIntent),this._annotationPromises.set(tt.cacheKey,nt),nt=nt.then(rt=>{for(const mt of rt)mt.titleObj!==void 0&&Object.defineProperty(mt,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),mt.titleObj.str}}),mt.contentsObj!==void 0&&Object.defineProperty(mt,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),mt.contentsObj.str}});return rt})),nt}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var G;return((G=this._transport._htmlForXfa)==null?void 0:G.children[this._pageIndex])||null}render({canvasContext:G,viewport:tt,intent:nt="display",annotationMode:rt=_util.AnnotationMode.ENABLE,transform:mt=null,imageLayer:dt=null,canvasFactory:Et=null,background:Ct=null,optionalContentConfigPromise:It=null,annotationCanvasMap:Nt=null,pageColors:St=null}){var re,Gt;((re=arguments[0])==null?void 0:re.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&rt===_util.AnnotationMode.ENABLE&&(rt=_util.AnnotationMode.ENABLE_FORMS)),((Gt=arguments[0])==null?void 0:Gt.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&rt===_util.AnnotationMode.ENABLE&&(rt=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const wt=this._transport.getRenderingIntent(nt,rt);this.pendingCleanup=!1,It||(It=this._transport.getOptionalContentConfig());let Ot=this._intentStates.get(wt.cacheKey);Ot||(Ot=Object.create(null),this._intentStates.set(wt.cacheKey,Ot)),Ot.streamReaderCancelTimeout&&(clearTimeout(Ot.streamReaderCancelTimeout),Ot.streamReaderCancelTimeout=null);const Ut=Et||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),vt=!!(wt.renderingIntent&_util.RenderingIntentFlag.PRINT);Ot.displayReadyCapability||(Ot.displayReadyCapability=(0,_util.createPromiseCapability)(),Ot.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(wt));const Bt=ne=>{Ot.renderTasks.delete(ht),(this.cleanupAfterRender||vt)&&(this.pendingCleanup=!0),this._tryCleanup(),ne?(ht.capability.reject(ne),this._abortOperatorList({intentState:Ot,reason:ne instanceof Error?ne:new Error(ne)})):ht.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},ht=new InternalRenderTask({callback:Bt,params:{canvasContext:G,viewport:tt,transform:mt,imageLayer:dt,background:Ct},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Nt,operatorList:Ot.operatorList,pageIndex:this._pageIndex,canvasFactory:Ut,useRequestAnimationFrame:!vt,pdfBug:this._pdfBug,pageColors:St});(Ot.renderTasks||(Ot.renderTasks=new Set)).add(ht);const qt=ht.task;return Promise.all([Ot.displayReadyCapability.promise,It]).then(([ne,Kt])=>{if(this.pendingCleanup){Bt();return}this._stats&&this._stats.time("Rendering"),ht.initializeGraphics({transparency:ne,optionalContentConfig:Kt}),ht.operatorListChanged()}).catch(Bt),qt}getOperatorList({intent:G="display",annotationMode:tt=_util.AnnotationMode.ENABLE}={}){function nt(){mt.operatorList.lastChunk&&(mt.opListReadCapability.resolve(mt.operatorList),mt.renderTasks.delete(dt))}const rt=this._transport.getRenderingIntent(G,tt,!0);let mt=this._intentStates.get(rt.cacheKey);mt||(mt=Object.create(null),this._intentStates.set(rt.cacheKey,mt));let dt;return mt.opListReadCapability||(dt=Object.create(null),dt.operatorListChanged=nt,mt.opListReadCapability=(0,_util.createPromiseCapability)(),(mt.renderTasks||(mt.renderTasks=new Set)).add(dt),mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(rt)),mt.opListReadCapability.promise}streamTextContent({disableCombineTextItems:G=!1,includeMarkedContent:tt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:G!==!0,includeMarkedContent:tt===!0},{highWaterMark:100,size(rt){return rt.items.length}})}getTextContent(G={}){if(this._transport._htmlForXfa)return this.getXfa().then(nt=>_xfa_text.XfaText.textContent(nt));const tt=this.streamTextContent(G);return new Promise(function(nt,rt){function mt(){dt.read().then(function({value:Ct,done:It}){if(It){nt(Et);return}Object.assign(Et.styles,Ct.styles),Et.items.push(...Ct.items),mt()},rt)}const dt=tt.getReader(),Et={items:[],styles:Object.create(null)};mt()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const G=[];for(const tt of this._intentStates.values())if(this._abortOperatorList({intentState:tt,reason:new Error("Page was destroyed."),force:!0}),!tt.opListReadCapability)for(const nt of tt.renderTasks)G.push(nt.completed),nt.cancel();this.objs.clear();for(const tt of this._bitmaps)tt.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(G)}cleanup(G=!1){return this.pendingCleanup=!0,this._tryCleanup(G)}_tryCleanup(G=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:tt,operatorList:nt}of this._intentStates.values())if(tt.size>0||!nt.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,G&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const tt of this._bitmaps)tt.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(G,tt){const nt=this._intentStates.get(tt);!nt||(this._stats&&this._stats.timeEnd("Page Request"),nt.displayReadyCapability&&nt.displayReadyCapability.resolve(G))}_renderPageChunk(G,tt){for(let nt=0,rt=G.length;nt<rt;nt++)tt.operatorList.fnArray.push(G.fnArray[nt]),tt.operatorList.argsArray.push(G.argsArray[nt]);tt.operatorList.lastChunk=G.lastChunk;for(const nt of tt.renderTasks)nt.operatorListChanged();G.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:G,cacheKey:tt}){const rt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:G,cacheKey:tt,annotationStorage:G&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),mt=this._intentStates.get(tt);mt.streamReader=rt;const dt=()=>{rt.read().then(({value:Et,done:Ct})=>{if(Ct){mt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Et,mt),dt())},Et=>{if(mt.streamReader=null,!this._transport.destroyed){if(mt.operatorList){mt.operatorList.lastChunk=!0;for(const Ct of mt.renderTasks)Ct.operatorListChanged();this._tryCleanup()}if(mt.displayReadyCapability)mt.displayReadyCapability.reject(Et);else if(mt.opListReadCapability)mt.opListReadCapability.reject(Et);else throw Et}})};dt()}_abortOperatorList({intentState:G,reason:tt,force:nt=!1}){if(!!G.streamReader){if(!nt){if(G.renderTasks.size>0)return;if(tt instanceof _display_utils.RenderingCancelledException){G.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:G,reason:tt,force:!0}),G.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(G.streamReader.cancel(new _util.AbortException(tt.message)).catch(()=>{}),G.streamReader=null,!this._transport.destroyed){for(const[rt,mt]of this._intentStates)if(mt===G){this._intentStates.delete(rt);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(G,tt){const nt={data:structuredClone(G,tt)};this._deferred.then(()=>{for(const rt of this._listeners)rt.call(this,nt)})}addEventListener(G,tt){this._listeners.push(tt)}removeEventListener(G,tt){const nt=this._listeners.indexOf(tt);this._listeners.splice(nt,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const et=(st=document==null?void 0:document.currentScript)==null?void 0:st.src;et&&(PDFWorkerUtil.fallbackWorkerSrc=et.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(et,G){let tt;try{if(tt=new URL(et),!tt.origin||tt.origin==="null")return!1}catch{return!1}const nt=new URL(G,tt);return tt.origin===nt.origin},PDFWorkerUtil.createCDNWrapper=function(et){const G=`importScripts("${et}");`;return URL.createObjectURL(new Blob([G]))}}const _PDFWorker=class{constructor({name:et=null,port:G=null,verbosity:tt=(0,_util.getVerbosityLevel)()}={}){if(G&&de(_PDFWorker,W).has(G))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=et,this.destroyed=!1,this.verbosity=tt,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,G){de(_PDFWorker,W).set(G,this),this._initializeFromPort(G);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(et){this._port=et,this._messageHandler=new _message_handler.MessageHandler("main","worker",et),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker!="undefined"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let et=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,et)||(et=PDFWorkerUtil.createCDNWrapper(new URL(et,window.location).href));const G=new Worker(et),tt=new _message_handler.MessageHandler("main","worker",G),nt=()=>{G.removeEventListener("error",rt),tt.destroy(),G.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},rt=()=>{this._webWorker||nt()};G.addEventListener("error",rt),tt.on("test",dt=>{if(G.removeEventListener("error",rt),this.destroyed){nt();return}dt?(this._messageHandler=tt,this._port=G,this._webWorker=G,this._readyCapability.resolve(),tt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),tt.destroy(),G.terminate())}),tt.on("ready",dt=>{if(G.removeEventListener("error",rt),this.destroyed){nt();return}try{mt()}catch{this._setupFakeWorker()}});const mt=()=>{const dt=new Uint8Array;tt.send("test",dt,[dt.buffer])};mt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(et=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const G=new LoopbackPort;this._port=G;const tt=`fake${PDFWorkerUtil.fakeWorkerId++}`,nt=new _message_handler.MessageHandler(tt+"_worker",tt,G);et.setup(nt,G);const rt=new _message_handler.MessageHandler(tt,tt+"_worker",G);this._messageHandler=rt,this._readyCapability.resolve(),rt.send("configure",{verbosity:this.verbosity})}).catch(et=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${et.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),de(_PDFWorker,W).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(et){if(!(et!=null&&et.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return de(this,W).has(et.port)?de(this,W).get(et.port):new _PDFWorker(et)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var et;try{return((et=globalThis.pdfjsWorker)==null?void 0:et.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;W=new WeakMap,Se(PDFWorker,W,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(G,tt,nt,rt){Se(this,Tt,null);Se(this,lt,new Map);Se(this,pt,new Map);Se(this,ut,null);this.messageHandler=G,this.loadingTask=tt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:tt.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:rt.ownerDocument,styleElement:rt.styleElement}),this._params=rt,rt.useWorkerFetch||(this.CMapReaderFactory=new rt.CMapReaderFactory({baseUrl:rt.cMapUrl,isCompressed:rt.cMapPacked}),this.StandardFontDataFactory=new rt.StandardFontDataFactory({baseUrl:rt.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=nt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return de(this,Tt)}getRenderingIntent(G,tt=_util.AnnotationMode.ENABLE,nt=!1){let rt=_util.RenderingIntentFlag.DISPLAY,mt="";switch(G){case"any":rt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":rt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${G}`)}switch(tt){case _util.AnnotationMode.DISABLE:rt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:rt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:rt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,mt=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${tt}`)}return nt&&(rt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:rt,cacheKey:`${rt}_${mt}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const G=[];for(const nt of de(this,lt).values())G.push(nt._destroy());de(this,lt).clear(),de(this,pt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const tt=this.messageHandler.sendWithPromise("Terminate",null);return G.push(tt),Promise.all(G).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ce(this,ut,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:G,loadingTask:tt}=this;G.on("GetReader",(nt,rt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=mt=>{this._lastProgress={loaded:mt.loaded,total:mt.total}},rt.onPull=()=>{this._fullReader.read().then(function({value:mt,done:dt}){if(dt){rt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(mt),"GetReader - expected an ArrayBuffer."),rt.enqueue(new Uint8Array(mt),1,[mt])}).catch(mt=>{rt.error(mt)})},rt.onCancel=mt=>{this._fullReader.cancel(mt),rt.ready.catch(dt=>{if(!this.destroyed)throw dt})}}),G.on("ReaderHeadersReady",nt=>{const rt=(0,_util.createPromiseCapability)(),mt=this._fullReader;return mt.headersReady.then(()=>{var dt;(!mt.isStreamingSupported||!mt.isRangeSupported)&&(this._lastProgress&&((dt=tt.onProgress)==null||dt.call(tt,this._lastProgress)),mt.onProgress=Et=>{var Ct;(Ct=tt.onProgress)==null||Ct.call(tt,{loaded:Et.loaded,total:Et.total})}),rt.resolve({isStreamingSupported:mt.isStreamingSupported,isRangeSupported:mt.isRangeSupported,contentLength:mt.contentLength})},rt.reject),rt.promise}),G.on("GetRangeReader",(nt,rt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const mt=this._networkStream.getRangeReader(nt.begin,nt.end);if(!mt){rt.close();return}rt.onPull=()=>{mt.read().then(function({value:dt,done:Et}){if(Et){rt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(dt),"GetRangeReader - expected an ArrayBuffer."),rt.enqueue(new Uint8Array(dt),1,[dt])}).catch(dt=>{rt.error(dt)})},rt.onCancel=dt=>{mt.cancel(dt),rt.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),G.on("GetDoc",({pdfInfo:nt})=>{this._numPages=nt.numPages,this._htmlForXfa=nt.htmlForXfa,delete nt.htmlForXfa,tt._capability.resolve(new PDFDocumentProxy(nt,this))}),G.on("DocException",function(nt){let rt;switch(nt.name){case"PasswordException":rt=new _util.PasswordException(nt.message,nt.code);break;case"InvalidPDFException":rt=new _util.InvalidPDFException(nt.message);break;case"MissingPDFException":rt=new _util.MissingPDFException(nt.message);break;case"UnexpectedResponseException":rt=new _util.UnexpectedResponseException(nt.message,nt.status);break;case"UnknownErrorException":rt=new _util.UnknownErrorException(nt.message,nt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}tt._capability.reject(rt)}),G.on("PasswordRequest",nt=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),tt.onPassword){const rt=mt=>{mt instanceof Error?this._passwordCapability.reject(mt):this._passwordCapability.resolve({password:mt})};try{tt.onPassword(rt,nt.code)}catch(mt){this._passwordCapability.reject(mt)}}else this._passwordCapability.reject(new _util.PasswordException(nt.message,nt.code));return this._passwordCapability.promise}),G.on("DataLoaded",nt=>{var rt;(rt=tt.onProgress)==null||rt.call(tt,{loaded:nt.length,total:nt.length}),this.downloadInfoCapability.resolve(nt)}),G.on("StartRenderPage",nt=>{if(this.destroyed)return;de(this,lt).get(nt.pageIndex)._startRenderPage(nt.transparency,nt.cacheKey)}),G.on("commonobj",([nt,rt,mt])=>{var dt;if(!this.destroyed&&!this.commonObjs.has(nt))switch(rt){case"Font":const Et=this._params;if("error"in mt){const Nt=mt.error;(0,_util.warn)(`Error during font loading: ${Nt}`),this.commonObjs.resolve(nt,Nt);break}let Ct=null;Et.pdfBug&&((dt=globalThis.FontInspector)==null?void 0:dt.enabled)&&(Ct={registerFont(Nt,St){globalThis.FontInspector.fontAdded(Nt,St)}});const It=new _font_loader.FontFaceObject(mt,{isEvalSupported:Et.isEvalSupported,disableFontFace:Et.disableFontFace,ignoreErrors:Et.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Ct});this.fontLoader.bind(It).catch(Nt=>G.sendWithPromise("FontFallback",{id:nt})).finally(()=>{!Et.fontExtraProperties&&It.data&&(It.data=null),this.commonObjs.resolve(nt,It)});break;case"FontPath":case"Image":this.commonObjs.resolve(nt,mt);break;default:throw new Error(`Got unknown common object type ${rt}`)}}),G.on("obj",([nt,rt,mt,dt])=>{var Ct;if(this.destroyed)return;const Et=de(this,lt).get(rt);if(!Et.objs.has(nt))switch(mt){case"Image":Et.objs.resolve(nt,dt);const It=8e6;if(dt){let Nt;if(dt.bitmap){const{bitmap:St,width:wt,height:Ot}=dt;Nt=wt*Ot*4,Et._bitmaps.add(St)}else Nt=((Ct=dt.data)==null?void 0:Ct.length)||0;Nt>It&&(Et.cleanupAfterRender=!0)}break;case"Pattern":Et.objs.resolve(nt,dt);break;default:throw new Error(`Got unknown object type ${mt}`)}}),G.on("DocProgress",nt=>{var rt;this.destroyed||(rt=tt.onProgress)==null||rt.call(tt,{loaded:nt.loaded,total:nt.total})}),G.on("DocStats",nt=>{this.destroyed||Ce(this,Tt,Object.freeze({streamTypes:Object.freeze(nt.streamTypes),fontTypes:Object.freeze(nt.fontTypes)}))}),G.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),G.on("FetchBuiltInCMap",nt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(nt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),G.on("FetchStandardFontData",nt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(nt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:G}){var tt,nt;this.destroyed||(nt=(tt=this.loadingTask).onUnsupportedFeature)==null||nt.call(tt,G)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(G){if(!Number.isInteger(G)||G<=0||G>this._numPages)return Promise.reject(new Error("Invalid page request."));const tt=G-1,nt=de(this,pt).get(tt);if(nt)return nt;const rt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:tt}).then(mt=>{if(this.destroyed)throw new Error("Transport destroyed");const dt=new PDFPageProxy(tt,mt,this,this._params.ownerDocument,this._params.pdfBug);return de(this,lt).set(tt,dt),dt});return de(this,pt).set(tt,rt),rt}getPageIndex(G){return typeof G!="object"||G===null||!Number.isInteger(G.num)||G.num<0||!Number.isInteger(G.gen)||G.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:G.num,gen:G.gen})}getAnnotations(G,tt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:G,intent:tt})}saveDocument(){var G,tt;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(tt=(G=this._fullReader)==null?void 0:G.filename)!=null?tt:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(G){return typeof G!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:G})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(G){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:G})}getStructTree(G){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:G})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(G=>new _optional_content_config.OptionalContentConfig(G))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return de(this,ut)||Ce(this,ut,this.messageHandler.sendWithPromise("GetMetadata",null).then(G=>{var tt,nt,rt,mt;return{info:G[0],metadata:G[1]?new _metadata.Metadata(G[1]):null,contentDispositionFilename:(nt=(tt=this._fullReader)==null?void 0:tt.filename)!=null?nt:null,contentLength:(mt=(rt=this._fullReader)==null?void 0:rt.contentLength)!=null?mt:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(G=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const tt of de(this,lt).values())if(!tt.cleanup())throw new Error(`startCleanup: Page ${tt.pageNumber} is currently rendering.`);this.commonObjs.clear(),G||this.fontLoader.clear(),Ce(this,ut,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const G=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:G.disableAutoFetch,enableXfa:G.enableXfa})}}Tt=new WeakMap,lt=new WeakMap,pt=new WeakMap,ut=new WeakMap;class PDFObjects{constructor(){Se(this,ct);Se(this,gt,Object.create(null))}get(G,tt=null){if(tt){const rt=Fe(this,ct,Ue).call(this,G);return rt.capability.promise.then(()=>tt(rt.data)),null}const nt=de(this,gt)[G];if(!(nt!=null&&nt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${G}.`);return nt.data}has(G){const tt=de(this,gt)[G];return(tt==null?void 0:tt.capability.settled)||!1}resolve(G,tt=null){const nt=Fe(this,ct,Ue).call(this,G);nt.data=tt,nt.capability.resolve()}clear(){Ce(this,gt,Object.create(null))}}gt=new WeakMap,ct=new WeakSet,Ue=function(G){const tt=de(this,gt)[G];return tt||(de(this,gt)[G]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(G){this._internalRenderTask=G,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const yt=class{constructor({callback:G,params:tt,objs:nt,commonObjs:rt,annotationCanvasMap:mt,operatorList:dt,pageIndex:Et,canvasFactory:Ct,useRequestAnimationFrame:It=!1,pdfBug:Nt=!1,pageColors:St=null}){this.callback=G,this.params=tt,this.objs=nt,this.commonObjs=rt,this.annotationCanvasMap=mt,this.operatorListIdx=null,this.operatorList=dt,this._pageIndex=Et,this.canvasFactory=Ct,this._pdfBug=Nt,this.pageColors=St,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=It===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=tt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:G=!1,optionalContentConfig:tt}){var Ct;if(this.cancelled)return;if(this._canvas){if(de(yt,At).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");de(yt,At).add(this._canvas)}this._pdfBug&&((Ct=globalThis.StepperManager)==null?void 0:Ct.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:nt,viewport:rt,transform:mt,imageLayer:dt,background:Et}=this.params;this.gfx=new _canvas.CanvasGraphics(nt,this.commonObjs,this.objs,this.canvasFactory,dt,tt,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:mt,viewport:rt,transparency:G,background:Et}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(G=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&de(yt,At).delete(this._canvas),this.callback(G||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&de(yt,At).delete(this._canvas),this.callback())))}};let InternalRenderTask=yt;At=new WeakMap,Se(InternalRenderTask,At,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.StatTimer=X.RenderingCancelledException=X.PixelsPerInch=X.PageViewport=X.PDFDateString=X.DOMStandardFontDataFactory=X.DOMSVGFactory=X.DOMCanvasFactory=X.DOMCMapReaderFactory=void 0,X.deprecated=Ct,X.getFilenameFromUrl=nt,X.getPdfFilenameFromUrl=rt,X.getXfaPageViewport=St,X.isDataScheme=G,X.isPdfFile=tt,X.isValidFetchUrl=dt,X.loadScript=Et;var W=st(6),Tt=st(1);const lt="http://www.w3.org/2000/svg",wt=class{};let pt=wt;Ie(pt,"CSS",96),Ie(pt,"PDF",72),Ie(pt,"PDF_TO_CSS_UNITS",wt.CSS/wt.PDF),X.PixelsPerInch=pt;class ut extends W.BaseCanvasFactory{constructor({ownerDocument:Ut=globalThis.document}={}){super(),this._document=Ut}_createCanvas(Ut,vt){const Bt=this._document.createElement("canvas");return Bt.width=Ut,Bt.height=vt,Bt}}X.DOMCanvasFactory=ut;async function gt(Ot,Ut=!1){if(dt(Ot,document.baseURI)){const vt=await fetch(Ot);if(!vt.ok)throw new Error(vt.statusText);return Ut?new Uint8Array(await vt.arrayBuffer()):(0,Tt.stringToBytes)(await vt.text())}return new Promise((vt,Bt)=>{const ht=new XMLHttpRequest;ht.open("GET",Ot,!0),Ut&&(ht.responseType="arraybuffer"),ht.onreadystatechange=()=>{if(ht.readyState===XMLHttpRequest.DONE){if(ht.status===200||ht.status===0){let qt;if(Ut&&ht.response?qt=new Uint8Array(ht.response):!Ut&&ht.responseText&&(qt=(0,Tt.stringToBytes)(ht.responseText)),qt){vt(qt);return}}Bt(new Error(ht.statusText))}},ht.send(null)})}class ct extends W.BaseCMapReaderFactory{_fetchData(Ut,vt){return gt(Ut,this.isCompressed).then(Bt=>({cMapData:Bt,compressionType:vt}))}}X.DOMCMapReaderFactory=ct;class at extends W.BaseStandardFontDataFactory{_fetchData(Ut){return gt(Ut,!0)}}X.DOMStandardFontDataFactory=at;class At extends W.BaseSVGFactory{_createSVG(Ut){return document.createElementNS(lt,Ut)}}X.DOMSVGFactory=At;class yt{constructor({viewBox:Ut,scale:vt,rotation:Bt,offsetX:ht=0,offsetY:qt=0,dontFlip:re=!1}){this.viewBox=Ut,this.scale=vt,this.rotation=Bt,this.offsetX=ht,this.offsetY=qt;const Gt=(Ut[2]+Ut[0])/2,ne=(Ut[3]+Ut[1])/2;let Kt,ie,xt,ot;switch(Bt%=360,Bt<0&&(Bt+=360),Bt){case 180:Kt=-1,ie=0,xt=0,ot=1;break;case 90:Kt=0,ie=1,xt=1,ot=0;break;case 270:Kt=0,ie=-1,xt=-1,ot=0;break;case 0:Kt=1,ie=0,xt=0,ot=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}re&&(xt=-xt,ot=-ot);let _t,Pt,R,ft;Kt===0?(_t=Math.abs(ne-Ut[1])*vt+ht,Pt=Math.abs(Gt-Ut[0])*vt+qt,R=Math.abs(Ut[3]-Ut[1])*vt,ft=Math.abs(Ut[2]-Ut[0])*vt):(_t=Math.abs(Gt-Ut[0])*vt+ht,Pt=Math.abs(ne-Ut[1])*vt+qt,R=Math.abs(Ut[2]-Ut[0])*vt,ft=Math.abs(Ut[3]-Ut[1])*vt),this.transform=[Kt*vt,ie*vt,xt*vt,ot*vt,_t-Kt*vt*Gt-xt*vt*ne,Pt-ie*vt*Gt-ot*vt*ne],this.width=R,this.height=ft}clone({scale:Ut=this.scale,rotation:vt=this.rotation,offsetX:Bt=this.offsetX,offsetY:ht=this.offsetY,dontFlip:qt=!1}={}){return new yt({viewBox:this.viewBox.slice(),scale:Ut,rotation:vt,offsetX:Bt,offsetY:ht,dontFlip:qt})}convertToViewportPoint(Ut,vt){return Tt.Util.applyTransform([Ut,vt],this.transform)}convertToViewportRectangle(Ut){const vt=Tt.Util.applyTransform([Ut[0],Ut[1]],this.transform),Bt=Tt.Util.applyTransform([Ut[2],Ut[3]],this.transform);return[vt[0],vt[1],Bt[0],Bt[1]]}convertToPdfPoint(Ut,vt){return Tt.Util.applyInverseTransform([Ut,vt],this.transform)}}X.PageViewport=yt;class et extends Tt.BaseException{constructor(Ut,vt){super(Ut,"RenderingCancelledException"),this.type=vt}}X.RenderingCancelledException=et;function G(Ot){const Ut=Ot.length;let vt=0;for(;vt<Ut&&Ot[vt].trim()==="";)vt++;return Ot.substring(vt,vt+5).toLowerCase()==="data:"}function tt(Ot){return typeof Ot=="string"&&/\.pdf$/i.test(Ot)}function nt(Ot){const Ut=Ot.indexOf("#"),vt=Ot.indexOf("?"),Bt=Math.min(Ut>0?Ut:Ot.length,vt>0?vt:Ot.length);return Ot.substring(Ot.lastIndexOf("/",Bt)+1,Bt)}function rt(Ot,Ut="document.pdf"){if(typeof Ot!="string")return Ut;if(G(Ot))return(0,Tt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ut;const vt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Bt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ht=vt.exec(Ot);let qt=Bt.exec(ht[1])||Bt.exec(ht[2])||Bt.exec(ht[3]);if(qt&&(qt=qt[0],qt.includes("%")))try{qt=Bt.exec(decodeURIComponent(qt))[0]}catch{}return qt||Ut}class mt{constructor(){this.started=Object.create(null),this.times=[]}time(Ut){Ut in this.started&&(0,Tt.warn)(`Timer is already running for ${Ut}`),this.started[Ut]=Date.now()}timeEnd(Ut){Ut in this.started||(0,Tt.warn)(`Timer has not been started for ${Ut}`),this.times.push({name:Ut,start:this.started[Ut],end:Date.now()}),delete this.started[Ut]}toString(){const Ut=[];let vt=0;for(const Bt of this.times){const ht=Bt.name;ht.length>vt&&(vt=ht.length)}for(const Bt of this.times){const ht=Bt.end-Bt.start;Ut.push(`${Bt.name.padEnd(vt)} ${ht}ms
`)}return Ut.join("")}}X.StatTimer=mt;function dt(Ot,Ut){try{const{protocol:vt}=Ut?new URL(Ot,Ut):new URL(Ot);return vt==="http:"||vt==="https:"}catch{return!1}}function Et(Ot,Ut=!1){return new Promise((vt,Bt)=>{const ht=document.createElement("script");ht.src=Ot,ht.onload=function(qt){Ut&&ht.remove(),vt(qt)},ht.onerror=function(){Bt(new Error(`Cannot load script at: ${ht.src}`))},(document.head||document.documentElement).appendChild(ht)})}function Ct(Ot){console.log("Deprecated API usage: "+Ot)}let It;class Nt{static toDateObject(Ut){if(!Ut||typeof Ut!="string")return null;It||(It=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const vt=It.exec(Ut);if(!vt)return null;const Bt=parseInt(vt[1],10);let ht=parseInt(vt[2],10);ht=ht>=1&&ht<=12?ht-1:0;let qt=parseInt(vt[3],10);qt=qt>=1&&qt<=31?qt:1;let re=parseInt(vt[4],10);re=re>=0&&re<=23?re:0;let Gt=parseInt(vt[5],10);Gt=Gt>=0&&Gt<=59?Gt:0;let ne=parseInt(vt[6],10);ne=ne>=0&&ne<=59?ne:0;const Kt=vt[7]||"Z";let ie=parseInt(vt[8],10);ie=ie>=0&&ie<=23?ie:0;let xt=parseInt(vt[9],10)||0;return xt=xt>=0&&xt<=59?xt:0,Kt==="-"?(re+=ie,Gt+=xt):Kt==="+"&&(re-=ie,Gt-=xt),new Date(Date.UTC(Bt,ht,qt,re,Gt,ne))}}X.PDFDateString=Nt;function St(Ot,{scale:Ut=1,rotation:vt=0}){const{width:Bt,height:ht}=Ot.attributes.style,qt=[0,0,parseInt(Bt),parseInt(ht)];return new yt({viewBox:qt,scale:Ut,rotation:vt})}},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.BaseStandardFontDataFactory=X.BaseSVGFactory=X.BaseCanvasFactory=X.BaseCMapReaderFactory=void 0;var W=st(1);class Tt{constructor(){this.constructor===Tt&&(0,W.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ct,at){if(ct<=0||at<=0)throw new Error("Invalid canvas size");const At=this._createCanvas(ct,at);return{canvas:At,context:At.getContext("2d")}}reset(ct,at,At){if(!ct.canvas)throw new Error("Canvas is not specified");if(at<=0||At<=0)throw new Error("Invalid canvas size");ct.canvas.width=at,ct.canvas.height=At}destroy(ct){if(!ct.canvas)throw new Error("Canvas is not specified");ct.canvas.width=0,ct.canvas.height=0,ct.canvas=null,ct.context=null}_createCanvas(ct,at){(0,W.unreachable)("Abstract method `_createCanvas` called.")}}X.BaseCanvasFactory=Tt;class lt{constructor({baseUrl:ct=null,isCompressed:at=!1}){this.constructor===lt&&(0,W.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ct,this.isCompressed=at}async fetch({name:ct}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ct)throw new Error("CMap name must be specified.");const at=this.baseUrl+ct+(this.isCompressed?".bcmap":""),At=this.isCompressed?W.CMapCompressionType.BINARY:W.CMapCompressionType.NONE;return this._fetchData(at,At).catch(yt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${at}`)})}_fetchData(ct,at){(0,W.unreachable)("Abstract method `_fetchData` called.")}}X.BaseCMapReaderFactory=lt;class pt{constructor({baseUrl:ct=null}){this.constructor===pt&&(0,W.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ct}async fetch({filename:ct}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ct)throw new Error("Font filename must be specified.");const at=`${this.baseUrl}${ct}`;return this._fetchData(at).catch(At=>{throw new Error(`Unable to load font data at: ${at}`)})}_fetchData(ct){(0,W.unreachable)("Abstract method `_fetchData` called.")}}X.BaseStandardFontDataFactory=pt;class ut{constructor(){this.constructor===ut&&(0,W.unreachable)("Cannot initialize BaseSVGFactory.")}create(ct,at){if(ct<=0||at<=0)throw new Error("Invalid SVG dimensions");const At=this._createSVG("svg:svg");return At.setAttribute("version","1.1"),At.setAttribute("width",`${ct}px`),At.setAttribute("height",`${at}px`),At.setAttribute("preserveAspectRatio","none"),At.setAttribute("viewBox",`0 0 ${ct} ${at}`),At}createElement(ct){if(typeof ct!="string")throw new Error("Invalid SVG element type");return this._createSVG(ct)}_createSVG(ct){(0,W.unreachable)("Abstract method `_createSVG` called.")}}X.BaseSVGFactory=ut},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.FontLoader=X.FontFaceObject=void 0;var W=st(1);class Tt{constructor({docId:gt,onUnsupportedFeature:ct,ownerDocument:at=globalThis.document,styleElement:At=null}){this.constructor===Tt&&(0,W.unreachable)("Cannot initialize BaseFontLoader."),this.docId=gt,this._onUnsupportedFeature=ct,this._document=at,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(gt){this.nativeFontFaces.push(gt),this._document.fonts.add(gt)}insertRule(gt){let ct=this.styleElement;ct||(ct=this.styleElement=this._document.createElement("style"),ct.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(ct));const at=ct.sheet;at.insertRule(gt,at.cssRules.length)}clear(){for(const gt of this.nativeFontFaces)this._document.fonts.delete(gt);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(gt){if(gt.attached||gt.missingFile)return;if(gt.attached=!0,this.isFontLoadingAPISupported){const at=gt.createNativeFontFace();if(at){this.addNativeFontFace(at);try{await at.loaded}catch(At){throw this._onUnsupportedFeature({featureId:W.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,W.warn)(`Failed to load font '${at.family}': '${At}'.`),gt.disableFontFace=!0,At}}return}const ct=gt.createFontFaceRule();if(ct){if(this.insertRule(ct),this.isSyncFontLoadingSupported)return;await new Promise(at=>{const At=this._queueLoadingCallback(at);this._prepareFontLoadEvent([ct],[gt],At)})}}_queueLoadingCallback(gt){(0,W.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var ct;const gt=!!((ct=this._document)!=null&&ct.fonts);return(0,W.shadow)(this,"isFontLoadingAPISupported",gt)}get isSyncFontLoadingSupported(){(0,W.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,W.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(gt,ct,at){(0,W.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let lt;X.FontLoader=lt,X.FontLoader=lt=class extends Tt{constructor(gt){super(gt),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let gt=!1;if(typeof navigator=="undefined")gt=!0;else{const ct=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(ct==null?void 0:ct[1])>=14&&(gt=!0)}return(0,W.shadow)(this,"isSyncFontLoadingSupported",gt)}_queueLoadingCallback(gt){function ct(){for((0,W.assert)(!At.done,"completeRequest() cannot be called twice."),At.done=!0;at.requests.length>0&&at.requests[0].done;){const yt=at.requests.shift();setTimeout(yt.callback,0)}}const at=this.loadingContext,At={id:`pdfjs-font-loading-${at.nextRequestId++}`,done:!1,complete:ct,callback:gt};return at.requests.push(At),At}get _loadTestFont(){const gt=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,W.shadow)(this,"_loadTestFont",gt())}_prepareFontLoadEvent(gt,ct,at){function At(Bt,ht){return Bt.charCodeAt(ht)<<24|Bt.charCodeAt(ht+1)<<16|Bt.charCodeAt(ht+2)<<8|Bt.charCodeAt(ht+3)&255}function yt(Bt,ht,qt,re){const Gt=Bt.substring(0,ht),ne=Bt.substring(ht+qt);return Gt+re+ne}let et,G;const tt=this._document.createElement("canvas");tt.width=1,tt.height=1;const nt=tt.getContext("2d");let rt=0;function mt(Bt,ht){if(rt++,rt>30){(0,W.warn)("Load test font never loaded."),ht();return}if(nt.font="30px "+Bt,nt.fillText(".",0,20),nt.getImageData(0,0,1,1).data[3]>0){ht();return}setTimeout(mt.bind(null,Bt,ht))}const dt=`lt${Date.now()}${this.loadTestFontId++}`;let Et=this._loadTestFont;Et=yt(Et,976,dt.length,dt);const It=16,Nt=1482184792;let St=At(Et,It);for(et=0,G=dt.length-3;et<G;et+=4)St=St-Nt+At(dt,et)|0;et<dt.length&&(St=St-Nt+At(dt+"XXX",et)|0),Et=yt(Et,It,4,(0,W.string32)(St));const wt=`url(data:font/opentype;base64,${btoa(Et)});`,Ot=`@font-face {font-family:"${dt}";src:${wt}}`;this.insertRule(Ot);const Ut=[];for(const Bt of ct)Ut.push(Bt.loadedName);Ut.push(dt);const vt=this._document.createElement("div");vt.style.visibility="hidden",vt.style.width=vt.style.height="10px",vt.style.position="absolute",vt.style.top=vt.style.left="0px";for(const Bt of Ut){const ht=this._document.createElement("span");ht.textContent="Hi",ht.style.fontFamily=Bt,vt.appendChild(ht)}this._document.body.appendChild(vt),mt(dt,()=>{vt.remove(),at.complete()})}};class pt{constructor(gt,{isEvalSupported:ct=!0,disableFontFace:at=!1,ignoreErrors:At=!1,onUnsupportedFeature:yt,fontRegistry:et=null}){this.compiledGlyphs=Object.create(null);for(const G in gt)this[G]=gt[G];this.isEvalSupported=ct!==!1,this.disableFontFace=at===!0,this.ignoreErrors=At===!0,this._onUnsupportedFeature=yt,this.fontRegistry=et}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let gt;if(!this.cssFontInfo)gt=new FontFace(this.loadedName,this.data,{});else{const ct={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ct.style=`oblique ${this.cssFontInfo.italicAngle}deg`),gt=new FontFace(this.cssFontInfo.fontFamily,this.data,ct)}return this.fontRegistry&&this.fontRegistry.registerFont(this),gt}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const gt=(0,W.bytesToString)(this.data),ct=`url(data:${this.mimetype};base64,${btoa(gt)});`;let at;if(!this.cssFontInfo)at=`@font-face {font-family:"${this.loadedName}";src:${ct}}`;else{let At=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(At+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),at=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${At}src:${ct}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,ct),at}getPathGenerator(gt,ct){if(this.compiledGlyphs[ct]!==void 0)return this.compiledGlyphs[ct];let at;try{at=gt.get(this.loadedName+"_path_"+ct)}catch(At){if(!this.ignoreErrors)throw At;return this._onUnsupportedFeature({featureId:W.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,W.warn)(`getPathGenerator - ignoring character: "${At}".`),this.compiledGlyphs[ct]=function(yt,et){}}if(this.isEvalSupported&&W.FeatureTest.isEvalSupported){const At=[];for(const yt of at){const et=yt.args!==void 0?yt.args.join(","):"";At.push("c.",yt.cmd,"(",et,`);
`)}return this.compiledGlyphs[ct]=new Function("c","size",At.join(""))}return this.compiledGlyphs[ct]=function(At,yt){for(const et of at)et.cmd==="scale"&&(et.args=[yt,-yt]),At[et.cmd].apply(At,et.args)}}}X.FontFaceObject=pt},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.AnnotationStorage=void 0;var W=st(9),Tt=st(1);class lt{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ut,gt){const ct=this._storage.get(ut);return ct===void 0?gt:Object.assign(gt,ct)}getRawValue(ut){return this._storage.get(ut)}setValue(ut,gt){const ct=this._storage.get(ut);let at=!1;if(ct!==void 0)for(const[At,yt]of Object.entries(gt))ct[At]!==yt&&(at=!0,ct[At]=yt);else at=!0,this._storage.set(ut,gt);at&&this._setModified()}getAll(){return this._storage.size>0?(0,Tt.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ut=new W.MurmurHash3_64;for(const[gt,ct]of this._storage)ut.update(`${gt}:${JSON.stringify(ct)}`);return ut.hexdigest()}}X.AnnotationStorage=lt},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.MurmurHash3_64=void 0;var W=st(1);const Tt=3285377520,lt=4294901760,pt=65535;class ut{constructor(ct){this.h1=ct?ct&4294967295:Tt,this.h2=ct?ct&4294967295:Tt}update(ct){let at,At;if(typeof ct=="string"){at=new Uint8Array(ct.length*2),At=0;for(let Nt=0,St=ct.length;Nt<St;Nt++){const wt=ct.charCodeAt(Nt);wt<=255?at[At++]=wt:(at[At++]=wt>>>8,at[At++]=wt&255)}}else if((0,W.isArrayBuffer)(ct))at=ct.slice(),At=at.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const yt=At>>2,et=At-yt*4,G=new Uint32Array(at.buffer,0,yt);let tt=0,nt=0,rt=this.h1,mt=this.h2;const dt=3432918353,Et=461845907,Ct=dt&pt,It=Et&pt;for(let Nt=0;Nt<yt;Nt++)Nt&1?(tt=G[Nt],tt=tt*dt&lt|tt*Ct&pt,tt=tt<<15|tt>>>17,tt=tt*Et&lt|tt*It&pt,rt^=tt,rt=rt<<13|rt>>>19,rt=rt*5+3864292196):(nt=G[Nt],nt=nt*dt&lt|nt*Ct&pt,nt=nt<<15|nt>>>17,nt=nt*Et&lt|nt*It&pt,mt^=nt,mt=mt<<13|mt>>>19,mt=mt*5+3864292196);switch(tt=0,et){case 3:tt^=at[yt*4+2]<<16;case 2:tt^=at[yt*4+1]<<8;case 1:tt^=at[yt*4],tt=tt*dt&lt|tt*Ct&pt,tt=tt<<15|tt>>>17,tt=tt*Et&lt|tt*It&pt,yt&1?rt^=tt:mt^=tt}this.h1=rt,this.h2=mt}hexdigest(){let ct=this.h1,at=this.h2;ct^=at>>>1,ct=ct*3981806797&lt|ct*36045&pt,at=at*4283543511&lt|((at<<16|ct>>>16)*2950163797&lt)>>>16,ct^=at>>>1,ct=ct*444984403&lt|ct*60499&pt,at=at*3301882366&lt|((at<<16|ct>>>16)*3120437893&lt)>>>16,ct^=at>>>1;const At=(ct>>>0).toString(16),yt=(at>>>0).toString(16);return At.padStart(8,"0")+yt.padStart(8,"0")}}X.MurmurHash3_64=ut},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.CanvasGraphics=void 0;var W=st(1),Tt=st(11),lt=st(12),pt=st(3),ut=st(5);const gt=16,ct=100,at=4096,At=15,yt=10,et=1e3,G=16,tt=1.000001;function nt(xt,ot){if(xt._removeMirroring)throw new Error("Context is already forwarding operations.");xt.__originalSave=xt.save,xt.__originalRestore=xt.restore,xt.__originalRotate=xt.rotate,xt.__originalScale=xt.scale,xt.__originalTranslate=xt.translate,xt.__originalTransform=xt.transform,xt.__originalSetTransform=xt.setTransform,xt.__originalResetTransform=xt.resetTransform,xt.__originalClip=xt.clip,xt.__originalMoveTo=xt.moveTo,xt.__originalLineTo=xt.lineTo,xt.__originalBezierCurveTo=xt.bezierCurveTo,xt.__originalRect=xt.rect,xt.__originalClosePath=xt.closePath,xt.__originalBeginPath=xt.beginPath,xt._removeMirroring=()=>{xt.save=xt.__originalSave,xt.restore=xt.__originalRestore,xt.rotate=xt.__originalRotate,xt.scale=xt.__originalScale,xt.translate=xt.__originalTranslate,xt.transform=xt.__originalTransform,xt.setTransform=xt.__originalSetTransform,xt.resetTransform=xt.__originalResetTransform,xt.clip=xt.__originalClip,xt.moveTo=xt.__originalMoveTo,xt.lineTo=xt.__originalLineTo,xt.bezierCurveTo=xt.__originalBezierCurveTo,xt.rect=xt.__originalRect,xt.closePath=xt.__originalClosePath,xt.beginPath=xt.__originalBeginPath,delete xt._removeMirroring},xt.save=function(){ot.save(),this.__originalSave()},xt.restore=function(){ot.restore(),this.__originalRestore()},xt.translate=function(Pt,R){ot.translate(Pt,R),this.__originalTranslate(Pt,R)},xt.scale=function(Pt,R){ot.scale(Pt,R),this.__originalScale(Pt,R)},xt.transform=function(Pt,R,ft,kt,Rt,Ft){ot.transform(Pt,R,ft,kt,Rt,Ft),this.__originalTransform(Pt,R,ft,kt,Rt,Ft)},xt.setTransform=function(Pt,R,ft,kt,Rt,Ft){ot.setTransform(Pt,R,ft,kt,Rt,Ft),this.__originalSetTransform(Pt,R,ft,kt,Rt,Ft)},xt.resetTransform=function(){ot.resetTransform(),this.__originalResetTransform()},xt.rotate=function(Pt){ot.rotate(Pt),this.__originalRotate(Pt)},xt.clip=function(Pt){ot.clip(Pt),this.__originalClip(Pt)},xt.moveTo=function(_t,Pt){ot.moveTo(_t,Pt),this.__originalMoveTo(_t,Pt)},xt.lineTo=function(_t,Pt){ot.lineTo(_t,Pt),this.__originalLineTo(_t,Pt)},xt.bezierCurveTo=function(_t,Pt,R,ft,kt,Rt){ot.bezierCurveTo(_t,Pt,R,ft,kt,Rt),this.__originalBezierCurveTo(_t,Pt,R,ft,kt,Rt)},xt.rect=function(_t,Pt,R,ft){ot.rect(_t,Pt,R,ft),this.__originalRect(_t,Pt,R,ft)},xt.closePath=function(){ot.closePath(),this.__originalClosePath()},xt.beginPath=function(){ot.beginPath(),this.__originalBeginPath()}}function rt(xt){if(xt._transformStack&&(xt._transformStack=[]),!xt.mozCurrentTransform){xt._originalSave=xt.save,xt._originalRestore=xt.restore,xt._originalRotate=xt.rotate,xt._originalScale=xt.scale,xt._originalTranslate=xt.translate,xt._originalTransform=xt.transform,xt._originalSetTransform=xt.setTransform,xt._originalResetTransform=xt.resetTransform,xt._transformMatrix=xt._transformMatrix||[1,0,0,1,0,0],xt._transformStack=[];try{const ot=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(xt),"lineWidth");xt._setLineWidth=ot.set,xt._getLineWidth=ot.get,Object.defineProperty(xt,"lineWidth",{set:function(Pt){this._setLineWidth(Pt*tt)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(xt,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(xt,"mozCurrentTransformInverse",{get:function(){const[_t,Pt,R,ft,kt,Rt]=this._transformMatrix,Ft=_t*ft-Pt*R,jt=Pt*R-_t*ft;return[ft/Ft,Pt/jt,R/jt,_t/Ft,(ft*kt-R*Rt)/jt,(Pt*kt-_t*Rt)/Ft]}}),xt.save=function(){const _t=this._transformMatrix;this._transformStack.push(_t),this._transformMatrix=_t.slice(0,6),this._originalSave()},xt.restore=function(){this._transformStack.length===0&&(0,W.warn)("Tried to restore a ctx when the stack was already empty.");const _t=this._transformStack.pop();_t&&(this._transformMatrix=_t,this._originalRestore())},xt.translate=function(_t,Pt){const R=this._transformMatrix;R[4]=R[0]*_t+R[2]*Pt+R[4],R[5]=R[1]*_t+R[3]*Pt+R[5],this._originalTranslate(_t,Pt)},xt.scale=function(_t,Pt){const R=this._transformMatrix;R[0]*=_t,R[1]*=_t,R[2]*=Pt,R[3]*=Pt,this._originalScale(_t,Pt)},xt.transform=function(_t,Pt,R,ft,kt,Rt){const Ft=this._transformMatrix;this._transformMatrix=[Ft[0]*_t+Ft[2]*Pt,Ft[1]*_t+Ft[3]*Pt,Ft[0]*R+Ft[2]*ft,Ft[1]*R+Ft[3]*ft,Ft[0]*kt+Ft[2]*Rt+Ft[4],Ft[1]*kt+Ft[3]*Rt+Ft[5]],xt._originalTransform(_t,Pt,R,ft,kt,Rt)},xt.setTransform=function(_t,Pt,R,ft,kt,Rt){this._transformMatrix=[_t,Pt,R,ft,kt,Rt],xt._originalSetTransform(_t,Pt,R,ft,kt,Rt)},xt.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],xt._originalResetTransform()},xt.rotate=function(_t){const Pt=Math.cos(_t),R=Math.sin(_t),ft=this._transformMatrix;this._transformMatrix=[ft[0]*Pt+ft[2]*R,ft[1]*Pt+ft[3]*R,ft[0]*-R+ft[2]*Pt,ft[1]*-R+ft[3]*Pt,ft[4],ft[5]],this._originalRotate(_t)}}}class mt{constructor(ot){this.canvasFactory=ot,this.cache=Object.create(null)}getCanvas(ot,_t,Pt,R){let ft;return this.cache[ot]!==void 0?(ft=this.cache[ot],this.canvasFactory.reset(ft,_t,Pt),ft.context.setTransform(1,0,0,1,0,0)):(ft=this.canvasFactory.create(_t,Pt),this.cache[ot]=ft),R&&rt(ft.context),ft}delete(ot){delete this.cache[ot]}clear(){for(const ot in this.cache){const _t=this.cache[ot];this.canvasFactory.destroy(_t),delete this.cache[ot]}}}function dt(xt,ot,_t,Pt,R,ft,kt,Rt,Ft,jt){const[$t,Yt,Ht,it,Lt,zt]=xt.mozCurrentTransform;if(Yt===0&&Ht===0){const Wt=kt*$t+Lt,Vt=Math.round(Wt),ee=Rt*it+zt,Xt=Math.round(ee),Jt=(kt+Ft)*$t+Lt,ae=Math.abs(Math.round(Jt)-Vt)||1,se=(Rt+jt)*it+zt,oe=Math.abs(Math.round(se)-Xt)||1;return xt.setTransform(Math.sign($t),0,0,Math.sign(it),Vt,Xt),xt.drawImage(ot,_t,Pt,R,ft,0,0,ae,oe),xt.setTransform($t,Yt,Ht,it,Lt,zt),[ae,oe]}if($t===0&&it===0){const Wt=Rt*Ht+Lt,Vt=Math.round(Wt),ee=kt*Yt+zt,Xt=Math.round(ee),Jt=(Rt+jt)*Ht+Lt,ae=Math.abs(Math.round(Jt)-Vt)||1,se=(kt+Ft)*Yt+zt,oe=Math.abs(Math.round(se)-Xt)||1;return xt.setTransform(0,Math.sign(Yt),Math.sign(Ht),0,Vt,Xt),xt.drawImage(ot,_t,Pt,R,ft,0,0,oe,ae),xt.setTransform($t,Yt,Ht,it,Lt,zt),[oe,ae]}xt.drawImage(ot,_t,Pt,R,ft,kt,Rt,Ft,jt);const Dt=Math.hypot($t,Yt),Mt=Math.hypot(Ht,it);return[Dt*Ft,Mt*jt]}function Et(xt){const{width:ot,height:_t}=xt;if(ot>et||_t>et)return null;const Pt=1e3,R=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ft=ot+1;let kt=new Uint8Array(ft*(_t+1)),Rt,Ft,jt;const $t=ot+7&-8;let Yt=new Uint8Array($t*_t),Ht=0;for(const Vt of xt.data){let ee=128;for(;ee>0;)Yt[Ht++]=Vt&ee?0:255,ee>>=1}let it=0;for(Ht=0,Yt[Ht]!==0&&(kt[0]=1,++it),Ft=1;Ft<ot;Ft++)Yt[Ht]!==Yt[Ht+1]&&(kt[Ft]=Yt[Ht]?2:1,++it),Ht++;for(Yt[Ht]!==0&&(kt[Ft]=2,++it),Rt=1;Rt<_t;Rt++){Ht=Rt*$t,jt=Rt*ft,Yt[Ht-$t]!==Yt[Ht]&&(kt[jt]=Yt[Ht]?1:8,++it);let Vt=(Yt[Ht]?4:0)+(Yt[Ht-$t]?8:0);for(Ft=1;Ft<ot;Ft++)Vt=(Vt>>2)+(Yt[Ht+1]?4:0)+(Yt[Ht-$t+1]?8:0),R[Vt]&&(kt[jt+Ft]=R[Vt],++it),Ht++;if(Yt[Ht-$t]!==Yt[Ht]&&(kt[jt+Ft]=Yt[Ht]?2:4,++it),it>Pt)return null}for(Ht=$t*(_t-1),jt=Rt*ft,Yt[Ht]!==0&&(kt[jt]=8,++it),Ft=1;Ft<ot;Ft++)Yt[Ht]!==Yt[Ht+1]&&(kt[jt+Ft]=Yt[Ht]?4:8,++it),Ht++;if(Yt[Ht]!==0&&(kt[jt+Ft]=4,++it),it>Pt)return null;const Lt=new Int32Array([0,ft,-1,0,-ft,0,0,0,1]);let zt,Dt,Mt;for(pt.isNodeJS?Dt=[]:zt=new Path2D,Rt=0;it&&Rt<=_t;Rt++){let Vt=Rt*ft;const ee=Vt+ot;for(;Vt<ee&&!kt[Vt];)Vt++;if(Vt===ee)continue;zt?zt.moveTo(Vt%ft,Rt):Mt=[Vt%ft,Rt];const Xt=Vt;let Jt=kt[Vt];do{const ae=Lt[Jt];do Vt+=ae;while(!kt[Vt]);const se=kt[Vt];se!==5&&se!==10?(Jt=se,kt[Vt]=0):(Jt=se&51*Jt>>4,kt[Vt]&=Jt>>2|Jt<<2),zt?zt.lineTo(Vt%ft,Vt/ft|0):Mt.push(Vt%ft,Vt/ft|0),kt[Vt]||--it}while(Xt!==Vt);zt||Dt.push(Mt),--Rt}return Yt=null,kt=null,function(Vt){if(Vt.save(),Vt.scale(1/ot,-1/_t),Vt.translate(0,-_t),zt)Vt.fill(zt);else{Vt.beginPath();for(const ee of Dt){Vt.moveTo(ee[0],ee[1]);for(let Xt=2,Jt=ee.length;Xt<Jt;Xt+=2)Vt.lineTo(ee[Xt],ee[Xt+1])}Vt.fill()}Vt.beginPath(),Vt.restore()}}class Ct{constructor(ot,_t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=W.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=W.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=W.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,ot,_t])}clone(){const ot=Object.create(this);return ot.clipBox=this.clipBox.slice(),ot}setCurrentPoint(ot,_t){this.x=ot,this.y=_t}updatePathMinMax(ot,_t,Pt){[_t,Pt]=W.Util.applyTransform([_t,Pt],ot),this.minX=Math.min(this.minX,_t),this.minY=Math.min(this.minY,Pt),this.maxX=Math.max(this.maxX,_t),this.maxY=Math.max(this.maxY,Pt)}updateRectMinMax(ot,_t){const Pt=W.Util.applyTransform(_t,ot),R=W.Util.applyTransform(_t.slice(2),ot);this.minX=Math.min(this.minX,Pt[0],R[0]),this.minY=Math.min(this.minY,Pt[1],R[1]),this.maxX=Math.max(this.maxX,Pt[0],R[0]),this.maxY=Math.max(this.maxY,Pt[1],R[1])}updateScalingPathMinMax(ot,_t){W.Util.scaleMinMax(ot,_t),this.minX=Math.min(this.minX,_t[0]),this.maxX=Math.max(this.maxX,_t[1]),this.minY=Math.min(this.minY,_t[2]),this.maxY=Math.max(this.maxY,_t[3])}updateCurvePathMinMax(ot,_t,Pt,R,ft,kt,Rt,Ft,jt,$t){const Yt=W.Util.bezierBoundingBox(_t,Pt,R,ft,kt,Rt,Ft,jt);if($t){$t[0]=Math.min($t[0],Yt[0],Yt[2]),$t[1]=Math.max($t[1],Yt[0],Yt[2]),$t[2]=Math.min($t[2],Yt[1],Yt[3]),$t[3]=Math.max($t[3],Yt[1],Yt[3]);return}this.updateRectMinMax(ot,Yt)}getPathBoundingBox(ot=Tt.PathType.FILL,_t=null){const Pt=[this.minX,this.minY,this.maxX,this.maxY];if(ot===Tt.PathType.STROKE){_t||(0,W.unreachable)("Stroke bounding box must include transform.");const R=W.Util.singularValueDecompose2dScale(_t),ft=R[0]*this.lineWidth/2,kt=R[1]*this.lineWidth/2;Pt[0]-=ft,Pt[1]-=kt,Pt[2]+=ft,Pt[3]+=kt}return Pt}updateClipFromPath(){const ot=W.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ot||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ot){this.clipBox=ot,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ot=Tt.PathType.FILL,_t=null){return W.Util.intersect(this.clipBox,this.getPathBoundingBox(ot,_t))}}function It(xt,ot,_t=null){if(typeof ImageData!="undefined"&&ot instanceof ImageData){xt.putImageData(ot,0,0);return}const Pt=ot.height,R=ot.width,ft=Pt%G,kt=(Pt-ft)/G,Rt=ft===0?kt:kt+1,Ft=xt.createImageData(R,G);let jt=0,$t;const Yt=ot.data,Ht=Ft.data;let it,Lt,zt,Dt,Mt,Wt,Vt,ee;if(_t)switch(_t.length){case 1:Mt=_t[0],Wt=_t[0],Vt=_t[0],ee=_t[0];break;case 4:Mt=_t[0],Wt=_t[1],Vt=_t[2],ee=_t[3];break}if(ot.kind===W.ImageKind.GRAYSCALE_1BPP){const Xt=Yt.byteLength,Jt=new Uint32Array(Ht.buffer,0,Ht.byteLength>>2),ae=Jt.length,se=R+7>>3;let oe=4294967295,ce=W.FeatureTest.isLittleEndian?4278190080:255;for(ee&&ee[0]===255&&ee[255]===0&&([oe,ce]=[ce,oe]),it=0;it<Rt;it++){for(zt=it<kt?G:ft,$t=0,Lt=0;Lt<zt;Lt++){const he=Xt-jt;let ge=0;const me=he>se?R:he*8-7,ye=me&-8;let _e=0,te=0;for(;ge<ye;ge+=8)te=Yt[jt++],Jt[$t++]=te&128?oe:ce,Jt[$t++]=te&64?oe:ce,Jt[$t++]=te&32?oe:ce,Jt[$t++]=te&16?oe:ce,Jt[$t++]=te&8?oe:ce,Jt[$t++]=te&4?oe:ce,Jt[$t++]=te&2?oe:ce,Jt[$t++]=te&1?oe:ce;for(;ge<me;ge++)_e===0&&(te=Yt[jt++],_e=128),Jt[$t++]=te&_e?oe:ce,_e>>=1}for(;$t<ae;)Jt[$t++]=0;xt.putImageData(Ft,0,it*G)}}else if(ot.kind===W.ImageKind.RGBA_32BPP){const Xt=!!(Mt||Wt||Vt);for(Lt=0,Dt=R*G*4,it=0;it<kt;it++){if(Ht.set(Yt.subarray(jt,jt+Dt)),jt+=Dt,Xt)for(let Jt=0;Jt<Dt;Jt+=4)Mt&&(Ht[Jt+0]=Mt[Ht[Jt+0]]),Wt&&(Ht[Jt+1]=Wt[Ht[Jt+1]]),Vt&&(Ht[Jt+2]=Vt[Ht[Jt+2]]);xt.putImageData(Ft,0,Lt),Lt+=G}if(it<Rt){if(Dt=R*ft*4,Ht.set(Yt.subarray(jt,jt+Dt)),Xt)for(let Jt=0;Jt<Dt;Jt+=4)Mt&&(Ht[Jt+0]=Mt[Ht[Jt+0]]),Wt&&(Ht[Jt+1]=Wt[Ht[Jt+1]]),Vt&&(Ht[Jt+2]=Vt[Ht[Jt+2]]);xt.putImageData(Ft,0,Lt)}}else if(ot.kind===W.ImageKind.RGB_24BPP){const Xt=!!(Mt||Wt||Vt);for(zt=G,Dt=R*zt,it=0;it<Rt;it++){for(it>=kt&&(zt=ft,Dt=R*zt),$t=0,Lt=Dt;Lt--;)Ht[$t++]=Yt[jt++],Ht[$t++]=Yt[jt++],Ht[$t++]=Yt[jt++],Ht[$t++]=255;if(Xt)for(let Jt=0;Jt<$t;Jt+=4)Mt&&(Ht[Jt+0]=Mt[Ht[Jt+0]]),Wt&&(Ht[Jt+1]=Wt[Ht[Jt+1]]),Vt&&(Ht[Jt+2]=Vt[Ht[Jt+2]]);xt.putImageData(Ft,0,it*G)}}else throw new Error(`bad image kind: ${ot.kind}`)}function Nt(xt,ot){if(ot.bitmap){xt.drawImage(ot.bitmap,0,0);return}const _t=ot.height,Pt=ot.width,R=_t%G,ft=(_t-R)/G,kt=R===0?ft:ft+1,Rt=xt.createImageData(Pt,G);let Ft=0;const jt=ot.data,$t=Rt.data;for(let Yt=0;Yt<kt;Yt++){const Ht=Yt<ft?G:R;({srcPos:Ft}=(0,lt.applyMaskImageData)({src:jt,srcPos:Ft,dest:$t,width:Pt,height:Ht})),xt.putImageData(Rt,0,Yt*G)}}function St(xt,ot){const _t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let Pt=0,R=_t.length;Pt<R;Pt++){const ft=_t[Pt];xt[ft]!==void 0&&(ot[ft]=xt[ft])}xt.setLineDash!==void 0&&(ot.setLineDash(xt.getLineDash()),ot.lineDashOffset=xt.lineDashOffset)}function wt(xt,ot){xt.strokeStyle=xt.fillStyle=ot||"#000000",xt.fillRule="nonzero",xt.globalAlpha=1,xt.lineWidth=1,xt.lineCap="butt",xt.lineJoin="miter",xt.miterLimit=10,xt.globalCompositeOperation="source-over",xt.font="10px sans-serif",xt.setLineDash!==void 0&&(xt.setLineDash([]),xt.lineDashOffset=0)}function Ot(xt,ot,_t,Pt){const R=xt.length;for(let ft=3;ft<R;ft+=4){const kt=xt[ft];if(kt===0)xt[ft-3]=ot,xt[ft-2]=_t,xt[ft-1]=Pt;else if(kt<255){const Rt=255-kt;xt[ft-3]=xt[ft-3]*kt+ot*Rt>>8,xt[ft-2]=xt[ft-2]*kt+_t*Rt>>8,xt[ft-1]=xt[ft-1]*kt+Pt*Rt>>8}}}function Ut(xt,ot,_t){const Pt=xt.length,R=1/255;for(let ft=3;ft<Pt;ft+=4){const kt=_t?_t[xt[ft]]:xt[ft];ot[ft]=ot[ft]*kt*R|0}}function vt(xt,ot,_t){const Pt=xt.length;for(let R=3;R<Pt;R+=4){const ft=xt[R-3]*77+xt[R-2]*152+xt[R-1]*28;ot[R]=_t?ot[R]*_t[ft>>8]>>8:ot[R]*ft>>16}}function Bt(xt,ot,_t,Pt,R,ft,kt,Rt,Ft,jt,$t){const Yt=!!ft,Ht=Yt?ft[0]:0,it=Yt?ft[1]:0,Lt=Yt?ft[2]:0;let zt;R==="Luminosity"?zt=vt:zt=Ut;const Mt=Math.min(Pt,Math.ceil(1048576/_t));for(let Wt=0;Wt<Pt;Wt+=Mt){const Vt=Math.min(Mt,Pt-Wt),ee=xt.getImageData(Rt-jt,Wt+(Ft-$t),_t,Vt),Xt=ot.getImageData(Rt,Wt+Ft,_t,Vt);Yt&&Ot(ee.data,Ht,it,Lt),zt(ee.data,Xt.data,kt),ot.putImageData(Xt,Rt,Wt+Ft)}}function ht(xt,ot,_t,Pt){const R=Pt[0],ft=Pt[1],kt=Pt[2]-R,Rt=Pt[3]-ft;kt===0||Rt===0||(Bt(ot.context,_t,kt,Rt,ot.subtype,ot.backdrop,ot.transferMap,R,ft,ot.offsetX,ot.offsetY),xt.save(),xt.globalAlpha=1,xt.globalCompositeOperation="source-over",xt.setTransform(1,0,0,1,0,0),xt.drawImage(_t.canvas,0,0),xt.restore())}function qt(xt,ot){const _t=W.Util.singularValueDecompose2dScale(xt);_t[0]=Math.fround(_t[0]),_t[1]=Math.fround(_t[1]);const Pt=Math.fround((globalThis.devicePixelRatio||1)*ut.PixelsPerInch.PDF_TO_CSS_UNITS);return ot!==void 0?ot:_t[0]<=Pt||_t[1]<=Pt}const re=["butt","round","square"],Gt=["miter","round","bevel"],ne={},Kt={};class ie{constructor(ot,_t,Pt,R,ft,kt,Rt,Ft){this.ctx=ot,this.current=new Ct(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_t,this.objs=Pt,this.canvasFactory=R,this.imageLayer=ft,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=kt,this.cachedCanvases=new mt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Rt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Ft==null?void 0:Ft.background)||null,this.foregroundColor=(Ft==null?void 0:Ft.foreground)||null,ot&&rt(ot),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ot,_t=null){return typeof ot=="string"?ot.startsWith("g_")?this.commonObjs.get(ot):this.objs.get(ot):_t}beginDrawing({transform:ot,viewport:_t,transparency:Pt=!1,background:R=null}){const ft=this.ctx.canvas.width,kt=this.ctx.canvas.height,Rt=R||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Ft=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const jt=this.backgroundColor=this.ctx.fillStyle;let $t=!0,Yt=Rt;if(this.ctx.fillStyle=Rt,Yt=this.ctx.fillStyle,$t=typeof Yt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Yt),Ft==="#000000"&&jt==="#ffffff"||Ft===jt||!$t)this.foregroundColor=this.backgroundColor=null;else{const Ht=parseInt(Yt.slice(1),16),it=(Ht&&16711680)>>16,Lt=(Ht&&65280)>>8,zt=Ht&&255,Dt=Wt=>(Wt/=255,Wt<=.03928?Wt/12.92:((Wt+.055)/1.055)**2.4),Mt=Math.round(.2126*Dt(it)+.7152*Dt(Lt)+.0722*Dt(zt));this.selectColor=(Wt,Vt,ee)=>{const Xt=.2126*Dt(Wt)+.7152*Dt(Vt)+.0722*Dt(ee);return Math.round(Xt)===Mt?jt:Ft}}}if(this.ctx.fillStyle=this.backgroundColor||Rt,this.ctx.fillRect(0,0,ft,kt),this.ctx.restore(),Pt){const Ft=this.cachedCanvases.getCanvas("transparent",ft,kt,!0);this.compositeCtx=this.ctx,this.transparentCanvas=Ft.canvas,this.ctx=Ft.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),wt(this.ctx,this.foregroundColor),ot&&(this.ctx.transform.apply(this.ctx,ot),this.outputScaleX=ot[0],this.outputScaleY=ot[0]),this.ctx.transform.apply(this.ctx,_t.transform),this.viewportScale=_t.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(ot,_t,Pt,R){const ft=ot.argsArray,kt=ot.fnArray;let Rt=_t||0;const Ft=ft.length;if(Ft===Rt)return Rt;const jt=Ft-Rt>yt&&typeof Pt=="function",$t=jt?Date.now()+At:0;let Yt=0;const Ht=this.commonObjs,it=this.objs;let Lt;for(;;){if(R!==void 0&&Rt===R.nextBreakPoint)return R.breakIt(Rt,Pt),Rt;if(Lt=kt[Rt],Lt!==W.OPS.dependency)this[Lt].apply(this,ft[Rt]);else for(const zt of ft[Rt]){const Dt=zt.startsWith("g_")?Ht:it;if(!Dt.has(zt))return Dt.get(zt,Pt),Rt}if(Rt++,Rt===Ft)return Rt;if(jt&&++Yt>yt){if(Date.now()>$t)return Pt(),Rt;Yt=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ot of this._cachedBitmapsMap.values()){for(const _t of ot.values())typeof HTMLCanvasElement!="undefined"&&_t instanceof HTMLCanvasElement&&(_t.width=_t.height=0);ot.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(ot,_t){const Pt=ot.width,R=ot.height;let ft=Math.max(Math.hypot(_t[0],_t[1]),1),kt=Math.max(Math.hypot(_t[2],_t[3]),1),Rt=Pt,Ft=R,jt="prescale1",$t,Yt;for(;ft>2&&Rt>1||kt>2&&Ft>1;){let Ht=Rt,it=Ft;ft>2&&Rt>1&&(Ht=Math.ceil(Rt/2),ft/=Rt/Ht),kt>2&&Ft>1&&(it=Math.ceil(Ft/2),kt/=Ft/it),$t=this.cachedCanvases.getCanvas(jt,Ht,it,!1),Yt=$t.context,Yt.clearRect(0,0,Ht,it),Yt.drawImage(ot,0,0,Rt,Ft,0,0,Ht,it),ot=$t.canvas,Rt=Ht,Ft=it,jt=jt==="prescale1"?"prescale2":"prescale1"}return{img:ot,paintWidth:Rt,paintHeight:Ft}}_createMaskCanvas(ot){const _t=this.ctx,{width:Pt,height:R}=ot,ft=this.current.fillColor,kt=this.current.patternFill,Rt=_t.mozCurrentTransform;let Ft,jt,$t,Yt;if((ot.bitmap||ot.data)&&ot.count>1){const ae=ot.bitmap||ot.data.buffer,se=Rt.slice(0,4);jt=JSON.stringify(kt?se:[se,ft]),Ft=this._cachedBitmapsMap.get(ae),Ft||(Ft=new Map,this._cachedBitmapsMap.set(ae,Ft));const oe=Ft.get(jt);if(oe&&!kt){const ce=Math.round(Math.min(Rt[0],Rt[2])+Rt[4]),he=Math.round(Math.min(Rt[1],Rt[3])+Rt[5]);return{canvas:oe,offsetX:ce,offsetY:he}}$t=oe}$t||(Yt=this.cachedCanvases.getCanvas("maskCanvas",Pt,R,!1),Nt(Yt.context,ot));let Ht=W.Util.transform(Rt,[1/Pt,0,0,-1/R,0,0]);Ht=W.Util.transform(Ht,[1,0,0,1,0,-R]);const it=W.Util.applyTransform([0,0],Ht),Lt=W.Util.applyTransform([Pt,R],Ht),zt=W.Util.normalizeRect([it[0],it[1],Lt[0],Lt[1]]),Dt=Math.round(zt[2]-zt[0])||1,Mt=Math.round(zt[3]-zt[1])||1,Wt=this.cachedCanvases.getCanvas("fillCanvas",Dt,Mt,!0),Vt=Wt.context,ee=Math.min(it[0],Lt[0]),Xt=Math.min(it[1],Lt[1]);Vt.translate(-ee,-Xt),Vt.transform.apply(Vt,Ht),$t||($t=this._scaleImage(Yt.canvas,Vt.mozCurrentTransformInverse),$t=$t.img,Ft&&kt&&Ft.set(jt,$t)),Vt.imageSmoothingEnabled=qt(Vt.mozCurrentTransform,ot.interpolate),dt(Vt,$t,0,0,$t.width,$t.height,0,0,Pt,R),Vt.globalCompositeOperation="source-in";const Jt=W.Util.transform(Vt.mozCurrentTransformInverse,[1,0,0,1,-ee,-Xt]);return Vt.fillStyle=kt?ft.getPattern(_t,this,Jt,Tt.PathType.FILL):ft,Vt.fillRect(0,0,Pt,R),Ft&&!kt&&(this.cachedCanvases.delete("fillCanvas"),Ft.set(jt,Wt.canvas)),{canvas:Wt.canvas,offsetX:Math.round(ee),offsetY:Math.round(Xt)}}setLineWidth(ot){ot!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=ot,this.ctx.lineWidth=ot}setLineCap(ot){this.ctx.lineCap=re[ot]}setLineJoin(ot){this.ctx.lineJoin=Gt[ot]}setMiterLimit(ot){this.ctx.miterLimit=ot}setDash(ot,_t){const Pt=this.ctx;Pt.setLineDash!==void 0&&(Pt.setLineDash(ot),Pt.lineDashOffset=_t)}setRenderingIntent(ot){}setFlatness(ot){}setGState(ot){for(let _t=0,Pt=ot.length;_t<Pt;_t++){const R=ot[_t],ft=R[0],kt=R[1];switch(ft){case"LW":this.setLineWidth(kt);break;case"LC":this.setLineCap(kt);break;case"LJ":this.setLineJoin(kt);break;case"ML":this.setMiterLimit(kt);break;case"D":this.setDash(kt[0],kt[1]);break;case"RI":this.setRenderingIntent(kt);break;case"FL":this.setFlatness(kt);break;case"Font":this.setFont(kt[0],kt[1]);break;case"CA":this.current.strokeAlpha=R[1];break;case"ca":this.current.fillAlpha=R[1],this.ctx.globalAlpha=R[1];break;case"BM":this.ctx.globalCompositeOperation=kt;break;case"SMask":this.current.activeSMask=kt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=kt}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ot=this.inSMaskMode;this.current.activeSMask&&!ot?this.beginSMaskMode():!this.current.activeSMask&&ot&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ot=this.ctx.canvas.width,_t=this.ctx.canvas.height,Pt="smaskGroupAt"+this.groupLevel,R=this.cachedCanvases.getCanvas(Pt,ot,_t,!0);this.suspendedCtx=this.ctx,this.ctx=R.context;const ft=this.ctx;ft.setTransform.apply(ft,this.suspendedCtx.mozCurrentTransform),St(this.suspendedCtx,ft),nt(ft,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),St(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ot){if(!this.current.activeSMask)return;ot?(ot[0]=Math.floor(ot[0]),ot[1]=Math.floor(ot[1]),ot[2]=Math.ceil(ot[2]),ot[3]=Math.ceil(ot[3])):ot=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const _t=this.current.activeSMask,Pt=this.suspendedCtx;ht(Pt,_t,this.ctx,ot),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(St(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ot=this.current;this.stateStack.push(ot),this.current=ot.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),St(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(ot,_t,Pt,R,ft,kt){this.ctx.transform(ot,_t,Pt,R,ft,kt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(ot,_t,Pt){const R=this.ctx,ft=this.current;let kt=ft.x,Rt=ft.y,Ft,jt;const $t=R.mozCurrentTransform,Yt=$t[0]===0&&$t[3]===0||$t[1]===0&&$t[2]===0,Ht=Yt?Pt.slice(0):null;for(let it=0,Lt=0,zt=ot.length;it<zt;it++)switch(ot[it]|0){case W.OPS.rectangle:kt=_t[Lt++],Rt=_t[Lt++];const Dt=_t[Lt++],Mt=_t[Lt++],Wt=kt+Dt,Vt=Rt+Mt;R.moveTo(kt,Rt),Dt===0||Mt===0?R.lineTo(Wt,Vt):(R.lineTo(Wt,Rt),R.lineTo(Wt,Vt),R.lineTo(kt,Vt)),Yt||ft.updateRectMinMax($t,[kt,Rt,Wt,Vt]),R.closePath();break;case W.OPS.moveTo:kt=_t[Lt++],Rt=_t[Lt++],R.moveTo(kt,Rt),Yt||ft.updatePathMinMax($t,kt,Rt);break;case W.OPS.lineTo:kt=_t[Lt++],Rt=_t[Lt++],R.lineTo(kt,Rt),Yt||ft.updatePathMinMax($t,kt,Rt);break;case W.OPS.curveTo:Ft=kt,jt=Rt,kt=_t[Lt+4],Rt=_t[Lt+5],R.bezierCurveTo(_t[Lt],_t[Lt+1],_t[Lt+2],_t[Lt+3],kt,Rt),ft.updateCurvePathMinMax($t,Ft,jt,_t[Lt],_t[Lt+1],_t[Lt+2],_t[Lt+3],kt,Rt,Ht),Lt+=6;break;case W.OPS.curveTo2:Ft=kt,jt=Rt,R.bezierCurveTo(kt,Rt,_t[Lt],_t[Lt+1],_t[Lt+2],_t[Lt+3]),ft.updateCurvePathMinMax($t,Ft,jt,kt,Rt,_t[Lt],_t[Lt+1],_t[Lt+2],_t[Lt+3],Ht),kt=_t[Lt+2],Rt=_t[Lt+3],Lt+=4;break;case W.OPS.curveTo3:Ft=kt,jt=Rt,kt=_t[Lt+2],Rt=_t[Lt+3],R.bezierCurveTo(_t[Lt],_t[Lt+1],kt,Rt,kt,Rt),ft.updateCurvePathMinMax($t,Ft,jt,_t[Lt],_t[Lt+1],kt,Rt,kt,Rt,Ht),Lt+=4;break;case W.OPS.closePath:R.closePath();break}Yt&&ft.updateScalingPathMinMax($t,Ht),ft.setCurrentPoint(kt,Rt)}closePath(){this.ctx.closePath()}stroke(ot){ot=typeof ot!="undefined"?ot:!0;const _t=this.ctx,Pt=this.current.strokeColor;_t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Pt=="object"&&(Pt==null?void 0:Pt.getPattern)?(_t.save(),_t.strokeStyle=Pt.getPattern(_t,this,_t.mozCurrentTransformInverse,Tt.PathType.STROKE),this.rescaleAndStroke(!1),_t.restore()):this.rescaleAndStroke(!0)),ot&&this.consumePath(this.current.getClippedPathBoundingBox()),_t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ot){ot=typeof ot!="undefined"?ot:!0;const _t=this.ctx,Pt=this.current.fillColor,R=this.current.patternFill;let ft=!1;R&&(_t.save(),_t.fillStyle=Pt.getPattern(_t,this,_t.mozCurrentTransformInverse,Tt.PathType.FILL),ft=!0);const kt=this.current.getClippedPathBoundingBox();this.contentVisible&&kt!==null&&(this.pendingEOFill?(_t.fill("evenodd"),this.pendingEOFill=!1):_t.fill()),ft&&_t.restore(),ot&&this.consumePath(kt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ne}eoClip(){this.pendingClip=Kt}beginText(){this.current.textMatrix=W.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ot=this.pendingTextPaths,_t=this.ctx;if(ot===void 0){_t.beginPath();return}_t.save(),_t.beginPath();for(let Pt=0;Pt<ot.length;Pt++){const R=ot[Pt];_t.setTransform.apply(_t,R.transform),_t.translate(R.x,R.y),R.addToPath(_t,R.fontSize)}_t.restore(),_t.clip(),_t.beginPath(),delete this.pendingTextPaths}setCharSpacing(ot){this.current.charSpacing=ot}setWordSpacing(ot){this.current.wordSpacing=ot}setHScale(ot){this.current.textHScale=ot/100}setLeading(ot){this.current.leading=-ot}setFont(ot,_t){const Pt=this.commonObjs.get(ot),R=this.current;if(!Pt)throw new Error(`Can't find font for ${ot}`);if(R.fontMatrix=Pt.fontMatrix||W.FONT_IDENTITY_MATRIX,(R.fontMatrix[0]===0||R.fontMatrix[3]===0)&&(0,W.warn)("Invalid font matrix for font "+ot),_t<0?(_t=-_t,R.fontDirection=-1):R.fontDirection=1,this.current.font=Pt,this.current.fontSize=_t,Pt.isType3Font)return;const ft=Pt.loadedName||"sans-serif";let kt="normal";Pt.black?kt="900":Pt.bold&&(kt="bold");const Rt=Pt.italic?"italic":"normal",Ft=`"${ft}", ${Pt.fallbackName}`;let jt=_t;_t<gt?jt=gt:_t>ct&&(jt=ct),this.current.fontSizeScale=_t/jt,this.ctx.font=`${Rt} ${kt} ${jt}px ${Ft}`}setTextRenderingMode(ot){this.current.textRenderingMode=ot}setTextRise(ot){this.current.textRise=ot}moveText(ot,_t){this.current.x=this.current.lineX+=ot,this.current.y=this.current.lineY+=_t}setLeadingMoveText(ot,_t){this.setLeading(-_t),this.moveText(ot,_t)}setTextMatrix(ot,_t,Pt,R,ft,kt){this.current.textMatrix=[ot,_t,Pt,R,ft,kt],this.current.textMatrixScale=Math.hypot(ot,_t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ot,_t,Pt,R){const ft=this.ctx,kt=this.current,Rt=kt.font,Ft=kt.textRenderingMode,jt=kt.fontSize/kt.fontSizeScale,$t=Ft&W.TextRenderingMode.FILL_STROKE_MASK,Yt=!!(Ft&W.TextRenderingMode.ADD_TO_PATH_FLAG),Ht=kt.patternFill&&!Rt.missingFile;let it;(Rt.disableFontFace||Yt||Ht)&&(it=Rt.getPathGenerator(this.commonObjs,ot)),Rt.disableFontFace||Ht?(ft.save(),ft.translate(_t,Pt),ft.beginPath(),it(ft,jt),R&&ft.setTransform.apply(ft,R),($t===W.TextRenderingMode.FILL||$t===W.TextRenderingMode.FILL_STROKE)&&ft.fill(),($t===W.TextRenderingMode.STROKE||$t===W.TextRenderingMode.FILL_STROKE)&&ft.stroke(),ft.restore()):(($t===W.TextRenderingMode.FILL||$t===W.TextRenderingMode.FILL_STROKE)&&ft.fillText(ot,_t,Pt),($t===W.TextRenderingMode.STROKE||$t===W.TextRenderingMode.FILL_STROKE)&&ft.strokeText(ot,_t,Pt)),Yt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ft.mozCurrentTransform,x:_t,y:Pt,fontSize:jt,addToPath:it})}get isFontSubpixelAAEnabled(){const{context:ot}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);ot.scale(1.5,1),ot.fillText("I",0,10);const _t=ot.getImageData(0,0,10,10).data;let Pt=!1;for(let R=3;R<_t.length;R+=4)if(_t[R]>0&&_t[R]<255){Pt=!0;break}return(0,W.shadow)(this,"isFontSubpixelAAEnabled",Pt)}showText(ot){const _t=this.current,Pt=_t.font;if(Pt.isType3Font)return this.showType3Text(ot);const R=_t.fontSize;if(R===0)return;const ft=this.ctx,kt=_t.fontSizeScale,Rt=_t.charSpacing,Ft=_t.wordSpacing,jt=_t.fontDirection,$t=_t.textHScale*jt,Yt=ot.length,Ht=Pt.vertical,it=Ht?1:-1,Lt=Pt.defaultVMetrics,zt=R*_t.fontMatrix[0],Dt=_t.textRenderingMode===W.TextRenderingMode.FILL&&!Pt.disableFontFace&&!_t.patternFill;ft.save(),ft.transform.apply(ft,_t.textMatrix),ft.translate(_t.x,_t.y+_t.textRise),jt>0?ft.scale($t,-1):ft.scale($t,1);let Mt;if(_t.patternFill){ft.save();const Jt=_t.fillColor.getPattern(ft,this,ft.mozCurrentTransformInverse,Tt.PathType.FILL);Mt=ft.mozCurrentTransform,ft.restore(),ft.fillStyle=Jt}let Wt=_t.lineWidth;const Vt=_t.textMatrixScale;if(Vt===0||Wt===0){const Jt=_t.textRenderingMode&W.TextRenderingMode.FILL_STROKE_MASK;(Jt===W.TextRenderingMode.STROKE||Jt===W.TextRenderingMode.FILL_STROKE)&&(Wt=this.getSinglePixelWidth())}else Wt/=Vt;kt!==1&&(ft.scale(kt,kt),Wt/=kt),ft.lineWidth=Wt;let ee=0,Xt;for(Xt=0;Xt<Yt;++Xt){const Jt=ot[Xt];if(typeof Jt=="number"){ee+=it*Jt*R/1e3;continue}let ae=!1;const se=(Jt.isSpace?Ft:0)+Rt,oe=Jt.fontChar,ce=Jt.accent;let he,ge,me=Jt.width;if(Ht){const _e=Jt.vmetric||Lt,te=-(Jt.vmetric?_e[1]:me*.5)*zt,Zt=_e[2]*zt;me=_e?-_e[0]:me,he=te/kt,ge=(ee+Zt)/kt}else he=ee/kt,ge=0;if(Pt.remeasure&&me>0){const _e=ft.measureText(oe).width*1e3/R*kt;if(me<_e&&this.isFontSubpixelAAEnabled){const te=me/_e;ae=!0,ft.save(),ft.scale(te,1),he/=te}else me!==_e&&(he+=(me-_e)/2e3*R/kt)}if(this.contentVisible&&(Jt.isInFont||Pt.missingFile)){if(Dt&&!ce)ft.fillText(oe,he,ge);else if(this.paintChar(oe,he,ge,Mt),ce){const _e=he+R*ce.offset.x/kt,te=ge-R*ce.offset.y/kt;this.paintChar(ce.fontChar,_e,te,Mt)}}let ye;Ht?ye=me*zt-se*jt:ye=me*zt+se*jt,ee+=ye,ae&&ft.restore()}Ht?_t.y-=ee:_t.x+=ee*$t,ft.restore(),this.compose()}showType3Text(ot){const _t=this.ctx,Pt=this.current,R=Pt.font,ft=Pt.fontSize,kt=Pt.fontDirection,Rt=R.vertical?1:-1,Ft=Pt.charSpacing,jt=Pt.wordSpacing,$t=Pt.textHScale*kt,Yt=Pt.fontMatrix||W.FONT_IDENTITY_MATRIX,Ht=ot.length,it=Pt.textRenderingMode===W.TextRenderingMode.INVISIBLE;let Lt,zt,Dt,Mt;if(!(it||ft===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,_t.save(),_t.transform.apply(_t,Pt.textMatrix),_t.translate(Pt.x,Pt.y),_t.scale($t,kt),Lt=0;Lt<Ht;++Lt){if(zt=ot[Lt],typeof zt=="number"){Mt=Rt*zt*ft/1e3,this.ctx.translate(Mt,0),Pt.x+=Mt*$t;continue}const Wt=(zt.isSpace?jt:0)+Ft,Vt=R.charProcOperatorList[zt.operatorListId];if(!Vt){(0,W.warn)(`Type3 character "${zt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=zt,this.save(),_t.scale(ft,ft),_t.transform.apply(_t,Yt),this.executeOperatorList(Vt),this.restore()),Dt=W.Util.applyTransform([zt.width,0],Yt)[0]*ft+Wt,_t.translate(Dt,0),Pt.x+=Dt*$t}_t.restore(),this.processingType3=null}}setCharWidth(ot,_t){}setCharWidthAndBounds(ot,_t,Pt,R,ft,kt){this.ctx.rect(Pt,R,ft-Pt,kt-R),this.ctx.clip(),this.endPath()}getColorN_Pattern(ot){let _t;if(ot[0]==="TilingPattern"){const Pt=ot[1],R=this.baseTransform||this.ctx.mozCurrentTransform.slice(),ft={createCanvasGraphics:kt=>new ie(kt,this.commonObjs,this.objs,this.canvasFactory)};_t=new Tt.TilingPattern(ot,Pt,this.ctx,ft,R)}else _t=this._getPattern(ot[1],ot[2]);return _t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ot,_t,Pt){var ft;const R=((ft=this.selectColor)==null?void 0:ft.call(this,ot,_t,Pt))||W.Util.makeHexColor(ot,_t,Pt);this.ctx.strokeStyle=R,this.current.strokeColor=R}setFillRGBColor(ot,_t,Pt){var ft;const R=((ft=this.selectColor)==null?void 0:ft.call(this,ot,_t,Pt))||W.Util.makeHexColor(ot,_t,Pt);this.ctx.fillStyle=R,this.current.fillColor=R,this.current.patternFill=!1}_getPattern(ot,_t=null){let Pt;return this.cachedPatterns.has(ot)?Pt=this.cachedPatterns.get(ot):(Pt=(0,Tt.getShadingPattern)(this.objs.get(ot)),this.cachedPatterns.set(ot,Pt)),_t&&(Pt.matrix=_t),Pt}shadingFill(ot){if(!this.contentVisible)return;const _t=this.ctx;this.save();const Pt=this._getPattern(ot);_t.fillStyle=Pt.getPattern(_t,this,_t.mozCurrentTransformInverse,Tt.PathType.SHADING);const R=_t.mozCurrentTransformInverse;if(R){const ft=_t.canvas,kt=ft.width,Rt=ft.height,Ft=W.Util.applyTransform([0,0],R),jt=W.Util.applyTransform([0,Rt],R),$t=W.Util.applyTransform([kt,0],R),Yt=W.Util.applyTransform([kt,Rt],R),Ht=Math.min(Ft[0],jt[0],$t[0],Yt[0]),it=Math.min(Ft[1],jt[1],$t[1],Yt[1]),Lt=Math.max(Ft[0],jt[0],$t[0],Yt[0]),zt=Math.max(Ft[1],jt[1],$t[1],Yt[1]);this.ctx.fillRect(Ht,it,Lt-Ht,zt-it)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,W.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,W.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ot,_t){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ot)&&ot.length===6&&this.transform.apply(this,ot),this.baseTransform=this.ctx.mozCurrentTransform,_t)){const Pt=_t[2]-_t[0],R=_t[3]-_t[1];this.ctx.rect(_t[0],_t[1],Pt,R),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,_t),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ot){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _t=this.ctx;ot.isolated||(0,W.info)("TODO: Support non-isolated groups."),ot.knockout&&(0,W.warn)("Knockout groups not supported.");const Pt=_t.mozCurrentTransform;if(ot.matrix&&_t.transform.apply(_t,ot.matrix),!ot.bbox)throw new Error("Bounding box is required.");let R=W.Util.getAxialAlignedBoundingBox(ot.bbox,_t.mozCurrentTransform);const ft=[0,0,_t.canvas.width,_t.canvas.height];R=W.Util.intersect(R,ft)||[0,0,0,0];const kt=Math.floor(R[0]),Rt=Math.floor(R[1]);let Ft=Math.max(Math.ceil(R[2])-kt,1),jt=Math.max(Math.ceil(R[3])-Rt,1),$t=1,Yt=1;Ft>at&&($t=Ft/at,Ft=at),jt>at&&(Yt=jt/at,jt=at),this.current.startNewPathAndClipBox([0,0,Ft,jt]);let Ht="groupAt"+this.groupLevel;ot.smask&&(Ht+="_smask_"+this.smaskCounter++%2);const it=this.cachedCanvases.getCanvas(Ht,Ft,jt,!0),Lt=it.context;Lt.scale(1/$t,1/Yt),Lt.translate(-kt,-Rt),Lt.transform.apply(Lt,Pt),ot.smask?this.smaskStack.push({canvas:it.canvas,context:Lt,offsetX:kt,offsetY:Rt,scaleX:$t,scaleY:Yt,subtype:ot.smask.subtype,backdrop:ot.smask.backdrop,transferMap:ot.smask.transferMap||null,startTransformInverse:null}):(_t.setTransform(1,0,0,1,0,0),_t.translate(kt,Rt),_t.scale($t,Yt),_t.save()),St(_t,Lt),this.ctx=Lt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_t),this.groupLevel++}endGroup(ot){if(!this.contentVisible)return;this.groupLevel--;const _t=this.ctx,Pt=this.groupStack.pop();if(this.ctx=Pt,this.ctx.imageSmoothingEnabled=!1,ot.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const R=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,R);const ft=W.Util.getAxialAlignedBoundingBox([0,0,_t.canvas.width,_t.canvas.height],R);this.ctx.drawImage(_t.canvas,0,0),this.ctx.restore(),this.compose(ft)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(ot,_t,Pt,R,ft){if(this.save(),Array.isArray(_t)&&_t.length===4){const kt=_t[2]-_t[0],Rt=_t[3]-_t[1];if(ft&&this.annotationCanvasMap){Pt=Pt.slice(),Pt[4]-=_t[0],Pt[5]-=_t[1],_t=_t.slice(),_t[0]=_t[1]=0,_t[2]=kt,_t[3]=Rt;const[Ft,jt]=W.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:$t}=this,Yt=Math.ceil(kt*this.outputScaleX*$t),Ht=Math.ceil(Rt*this.outputScaleY*$t);this.annotationCanvas=this.canvasFactory.create(Yt,Ht);const{canvas:it,context:Lt}=this.annotationCanvas,zt=`var(--zoom-factor) * ${ut.PixelsPerInch.PDF_TO_CSS_UNITS}`;it.style.width=`calc(${kt}px * ${zt})`,it.style.height=`calc(${Rt}px * ${zt})`,this.annotationCanvasMap.set(ot,it),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Lt,this.ctx.setTransform(Ft,0,0,-jt,0,Rt*jt),rt(this.ctx),wt(this.ctx,this.foregroundColor)}else wt(this.ctx,this.foregroundColor),this.ctx.rect(_t[0],_t[1],kt,Rt),this.ctx.clip(),this.endPath()}this.current=new Ct(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,Pt),this.transform.apply(this,R)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(ot){if(!this.contentVisible)return;const _t=ot.count;ot=this.getObject(ot.data,ot),ot.count=_t;const Pt=this.ctx,R=this.processingType3;if(R&&(R.compiled===void 0&&(R.compiled=Et(ot)),R.compiled)){R.compiled(Pt);return}const ft=this._createMaskCanvas(ot),kt=ft.canvas;Pt.save(),Pt.setTransform(1,0,0,1,0,0),Pt.drawImage(kt,ft.offsetX,ft.offsetY),Pt.restore(),this.compose()}paintImageMaskXObjectRepeat(ot,_t,Pt=0,R=0,ft,kt){if(!this.contentVisible)return;ot=this.getObject(ot.data,ot);const Rt=this.ctx;Rt.save();const Ft=Rt.mozCurrentTransform;Rt.transform(_t,Pt,R,ft,0,0);const jt=this._createMaskCanvas(ot);Rt.setTransform(1,0,0,1,0,0);for(let $t=0,Yt=kt.length;$t<Yt;$t+=2){const Ht=W.Util.transform(Ft,[_t,Pt,R,ft,kt[$t],kt[$t+1]]),[it,Lt]=W.Util.applyTransform([0,0],Ht);Rt.drawImage(jt.canvas,it,Lt)}Rt.restore(),this.compose()}paintImageMaskXObjectGroup(ot){if(!this.contentVisible)return;const _t=this.ctx,Pt=this.current.fillColor,R=this.current.patternFill;for(let ft=0,kt=ot.length;ft<kt;ft++){const Rt=ot[ft],Ft=Rt.width,jt=Rt.height,$t=this.cachedCanvases.getCanvas("maskCanvas",Ft,jt,!1),Yt=$t.context;Yt.save(),Nt(Yt,Rt),Yt.globalCompositeOperation="source-in",Yt.fillStyle=R?Pt.getPattern(Yt,this,_t.mozCurrentTransformInverse,Tt.PathType.FILL):Pt,Yt.fillRect(0,0,Ft,jt),Yt.restore(),_t.save(),_t.transform.apply(_t,Rt.transform),_t.scale(1,-1),dt(_t,$t.canvas,0,0,Ft,jt,0,-1,1,1),_t.restore()}this.compose()}paintImageXObject(ot){if(!this.contentVisible)return;const _t=this.getObject(ot);if(!_t){(0,W.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(_t)}paintImageXObjectRepeat(ot,_t,Pt,R){if(!this.contentVisible)return;const ft=this.getObject(ot);if(!ft){(0,W.warn)("Dependent image isn't ready yet");return}const kt=ft.width,Rt=ft.height,Ft=[];for(let jt=0,$t=R.length;jt<$t;jt+=2)Ft.push({transform:[_t,0,0,Pt,R[jt],R[jt+1]],x:0,y:0,w:kt,h:Rt});this.paintInlineImageXObjectGroup(ft,Ft)}paintInlineImageXObject(ot){if(!this.contentVisible)return;const _t=ot.width,Pt=ot.height,R=this.ctx;this.save(),R.scale(1/_t,-1/Pt);let ft;if(typeof HTMLElement=="function"&&ot instanceof HTMLElement||!ot.data)ft=ot;else{const jt=this.cachedCanvases.getCanvas("inlineImage",_t,Pt,!1),$t=jt.context;It($t,ot,this.current.transferMaps),ft=jt.canvas}const kt=this._scaleImage(ft,R.mozCurrentTransformInverse);R.imageSmoothingEnabled=qt(R.mozCurrentTransform,ot.interpolate);const[Rt,Ft]=dt(R,kt.img,0,0,kt.paintWidth,kt.paintHeight,0,-Pt,_t,Pt);if(this.imageLayer){const jt=this.getCanvasPosition(0,-Pt);this.imageLayer.appendImage({imgData:ot,left:jt[0],top:jt[1],width:Rt,height:Ft})}this.compose(),this.restore()}paintInlineImageXObjectGroup(ot,_t){if(!this.contentVisible)return;const Pt=this.ctx,R=ot.width,ft=ot.height,kt=this.cachedCanvases.getCanvas("inlineImage",R,ft,!1),Rt=kt.context;It(Rt,ot,this.current.transferMaps);for(let Ft=0,jt=_t.length;Ft<jt;Ft++){const $t=_t[Ft];if(Pt.save(),Pt.transform.apply(Pt,$t.transform),Pt.scale(1,-1),dt(Pt,kt.canvas,$t.x,$t.y,$t.w,$t.h,0,-1,1,1),this.imageLayer){const Yt=this.getCanvasPosition($t.x,$t.y);this.imageLayer.appendImage({imgData:ot,left:Yt[0],top:Yt[1],width:R,height:ft})}Pt.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ot){}markPointProps(ot,_t){}beginMarkedContent(ot){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ot,_t){ot==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(_t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ot){const _t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ot);const Pt=this.ctx;this.pendingClip&&(_t||(this.pendingClip===Kt?Pt.clip("evenodd"):Pt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Pt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ot=this.ctx.mozCurrentTransform;if(ot[1]===0&&ot[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ot[0]),Math.abs(ot[3]));else{const _t=Math.abs(ot[0]*ot[3]-ot[2]*ot[1]),Pt=Math.hypot(ot[0],ot[2]),R=Math.hypot(ot[1],ot[3]);this._cachedGetSinglePixelWidth=Math.max(Pt,R)/_t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:ot}=this.current,_t=this.ctx.mozCurrentTransform;let Pt,R;if(_t[1]===0&&_t[2]===0){const ft=Math.abs(_t[0]),kt=Math.abs(_t[3]);if(ot===0)Pt=1/ft,R=1/kt;else{const Rt=ft*ot,Ft=kt*ot;Pt=Rt<1?1/Rt:1,R=Ft<1?1/Ft:1}}else{const ft=Math.abs(_t[0]*_t[3]-_t[2]*_t[1]),kt=Math.hypot(_t[0],_t[1]),Rt=Math.hypot(_t[2],_t[3]);if(ot===0)Pt=Rt/ft,R=kt/ft;else{const Ft=ot*ft;Pt=Rt>Ft?Rt/Ft:1,R=kt>Ft?kt/Ft:1}}this._cachedScaleForStroking=[Pt,R]}return this._cachedScaleForStroking}rescaleAndStroke(ot){const{ctx:_t}=this,{lineWidth:Pt}=this.current,[R,ft]=this.getScaleForStroking();if(_t.lineWidth=Pt||1,R===1&&ft===1){_t.stroke();return}let kt,Rt,Ft;ot&&(kt=_t.mozCurrentTransform.slice(),Rt=_t.getLineDash().slice(),Ft=_t.lineDashOffset),_t.scale(R,ft);const jt=Math.max(R,ft);_t.setLineDash(_t.getLineDash().map($t=>$t/jt)),_t.lineDashOffset/=jt,_t.stroke(),ot&&(_t.setTransform(...kt),_t.setLineDash(Rt),_t.lineDashOffset=Ft)}getCanvasPosition(ot,_t){const Pt=this.ctx.mozCurrentTransform;return[Pt[0]*ot+Pt[2]*_t+Pt[4],Pt[1]*ot+Pt[3]*_t+Pt[5]]}isContentVisible(){for(let ot=this.markedContentStack.length-1;ot>=0;ot--)if(!this.markedContentStack[ot].visible)return!1;return!0}}X.CanvasGraphics=ie;for(const xt in W.OPS)ie.prototype[xt]!==void 0&&(ie.prototype[W.OPS[xt]]=ie.prototype[xt])},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.TilingPattern=X.PathType=void 0,X.getShadingPattern=et;var W=st(1),Tt=st(3);const lt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};X.PathType=lt;function pt(nt,rt){if(!rt||Tt.isNodeJS)return;const mt=rt[2]-rt[0],dt=rt[3]-rt[1],Et=new Path2D;Et.rect(rt[0],rt[1],mt,dt),nt.clip(Et)}class ut{constructor(){this.constructor===ut&&(0,W.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,W.unreachable)("Abstract method `getPattern` called.")}}class gt extends ut{constructor(rt){super(),this._type=rt[1],this._bbox=rt[2],this._colorStops=rt[3],this._p0=rt[4],this._p1=rt[5],this._r0=rt[6],this._r1=rt[7],this.matrix=null}_createGradient(rt){let mt;this._type==="axial"?mt=rt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(mt=rt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const dt of this._colorStops)mt.addColorStop(dt[0],dt[1]);return mt}getPattern(rt,mt,dt,Et){let Ct;if(Et===lt.STROKE||Et===lt.FILL){const It=mt.current.getClippedPathBoundingBox(Et,rt.mozCurrentTransform)||[0,0,0,0],Nt=Math.ceil(It[2]-It[0])||1,St=Math.ceil(It[3]-It[1])||1,wt=mt.cachedCanvases.getCanvas("pattern",Nt,St,!0),Ot=wt.context;Ot.clearRect(0,0,Ot.canvas.width,Ot.canvas.height),Ot.beginPath(),Ot.rect(0,0,Ot.canvas.width,Ot.canvas.height),Ot.translate(-It[0],-It[1]),dt=W.Util.transform(dt,[1,0,0,1,It[0],It[1]]),Ot.transform.apply(Ot,mt.baseTransform),this.matrix&&Ot.transform.apply(Ot,this.matrix),pt(Ot,this._bbox),Ot.fillStyle=this._createGradient(Ot),Ot.fill(),Ct=rt.createPattern(wt.canvas,"no-repeat");const Ut=new DOMMatrix(dt);try{Ct.setTransform(Ut)}catch(vt){(0,W.warn)(`RadialAxialShadingPattern.getPattern: "${vt==null?void 0:vt.message}".`)}}else pt(rt,this._bbox),Ct=this._createGradient(rt);return Ct}}function ct(nt,rt,mt,dt,Et,Ct,It,Nt){const St=rt.coords,wt=rt.colors,Ot=nt.data,Ut=nt.width*4;let vt;St[mt+1]>St[dt+1]&&(vt=mt,mt=dt,dt=vt,vt=Ct,Ct=It,It=vt),St[dt+1]>St[Et+1]&&(vt=dt,dt=Et,Et=vt,vt=It,It=Nt,Nt=vt),St[mt+1]>St[dt+1]&&(vt=mt,mt=dt,dt=vt,vt=Ct,Ct=It,It=vt);const Bt=(St[mt]+rt.offsetX)*rt.scaleX,ht=(St[mt+1]+rt.offsetY)*rt.scaleY,qt=(St[dt]+rt.offsetX)*rt.scaleX,re=(St[dt+1]+rt.offsetY)*rt.scaleY,Gt=(St[Et]+rt.offsetX)*rt.scaleX,ne=(St[Et+1]+rt.offsetY)*rt.scaleY;if(ht>=ne)return;const Kt=wt[Ct],ie=wt[Ct+1],xt=wt[Ct+2],ot=wt[It],_t=wt[It+1],Pt=wt[It+2],R=wt[Nt],ft=wt[Nt+1],kt=wt[Nt+2],Rt=Math.round(ht),Ft=Math.round(ne);let jt,$t,Yt,Ht,it,Lt,zt,Dt;for(let Mt=Rt;Mt<=Ft;Mt++){if(Mt<re){let Jt;Mt<ht?Jt=0:Jt=(ht-Mt)/(ht-re),jt=Bt-(Bt-qt)*Jt,$t=Kt-(Kt-ot)*Jt,Yt=ie-(ie-_t)*Jt,Ht=xt-(xt-Pt)*Jt}else{let Jt;Mt>ne?Jt=1:re===ne?Jt=0:Jt=(re-Mt)/(re-ne),jt=qt-(qt-Gt)*Jt,$t=ot-(ot-R)*Jt,Yt=_t-(_t-ft)*Jt,Ht=Pt-(Pt-kt)*Jt}let Wt;Mt<ht?Wt=0:Mt>ne?Wt=1:Wt=(ht-Mt)/(ht-ne),it=Bt-(Bt-Gt)*Wt,Lt=Kt-(Kt-R)*Wt,zt=ie-(ie-ft)*Wt,Dt=xt-(xt-kt)*Wt;const Vt=Math.round(Math.min(jt,it)),ee=Math.round(Math.max(jt,it));let Xt=Ut*Mt+Vt*4;for(let Jt=Vt;Jt<=ee;Jt++)Wt=(jt-Jt)/(jt-it),Wt<0?Wt=0:Wt>1&&(Wt=1),Ot[Xt++]=$t-($t-Lt)*Wt|0,Ot[Xt++]=Yt-(Yt-zt)*Wt|0,Ot[Xt++]=Ht-(Ht-Dt)*Wt|0,Ot[Xt++]=255}}function at(nt,rt,mt){const dt=rt.coords,Et=rt.colors;let Ct,It;switch(rt.type){case"lattice":const Nt=rt.verticesPerRow,St=Math.floor(dt.length/Nt)-1,wt=Nt-1;for(Ct=0;Ct<St;Ct++){let Ot=Ct*Nt;for(let Ut=0;Ut<wt;Ut++,Ot++)ct(nt,mt,dt[Ot],dt[Ot+1],dt[Ot+Nt],Et[Ot],Et[Ot+1],Et[Ot+Nt]),ct(nt,mt,dt[Ot+Nt+1],dt[Ot+1],dt[Ot+Nt],Et[Ot+Nt+1],Et[Ot+1],Et[Ot+Nt])}break;case"triangles":for(Ct=0,It=dt.length;Ct<It;Ct+=3)ct(nt,mt,dt[Ct],dt[Ct+1],dt[Ct+2],Et[Ct],Et[Ct+1],Et[Ct+2]);break;default:throw new Error("illegal figure")}}class At extends ut{constructor(rt){super(),this._coords=rt[2],this._colors=rt[3],this._figures=rt[4],this._bounds=rt[5],this._bbox=rt[7],this._background=rt[8],this.matrix=null}_createMeshCanvas(rt,mt,dt){const Nt=Math.floor(this._bounds[0]),St=Math.floor(this._bounds[1]),wt=Math.ceil(this._bounds[2])-Nt,Ot=Math.ceil(this._bounds[3])-St,Ut=Math.min(Math.ceil(Math.abs(wt*rt[0]*1.1)),3e3),vt=Math.min(Math.ceil(Math.abs(Ot*rt[1]*1.1)),3e3),Bt=wt/Ut,ht=Ot/vt,qt={coords:this._coords,colors:this._colors,offsetX:-Nt,offsetY:-St,scaleX:1/Bt,scaleY:1/ht},re=Ut+2*2,Gt=vt+2*2,ne=dt.getCanvas("mesh",re,Gt,!1),Kt=ne.context,ie=Kt.createImageData(Ut,vt);if(mt){const ot=ie.data;for(let _t=0,Pt=ot.length;_t<Pt;_t+=4)ot[_t]=mt[0],ot[_t+1]=mt[1],ot[_t+2]=mt[2],ot[_t+3]=255}for(const ot of this._figures)at(ie,ot,qt);return Kt.putImageData(ie,2,2),{canvas:ne.canvas,offsetX:Nt-2*Bt,offsetY:St-2*ht,scaleX:Bt,scaleY:ht}}getPattern(rt,mt,dt,Et){pt(rt,this._bbox);let Ct;if(Et===lt.SHADING)Ct=W.Util.singularValueDecompose2dScale(rt.mozCurrentTransform);else if(Ct=W.Util.singularValueDecompose2dScale(mt.baseTransform),this.matrix){const Nt=W.Util.singularValueDecompose2dScale(this.matrix);Ct=[Ct[0]*Nt[0],Ct[1]*Nt[1]]}const It=this._createMeshCanvas(Ct,Et===lt.SHADING?null:this._background,mt.cachedCanvases);return Et!==lt.SHADING&&(rt.setTransform.apply(rt,mt.baseTransform),this.matrix&&rt.transform.apply(rt,this.matrix)),rt.translate(It.offsetX,It.offsetY),rt.scale(It.scaleX,It.scaleY),rt.createPattern(It.canvas,"no-repeat")}}class yt extends ut{getPattern(){return"hotpink"}}function et(nt){switch(nt[0]){case"RadialAxial":return new gt(nt);case"Mesh":return new At(nt);case"Dummy":return new yt}throw new Error(`Unknown IR type: ${nt[0]}`)}const G={COLORED:1,UNCOLORED:2};class tt{static get MAX_PATTERN_SIZE(){return(0,W.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(rt,mt,dt,Et,Ct){this.operatorList=rt[2],this.matrix=rt[3]||[1,0,0,1,0,0],this.bbox=rt[4],this.xstep=rt[5],this.ystep=rt[6],this.paintType=rt[7],this.tilingType=rt[8],this.color=mt,this.ctx=dt,this.canvasGraphicsFactory=Et,this.baseTransform=Ct}createPatternCanvas(rt){const mt=this.operatorList,dt=this.bbox,Et=this.xstep,Ct=this.ystep,It=this.paintType,Nt=this.tilingType,St=this.color,wt=this.canvasGraphicsFactory;(0,W.info)("TilingType: "+Nt);const Ot=dt[0],Ut=dt[1],vt=dt[2],Bt=dt[3],ht=W.Util.singularValueDecompose2dScale(this.matrix),qt=W.Util.singularValueDecompose2dScale(this.baseTransform),re=[ht[0]*qt[0],ht[1]*qt[1]],Gt=this.getSizeAndScale(Et,this.ctx.canvas.width,re[0]),ne=this.getSizeAndScale(Ct,this.ctx.canvas.height,re[1]),Kt=rt.cachedCanvases.getCanvas("pattern",Gt.size,ne.size,!0),ie=Kt.context,xt=wt.createCanvasGraphics(ie);xt.groupLevel=rt.groupLevel,this.setFillAndStrokeStyleToContext(xt,It,St);let ot=Ot,_t=Ut,Pt=vt,R=Bt;return Ot<0&&(ot=0,Pt+=Math.abs(Ot)),Ut<0&&(_t=0,R+=Math.abs(Ut)),ie.translate(-(Gt.scale*ot),-(ne.scale*_t)),xt.transform(Gt.scale,0,0,ne.scale,0,0),ie.save(),this.clipBbox(xt,ot,_t,Pt,R),xt.baseTransform=xt.ctx.mozCurrentTransform.slice(),xt.executeOperatorList(mt),xt.endDrawing(),{canvas:Kt.canvas,scaleX:Gt.scale,scaleY:ne.scale,offsetX:ot,offsetY:_t}}getSizeAndScale(rt,mt,dt){rt=Math.abs(rt);const Et=Math.max(tt.MAX_PATTERN_SIZE,mt);let Ct=Math.ceil(rt*dt);return Ct>=Et?Ct=Et:dt=Ct/rt,{scale:dt,size:Ct}}clipBbox(rt,mt,dt,Et,Ct){const It=Et-mt,Nt=Ct-dt;rt.ctx.rect(mt,dt,It,Nt),rt.current.updateRectMinMax(rt.ctx.mozCurrentTransform,[mt,dt,Et,Ct]),rt.clip(),rt.endPath()}setFillAndStrokeStyleToContext(rt,mt,dt){const Et=rt.ctx,Ct=rt.current;switch(mt){case G.COLORED:const It=this.ctx;Et.fillStyle=It.fillStyle,Et.strokeStyle=It.strokeStyle,Ct.fillColor=It.fillStyle,Ct.strokeColor=It.strokeStyle;break;case G.UNCOLORED:const Nt=W.Util.makeHexColor(dt[0],dt[1],dt[2]);Et.fillStyle=Nt,Et.strokeStyle=Nt,Ct.fillColor=Nt,Ct.strokeColor=Nt;break;default:throw new W.FormatError(`Unsupported paint type: ${mt}`)}}getPattern(rt,mt,dt,Et){let Ct=dt;Et!==lt.SHADING&&(Ct=W.Util.transform(Ct,mt.baseTransform),this.matrix&&(Ct=W.Util.transform(Ct,this.matrix)));const It=this.createPatternCanvas(mt);let Nt=new DOMMatrix(Ct);Nt=Nt.translate(It.offsetX,It.offsetY),Nt=Nt.scale(1/It.scaleX,1/It.scaleY);const St=rt.createPattern(It.canvas,"repeat");try{St.setTransform(Nt)}catch(wt){(0,W.warn)(`TilingPattern.getPattern: "${wt==null?void 0:wt.message}".`)}return St}}X.TilingPattern=tt},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.applyMaskImageData=Tt;var W=st(1);function Tt({src:lt,srcPos:pt=0,dest:ut,destPos:gt=0,width:ct,height:at,inverseDecode:At=!1}){const yt=W.FeatureTest.isLittleEndian?4278190080:255,[et,G]=At?[0,yt]:[yt,0],tt=ct>>3,nt=ct&7,rt=lt.length;ut=new Uint32Array(ut.buffer);for(let mt=0;mt<at;mt++){for(const Et=pt+tt;pt<Et;pt++){const Ct=pt<rt?lt[pt]:255;ut[gt++]=Ct&128?G:et,ut[gt++]=Ct&64?G:et,ut[gt++]=Ct&32?G:et,ut[gt++]=Ct&16?G:et,ut[gt++]=Ct&8?G:et,ut[gt++]=Ct&4?G:et,ut[gt++]=Ct&2?G:et,ut[gt++]=Ct&1?G:et}if(nt===0)continue;const dt=pt<rt?lt[pt++]:255;for(let Et=0;Et<nt;Et++)ut[gt++]=dt&1<<7-Et?G:et}return{srcPos:pt,destPos:gt}}},(bt,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.GlobalWorkerOptions=void 0;const st=Object.create(null);X.GlobalWorkerOptions=st,st.workerPort=st.workerPort===void 0?null:st.workerPort,st.workerSrc=st.workerSrc===void 0?"":st.workerSrc},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.MessageHandler=void 0;var W=st(1);const Tt={UNKNOWN:0,DATA:1,ERROR:2},lt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function pt(gt){switch(gt instanceof Error||typeof gt=="object"&&gt!==null||(0,W.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),gt.name){case"AbortException":return new W.AbortException(gt.message);case"MissingPDFException":return new W.MissingPDFException(gt.message);case"PasswordException":return new W.PasswordException(gt.message,gt.code);case"UnexpectedResponseException":return new W.UnexpectedResponseException(gt.message,gt.status);case"UnknownErrorException":return new W.UnknownErrorException(gt.message,gt.details);default:return new W.UnknownErrorException(gt.message,gt.toString())}}class ut{constructor(ct,at,At){this.sourceName=ct,this.targetName=at,this.comObj=At,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=yt=>{const et=yt.data;if(et.targetName!==this.sourceName)return;if(et.stream){this._processStreamMessage(et);return}if(et.callback){const tt=et.callbackId,nt=this.callbackCapabilities[tt];if(!nt)throw new Error(`Cannot resolve callback ${tt}`);if(delete this.callbackCapabilities[tt],et.callback===Tt.DATA)nt.resolve(et.data);else if(et.callback===Tt.ERROR)nt.reject(pt(et.reason));else throw new Error("Unexpected callback case");return}const G=this.actionHandler[et.action];if(!G)throw new Error(`Unknown action from worker: ${et.action}`);if(et.callbackId){const tt=this.sourceName,nt=et.sourceName;new Promise(function(rt){rt(G(et.data))}).then(function(rt){At.postMessage({sourceName:tt,targetName:nt,callback:Tt.DATA,callbackId:et.callbackId,data:rt})},function(rt){At.postMessage({sourceName:tt,targetName:nt,callback:Tt.ERROR,callbackId:et.callbackId,reason:pt(rt)})});return}if(et.streamId){this._createStreamSink(et);return}G(et.data)},At.addEventListener("message",this._onComObjOnMessage)}on(ct,at){const At=this.actionHandler;if(At[ct])throw new Error(`There is already an actionName called "${ct}"`);At[ct]=at}send(ct,at,At){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ct,data:at},At)}sendWithPromise(ct,at,At){const yt=this.callbackId++,et=(0,W.createPromiseCapability)();this.callbackCapabilities[yt]=et;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ct,callbackId:yt,data:at},At)}catch(G){et.reject(G)}return et.promise}sendWithStream(ct,at,At,yt){const et=this.streamId++,G=this.sourceName,tt=this.targetName,nt=this.comObj;return new ReadableStream({start:rt=>{const mt=(0,W.createPromiseCapability)();return this.streamControllers[et]={controller:rt,startCall:mt,pullCall:null,cancelCall:null,isClosed:!1},nt.postMessage({sourceName:G,targetName:tt,action:ct,streamId:et,data:at,desiredSize:rt.desiredSize},yt),mt.promise},pull:rt=>{const mt=(0,W.createPromiseCapability)();return this.streamControllers[et].pullCall=mt,nt.postMessage({sourceName:G,targetName:tt,stream:lt.PULL,streamId:et,desiredSize:rt.desiredSize}),mt.promise},cancel:rt=>{(0,W.assert)(rt instanceof Error,"cancel must have a valid reason");const mt=(0,W.createPromiseCapability)();return this.streamControllers[et].cancelCall=mt,this.streamControllers[et].isClosed=!0,nt.postMessage({sourceName:G,targetName:tt,stream:lt.CANCEL,streamId:et,reason:pt(rt)}),mt.promise}},At)}_createStreamSink(ct){const at=ct.streamId,At=this.sourceName,yt=ct.sourceName,et=this.comObj,G=this,tt=this.actionHandler[ct.action],nt={enqueue(rt,mt=1,dt){if(this.isCancelled)return;const Et=this.desiredSize;this.desiredSize-=mt,Et>0&&this.desiredSize<=0&&(this.sinkCapability=(0,W.createPromiseCapability)(),this.ready=this.sinkCapability.promise),et.postMessage({sourceName:At,targetName:yt,stream:lt.ENQUEUE,streamId:at,chunk:rt},dt)},close(){this.isCancelled||(this.isCancelled=!0,et.postMessage({sourceName:At,targetName:yt,stream:lt.CLOSE,streamId:at}),delete G.streamSinks[at])},error(rt){(0,W.assert)(rt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,et.postMessage({sourceName:At,targetName:yt,stream:lt.ERROR,streamId:at,reason:pt(rt)}))},sinkCapability:(0,W.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ct.desiredSize,ready:null};nt.sinkCapability.resolve(),nt.ready=nt.sinkCapability.promise,this.streamSinks[at]=nt,new Promise(function(rt){rt(tt(ct.data,nt))}).then(function(){et.postMessage({sourceName:At,targetName:yt,stream:lt.START_COMPLETE,streamId:at,success:!0})},function(rt){et.postMessage({sourceName:At,targetName:yt,stream:lt.START_COMPLETE,streamId:at,reason:pt(rt)})})}_processStreamMessage(ct){const at=ct.streamId,At=this.sourceName,yt=ct.sourceName,et=this.comObj,G=this.streamControllers[at],tt=this.streamSinks[at];switch(ct.stream){case lt.START_COMPLETE:ct.success?G.startCall.resolve():G.startCall.reject(pt(ct.reason));break;case lt.PULL_COMPLETE:ct.success?G.pullCall.resolve():G.pullCall.reject(pt(ct.reason));break;case lt.PULL:if(!tt){et.postMessage({sourceName:At,targetName:yt,stream:lt.PULL_COMPLETE,streamId:at,success:!0});break}tt.desiredSize<=0&&ct.desiredSize>0&&tt.sinkCapability.resolve(),tt.desiredSize=ct.desiredSize,new Promise(function(nt){nt(tt.onPull&&tt.onPull())}).then(function(){et.postMessage({sourceName:At,targetName:yt,stream:lt.PULL_COMPLETE,streamId:at,success:!0})},function(nt){et.postMessage({sourceName:At,targetName:yt,stream:lt.PULL_COMPLETE,streamId:at,reason:pt(nt)})});break;case lt.ENQUEUE:if((0,W.assert)(G,"enqueue should have stream controller"),G.isClosed)break;G.controller.enqueue(ct.chunk);break;case lt.CLOSE:if((0,W.assert)(G,"close should have stream controller"),G.isClosed)break;G.isClosed=!0,G.controller.close(),this._deleteStreamController(G,at);break;case lt.ERROR:(0,W.assert)(G,"error should have stream controller"),G.controller.error(pt(ct.reason)),this._deleteStreamController(G,at);break;case lt.CANCEL_COMPLETE:ct.success?G.cancelCall.resolve():G.cancelCall.reject(pt(ct.reason)),this._deleteStreamController(G,at);break;case lt.CANCEL:if(!tt)break;new Promise(function(nt){nt(tt.onCancel&&tt.onCancel(pt(ct.reason)))}).then(function(){et.postMessage({sourceName:At,targetName:yt,stream:lt.CANCEL_COMPLETE,streamId:at,success:!0})},function(nt){et.postMessage({sourceName:At,targetName:yt,stream:lt.CANCEL_COMPLETE,streamId:at,reason:pt(nt)})}),tt.sinkCapability.reject(pt(ct.reason)),tt.isCancelled=!0,delete this.streamSinks[at];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(ct,at){await Promise.allSettled([ct.startCall&&ct.startCall.promise,ct.pullCall&&ct.pullCall.promise,ct.cancelCall&&ct.cancelCall.promise]),delete this.streamControllers[at]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}X.MessageHandler=ut},(bt,X,st)=>{var lt,pt;Object.defineProperty(X,"__esModule",{value:!0}),X.Metadata=void 0;var W=st(1);class Tt{constructor({parsedData:gt,rawData:ct}){Se(this,lt,void 0);Se(this,pt,void 0);Ce(this,lt,gt),Ce(this,pt,ct)}getRaw(){return de(this,pt)}get(gt){var ct;return(ct=de(this,lt).get(gt))!=null?ct:null}getAll(){return(0,W.objectFromMap)(de(this,lt))}has(gt){return de(this,lt).has(gt)}}lt=new WeakMap,pt=new WeakMap,X.Metadata=Tt},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.OptionalContentConfig=void 0;var W=st(1);class Tt{constructor(ut,gt){this.visible=!0,this.name=ut,this.intent=gt}}class lt{constructor(ut){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,ut!==null){this.name=ut.name,this.creator=ut.creator,this._order=ut.order;for(const gt of ut.groups)this._groups.set(gt.id,new Tt(gt.name,gt.intent));if(ut.baseState==="OFF")for(const gt of this._groups)gt.visible=!1;for(const gt of ut.on)this._groups.get(gt).visible=!0;for(const gt of ut.off)this._groups.get(gt).visible=!1}}_evaluateVisibilityExpression(ut){const gt=ut.length;if(gt<2)return!0;const ct=ut[0];for(let at=1;at<gt;at++){const At=ut[at];let yt;if(Array.isArray(At))yt=this._evaluateVisibilityExpression(At);else if(this._groups.has(At))yt=this._groups.get(At).visible;else return(0,W.warn)(`Optional content group not found: ${At}`),!0;switch(ct){case"And":if(!yt)return!1;break;case"Or":if(yt)return!0;break;case"Not":return!yt;default:return!0}}return ct==="And"}isVisible(ut){if(this._groups.size===0)return!0;if(!ut)return(0,W.warn)("Optional content group not defined."),!0;if(ut.type==="OCG")return this._groups.has(ut.id)?this._groups.get(ut.id).visible:((0,W.warn)(`Optional content group not found: ${ut.id}`),!0);if(ut.type==="OCMD"){if(ut.expression)return this._evaluateVisibilityExpression(ut.expression);if(!ut.policy||ut.policy==="AnyOn"){for(const gt of ut.ids){if(!this._groups.has(gt))return(0,W.warn)(`Optional content group not found: ${gt}`),!0;if(this._groups.get(gt).visible)return!0}return!1}else if(ut.policy==="AllOn"){for(const gt of ut.ids){if(!this._groups.has(gt))return(0,W.warn)(`Optional content group not found: ${gt}`),!0;if(!this._groups.get(gt).visible)return!1}return!0}else if(ut.policy==="AnyOff"){for(const gt of ut.ids){if(!this._groups.has(gt))return(0,W.warn)(`Optional content group not found: ${gt}`),!0;if(!this._groups.get(gt).visible)return!0}return!1}else if(ut.policy==="AllOff"){for(const gt of ut.ids){if(!this._groups.has(gt))return(0,W.warn)(`Optional content group not found: ${gt}`),!0;if(this._groups.get(gt).visible)return!1}return!0}return(0,W.warn)(`Unknown optional content policy ${ut.policy}.`),!0}return(0,W.warn)(`Unknown group type ${ut.type}.`),!0}setVisibility(ut,gt=!0){if(!this._groups.has(ut)){(0,W.warn)(`Optional content group not found: ${ut}`);return}this._groups.get(ut).visible=!!gt}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,W.objectFromMap)(this._groups):null}getGroup(ut){return this._groups.get(ut)||null}}X.OptionalContentConfig=lt},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.PDFDataTransportStream=void 0;var W=st(1),Tt=st(5);class lt{constructor(ct,at){(0,W.assert)(at,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ct.progressiveDone||!1,this._contentDispositionFilename=ct.contentDispositionFilename||null;const At=ct.initialData;if((At==null?void 0:At.length)>0){const yt=new Uint8Array(At).buffer;this._queuedChunks.push(yt)}this._pdfDataRangeTransport=at,this._isStreamingSupported=!ct.disableStream,this._isRangeSupported=!ct.disableRange,this._contentLength=ct.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((yt,et)=>{this._onReceiveData({begin:yt,chunk:et})}),this._pdfDataRangeTransport.addProgressListener((yt,et)=>{this._onProgress({loaded:yt,total:et})}),this._pdfDataRangeTransport.addProgressiveReadListener(yt=>{this._onReceiveData({chunk:yt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(ct){const at=new Uint8Array(ct.chunk).buffer;if(ct.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(at):this._queuedChunks.push(at);else{const At=this._rangeReaders.some(function(yt){return yt._begin!==ct.begin?!1:(yt._enqueue(at),!0)});(0,W.assert)(At,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ct,at;return(at=(ct=this._fullRequestReader)==null?void 0:ct._loaded)!=null?at:0}_onProgress(ct){if(ct.total===void 0){const at=this._rangeReaders[0];at!=null&&at.onProgress&&at.onProgress({loaded:ct.loaded})}else{const at=this._fullRequestReader;at!=null&&at.onProgress&&at.onProgress({loaded:ct.loaded,total:ct.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ct){const at=this._rangeReaders.indexOf(ct);at>=0&&this._rangeReaders.splice(at,1)}getFullReader(){(0,W.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ct=this._queuedChunks;return this._queuedChunks=null,new pt(this,ct,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ct,at){if(at<=this._progressiveDataLength)return null;const At=new ut(this,ct,at);return this._pdfDataRangeTransport.requestDataRange(ct,at),this._rangeReaders.push(At),At}cancelAllRequests(ct){this._fullRequestReader&&this._fullRequestReader.cancel(ct);for(const at of this._rangeReaders.slice(0))at.cancel(ct);this._pdfDataRangeTransport.abort()}}X.PDFDataTransportStream=lt;class pt{constructor(ct,at,At=!1,yt=null){this._stream=ct,this._done=At||!1,this._filename=(0,Tt.isPdfFile)(yt)?yt:null,this._queuedChunks=at||[],this._loaded=0;for(const et of this._queuedChunks)this._loaded+=et.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ct._fullRequestReader=this,this.onProgress=null}_enqueue(ct){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ct,done:!1}):this._queuedChunks.push(ct),this._loaded+=ct.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ct=(0,W.createPromiseCapability)();return this._requests.push(ct),ct.promise}cancel(ct){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ut{constructor(ct,at,At){this._stream=ct,this._begin=at,this._end=At,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ct){if(!this._done){if(this._requests.length===0)this._queuedChunk=ct;else{this._requests.shift().resolve({value:ct,done:!1});for(const At of this._requests)At.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const at=this._queuedChunk;return this._queuedChunk=null,{value:at,done:!1}}if(this._done)return{value:void 0,done:!0};const ct=(0,W.createPromiseCapability)();return this._requests.push(ct),ct.promise}cancel(ct){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(bt,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.XfaText=void 0;class st{static textContent(Tt){const lt=[],pt={items:lt,styles:Object.create(null)};function ut(gt){var At;if(!gt)return;let ct=null;const at=gt.name;if(at==="#text")ct=gt.value;else if(st.shouldBuildText(at))(At=gt==null?void 0:gt.attributes)!=null&&At.textContent?ct=gt.attributes.textContent:gt.value&&(ct=gt.value);else return;if(ct!==null&&lt.push({str:ct}),!!gt.children)for(const yt of gt.children)ut(yt)}return ut(Tt),pt}static shouldBuildText(Tt){return!(Tt==="textarea"||Tt==="input"||Tt==="option"||Tt==="select")}}X.XfaText=st},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.NodeStandardFontDataFactory=X.NodeCanvasFactory=X.NodeCMapReaderFactory=void 0;var W=st(6);const Tt=function(gt){return new Promise((ct,at)=>{require$$4.readFile(gt,(yt,et)=>{if(yt||!et){at(new Error(yt));return}ct(new Uint8Array(et))})})};class lt extends W.BaseCanvasFactory{_createCanvas(ct,at){return require$$4.createCanvas(ct,at)}}X.NodeCanvasFactory=lt;class pt extends W.BaseCMapReaderFactory{_fetchData(ct,at){return Tt(ct).then(At=>({cMapData:At,compressionType:at}))}}X.NodeCMapReaderFactory=pt;class ut extends W.BaseStandardFontDataFactory{_fetchData(ct){return Tt(ct)}}X.NodeStandardFontDataFactory=ut},(bt,X,st)=>{var ot,ze;Object.defineProperty(X,"__esModule",{value:!0}),X.AnnotationLayer=void 0;var W=st(1),Tt=st(5),lt=st(8),pt=st(21),ut=st(22);const gt=1e3,ct=new WeakSet;function at(Pt){return{width:Pt[2]-Pt[0],height:Pt[3]-Pt[1]}}class At{static create(R){switch(R.data.annotationType){case W.AnnotationType.LINK:return new et(R);case W.AnnotationType.TEXT:return new G(R);case W.AnnotationType.WIDGET:switch(R.data.fieldType){case"Tx":return new nt(R);case"Btn":return R.data.radioButton?new mt(R):R.data.checkBox?new rt(R):new dt(R);case"Ch":return new Et(R)}return new tt(R);case W.AnnotationType.POPUP:return new Ct(R);case W.AnnotationType.FREETEXT:return new Nt(R);case W.AnnotationType.LINE:return new St(R);case W.AnnotationType.SQUARE:return new wt(R);case W.AnnotationType.CIRCLE:return new Ot(R);case W.AnnotationType.POLYLINE:return new Ut(R);case W.AnnotationType.CARET:return new Bt(R);case W.AnnotationType.INK:return new ht(R);case W.AnnotationType.POLYGON:return new vt(R);case W.AnnotationType.HIGHLIGHT:return new qt(R);case W.AnnotationType.UNDERLINE:return new re(R);case W.AnnotationType.SQUIGGLY:return new Gt(R);case W.AnnotationType.STRIKEOUT:return new ne(R);case W.AnnotationType.STAMP:return new Kt(R);case W.AnnotationType.FILEATTACHMENT:return new ie(R);default:return new yt(R)}}}class yt{constructor(R,{isRenderable:ft=!1,ignoreBorder:kt=!1,createQuadrilaterals:Rt=!1}={}){this.isRenderable=ft,this.data=R.data,this.layer=R.layer,this.page=R.page,this.viewport=R.viewport,this.linkService=R.linkService,this.downloadManager=R.downloadManager,this.imageResourcesPath=R.imageResourcesPath,this.renderForms=R.renderForms,this.svgFactory=R.svgFactory,this.annotationStorage=R.annotationStorage,this.enableScripting=R.enableScripting,this.hasJSActions=R.hasJSActions,this._fieldObjects=R.fieldObjects,this._mouseState=R.mouseState,ft&&(this.container=this._createContainer(kt)),Rt&&(this.quadrilaterals=this._createQuadrilaterals(kt))}_createContainer(R=!1){const ft=this.data,kt=this.page,Rt=this.viewport,Ft=document.createElement("section");let{width:jt,height:$t}=at(ft.rect);Ft.setAttribute("data-annotation-id",ft.id);const Yt=W.Util.normalizeRect([ft.rect[0],kt.view[3]-ft.rect[1]+kt.view[1],ft.rect[2],kt.view[3]-ft.rect[3]+kt.view[1]]);if(ft.hasOwnCanvas){const Ht=Rt.transform.slice(),[it,Lt]=W.Util.singularValueDecompose2dScale(Ht);jt=Math.ceil(jt*it),$t=Math.ceil($t*Lt),Yt[0]*=it,Yt[1]*=Lt;for(let zt=0;zt<4;zt++)Ht[zt]=Math.sign(Ht[zt]);Ft.style.transform=`matrix(${Ht.join(",")})`}else Ft.style.transform=`matrix(${Rt.transform.join(",")})`;if(Ft.style.transformOrigin=`${-Yt[0]}px ${-Yt[1]}px`,!R&&ft.borderStyle.width>0){Ft.style.borderWidth=`${ft.borderStyle.width}px`,ft.borderStyle.style!==W.AnnotationBorderStyleType.UNDERLINE&&(jt-=2*ft.borderStyle.width,$t-=2*ft.borderStyle.width);const Ht=ft.borderStyle.horizontalCornerRadius,it=ft.borderStyle.verticalCornerRadius;if(Ht>0||it>0){const zt=`${Ht}px / ${it}px`;Ft.style.borderRadius=zt}switch(ft.borderStyle.style){case W.AnnotationBorderStyleType.SOLID:Ft.style.borderStyle="solid";break;case W.AnnotationBorderStyleType.DASHED:Ft.style.borderStyle="dashed";break;case W.AnnotationBorderStyleType.BEVELED:(0,W.warn)("Unimplemented border style: beveled");break;case W.AnnotationBorderStyleType.INSET:(0,W.warn)("Unimplemented border style: inset");break;case W.AnnotationBorderStyleType.UNDERLINE:Ft.style.borderBottomStyle="solid";break}ft.borderColor||ft.color||null?Ft.style.borderColor=W.Util.makeHexColor(ft.color[0]|0,ft.color[1]|0,ft.color[2]|0):Ft.style.borderWidth=0}return Ft.style.left=`${Yt[0]}px`,Ft.style.top=`${Yt[1]}px`,ft.hasOwnCanvas?Ft.style.width=Ft.style.height="auto":(Ft.style.width=`${jt}px`,Ft.style.height=`${$t}px`),Ft}get _commonActions(){const R=(ft,kt,Rt)=>{const Ft=Rt.detail[ft];Rt.target.style[kt]=pt.ColorConverters[`${Ft[0]}_HTML`](Ft.slice(1))};return(0,W.shadow)(this,"_commonActions",{display:ft=>{const kt=ft.detail.display%2===1;ft.target.style.visibility=kt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:kt,print:ft.detail.display===0||ft.detail.display===3})},print:ft=>{this.annotationStorage.setValue(this.data.id,{print:ft.detail.print})},hidden:ft=>{ft.target.style.visibility=ft.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ft.detail.hidden})},focus:ft=>{setTimeout(()=>ft.target.focus({preventScroll:!1}),0)},userName:ft=>{ft.target.title=ft.detail.userName},readonly:ft=>{ft.detail.readonly?ft.target.setAttribute("readonly",""):ft.target.removeAttribute("readonly")},required:ft=>{ft.detail.required?ft.target.setAttribute("required",""):ft.target.removeAttribute("required")},bgColor:ft=>{R("bgColor","backgroundColor",ft)},fillColor:ft=>{R("fillColor","backgroundColor",ft)},fgColor:ft=>{R("fgColor","color",ft)},textColor:ft=>{R("textColor","color",ft)},borderColor:ft=>{R("borderColor","borderColor",ft)},strokeColor:ft=>{R("strokeColor","borderColor",ft)}})}_dispatchEventFromSandbox(R,ft){const kt=this._commonActions;for(const Rt of Object.keys(ft.detail)){const Ft=R[Rt]||kt[Rt];Ft&&Ft(ft)}}_setDefaultPropertiesFromJS(R){if(!this.enableScripting)return;const ft=this.annotationStorage.getRawValue(this.data.id);if(!ft)return;const kt=this._commonActions;for(const[Rt,Ft]of Object.entries(ft)){const jt=kt[Rt];jt&&(jt({detail:Ft,target:R}),delete ft[Rt])}}_createQuadrilaterals(R=!1){if(!this.data.quadPoints)return null;const ft=[],kt=this.data.rect;for(const Rt of this.data.quadPoints)this.data.rect=[Rt[2].x,Rt[2].y,Rt[1].x,Rt[1].y],ft.push(this._createContainer(R));return this.data.rect=kt,ft}_createPopup(R,ft){let kt=this.container;this.quadrilaterals&&(R=R||this.quadrilaterals,kt=this.quadrilaterals[0]),R||(R=document.createElement("div"),R.style.height=kt.style.height,R.style.width=kt.style.width,kt.appendChild(R));const Ft=new It({container:kt,trigger:R,color:ft.color,titleObj:ft.titleObj,modificationDate:ft.modificationDate,contentsObj:ft.contentsObj,richText:ft.richText,hideWrapper:!0}).render();Ft.style.left=kt.style.width,kt.appendChild(Ft)}_renderQuadrilaterals(R){for(const ft of this.quadrilaterals)ft.className=R;return this.quadrilaterals}render(){(0,W.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(R,ft=null){const kt=[];if(this._fieldObjects){const Rt=this._fieldObjects[R];if(Rt)for(const{page:Ft,id:jt,exportValues:$t}of Rt){if(Ft===-1||jt===ft)continue;const Yt=typeof $t=="string"?$t:null,Ht=document.getElementById(jt);if(Ht&&!ct.has(Ht)){(0,W.warn)(`_getElementsByName - element not allowed: ${jt}`);continue}kt.push({id:jt,exportValue:Yt,domElement:Ht})}return kt}for(const Rt of document.getElementsByName(R)){const{id:Ft,exportValue:jt}=Rt;Ft!==ft&&(!ct.has(Rt)||kt.push({id:Ft,exportValue:jt,domElement:Rt}))}return kt}static get platform(){const R=typeof navigator!="undefined"?navigator.platform:"";return(0,W.shadow)(this,"platform",{isWin:R.includes("Win"),isMac:R.includes("Mac")})}}class et extends yt{constructor(R,ft=null){const kt=!!(R.data.url||R.data.dest||R.data.action||R.data.isTooltipOnly||R.data.resetForm||R.data.actions&&(R.data.actions.Action||R.data.actions["Mouse Up"]||R.data.actions["Mouse Down"]));super(R,{isRenderable:kt,ignoreBorder:!!(ft!=null&&ft.ignoreBorder),createQuadrilaterals:!0})}render(){const{data:R,linkService:ft}=this,kt=document.createElement("a");if(R.url)ft.addLinkAttributes(kt,R.url,R.newWindow);else if(R.action)this._bindNamedAction(kt,R.action);else if(R.dest)this._bindLink(kt,R.dest);else{let Rt=!1;R.actions&&(R.actions.Action||R.actions["Mouse Up"]||R.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(Rt=!0,this._bindJSAction(kt,R)),R.resetForm?this._bindResetFormAction(kt,R.resetForm):Rt||this._bindLink(kt,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Rt,Ft)=>{const jt=Ft===0?kt:kt.cloneNode();return Rt.appendChild(jt),Rt}):(this.container.className="linkAnnotation",this.container.appendChild(kt),this.container)}_bindLink(R,ft){R.href=this.linkService.getDestinationHash(ft),R.onclick=()=>(ft&&this.linkService.goToDestination(ft),!1),(ft||ft==="")&&(R.className="internalLink")}_bindNamedAction(R,ft){R.href=this.linkService.getAnchorUrl(""),R.onclick=()=>(this.linkService.executeNamedAction(ft),!1),R.className="internalLink"}_bindJSAction(R,ft){R.href=this.linkService.getAnchorUrl("");const kt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Rt of Object.keys(ft.actions)){const Ft=kt.get(Rt);!Ft||(R[Ft]=()=>{var jt;return(jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft.id,name:Rt}}),!1})}R.onclick||(R.onclick=()=>!1),R.className="internalLink"}_bindResetFormAction(R,ft){const kt=R.onclick;if(kt||(R.href=this.linkService.getAnchorUrl("")),R.className="internalLink",!this._fieldObjects){(0,W.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),kt||(R.onclick=()=>!1);return}R.onclick=()=>{var it;kt&&kt();const{fields:Rt,refs:Ft,include:jt}=ft,$t=[];if(Rt.length!==0||Ft.length!==0){const Lt=new Set(Ft);for(const zt of Rt){const Dt=this._fieldObjects[zt]||[];for(const{id:Mt}of Dt)Lt.add(Mt)}for(const zt of Object.values(this._fieldObjects))for(const Dt of zt)Lt.has(Dt.id)===jt&&$t.push(Dt)}else for(const Lt of Object.values(this._fieldObjects))$t.push(...Lt);const Yt=this.annotationStorage,Ht=[];for(const Lt of $t){const{id:zt}=Lt;switch(Ht.push(zt),Lt.type){case"text":{const Mt=Lt.defaultValue||"";Yt.setValue(zt,{value:Mt});break}case"checkbox":case"radiobutton":{const Mt=Lt.defaultValue===Lt.exportValues;Yt.setValue(zt,{value:Mt});break}case"combobox":case"listbox":{const Mt=Lt.defaultValue||"";Yt.setValue(zt,{value:Mt});break}default:continue}const Dt=document.getElementById(zt);!Dt||!ct.has(Dt)||Dt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ht,name:"ResetForm"}})),!1}}}class G extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft})}render(){this.container.className="textAnnotation";const R=document.createElement("img");return R.style.height=this.container.style.height,R.style.width=this.container.style.width,R.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",R.alt="[{{type}} Annotation]",R.dataset.l10nId="text_annotation_type",R.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(R,this.data),this.container.appendChild(R),this.container}}class tt extends yt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(R){const{isWin:ft,isMac:kt}=yt.platform;return ft&&R.ctrlKey||kt&&R.metaKey}_setEventListener(R,ft,kt,Rt){ft.includes("mouse")?R.addEventListener(ft,Ft=>{var jt;(jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:kt,value:Rt(Ft),shift:Ft.shiftKey,modifier:this._getKeyModifier(Ft)}})}):R.addEventListener(ft,Ft=>{var jt;(jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:kt,value:Rt(Ft)}})})}_setEventListeners(R,ft,kt){var Rt;for(const[Ft,jt]of ft)(jt==="Action"||((Rt=this.data.actions)==null?void 0:Rt[jt]))&&this._setEventListener(R,Ft,jt,kt)}_setBackgroundColor(R){const ft=this.data.backgroundColor||null;R.style.backgroundColor=ft===null?"transparent":W.Util.makeHexColor(ft[0],ft[1],ft[2])}}class nt extends tt{constructor(R){const ft=R.renderForms||!R.data.hasAppearance&&!!R.data.fieldValue;super(R,{isRenderable:ft})}setPropertyOnSiblings(R,ft,kt,Rt){const Ft=this.annotationStorage;for(const jt of this._getElementsByName(R.name,R.id))jt.domElement&&(jt.domElement[ft]=kt),Ft.setValue(jt.id,{[Rt]:kt})}render(){var Rt;const R=this.annotationStorage,ft=this.data.id;this.container.className="textWidgetAnnotation";let kt=null;if(this.renderForms){const Ft=R.getValue(ft,{value:this.data.fieldValue}),jt=Ft.formattedValue||Ft.value||"",$t={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(kt=document.createElement("textarea"),kt.textContent=jt):(kt=document.createElement("input"),kt.type="text",kt.setAttribute("value",jt)),ct.add(kt),kt.disabled=this.data.readOnly,kt.name=this.data.fieldName,kt.tabIndex=gt,$t.userValue=jt,kt.setAttribute("id",ft),kt.addEventListener("input",Ht=>{R.setValue(ft,{value:Ht.target.value}),this.setPropertyOnSiblings(kt,"value",Ht.target.value,"value")}),kt.addEventListener("resetform",Ht=>{var Lt;const it=(Lt=this.data.defaultFieldValue)!=null?Lt:"";kt.value=$t.userValue=it,$t.formattedValue=null});let Yt=Ht=>{const{formattedValue:it}=$t;it!=null&&(Ht.target.value=it),Ht.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){kt.addEventListener("focus",it=>{$t.userValue&&(it.target.value=$t.userValue),$t.valueOnFocus=it.target.value}),kt.addEventListener("updatefromsandbox",it=>{const Lt={value(zt){var Dt;$t.userValue=(Dt=zt.detail.value)!=null?Dt:"",R.setValue(ft,{value:$t.userValue.toString()}),zt.target.value=$t.userValue},formattedValue(zt){const{formattedValue:Dt}=zt.detail;$t.formattedValue=Dt,Dt!=null&&zt.target!==document.activeElement&&(zt.target.value=Dt),R.setValue(ft,{formattedValue:Dt})},selRange(zt){zt.target.setSelectionRange(...zt.detail.selRange)}};this._dispatchEventFromSandbox(Lt,it)}),kt.addEventListener("keydown",it=>{var Dt;let Lt=-1;if(it.key==="Escape"?Lt=0:it.key==="Enter"?Lt=2:it.key==="Tab"&&(Lt=3),Lt===-1)return;const{value:zt}=it.target;$t.valueOnFocus!==zt&&($t.userValue=zt,(Dt=this.linkService.eventBus)==null||Dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft,name:"Keystroke",value:zt,willCommit:!0,commitKey:Lt,selStart:it.target.selectionStart,selEnd:it.target.selectionEnd}}))});const Ht=Yt;Yt=null,kt.addEventListener("blur",it=>{var zt;const{value:Lt}=it.target;$t.userValue=Lt,this._mouseState.isDown&&$t.valueOnFocus!==Lt&&((zt=this.linkService.eventBus)==null||zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft,name:"Keystroke",value:Lt,willCommit:!0,commitKey:1,selStart:it.target.selectionStart,selEnd:it.target.selectionEnd}})),Ht(it)}),(Rt=this.data.actions)!=null&&Rt.Keystroke&&kt.addEventListener("beforeinput",it=>{var Xt;const{data:Lt,target:zt}=it,{value:Dt,selectionStart:Mt,selectionEnd:Wt}=zt;let Vt=Mt,ee=Wt;switch(it.inputType){case"deleteWordBackward":{const Jt=Dt.substring(0,Mt).match(/\w*[^\w]*$/);Jt&&(Vt-=Jt[0].length);break}case"deleteWordForward":{const Jt=Dt.substring(Mt).match(/^[^\w]*\w*/);Jt&&(ee+=Jt[0].length);break}case"deleteContentBackward":Mt===Wt&&(Vt-=1);break;case"deleteContentForward":Mt===Wt&&(ee+=1);break}it.preventDefault(),(Xt=this.linkService.eventBus)==null||Xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft,name:"Keystroke",value:Dt,change:Lt||"",willCommit:!1,selStart:Vt,selEnd:ee}})}),this._setEventListeners(kt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],it=>it.target.value)}if(Yt&&kt.addEventListener("blur",Yt),this.data.maxLen!==null&&(kt.maxLength=this.data.maxLen),this.data.comb){const it=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;kt.classList.add("comb"),kt.style.letterSpacing=`calc(${it}px - 1ch)`}}else kt=document.createElement("div"),kt.textContent=this.data.fieldValue,kt.style.verticalAlign="middle",kt.style.display="table-cell";return this._setTextStyle(kt),this._setBackgroundColor(kt),this._setDefaultPropertiesFromJS(kt),this.container.appendChild(kt),this.container}_setTextStyle(R){const ft=["left","center","right"],{fontSize:kt,fontColor:Rt}=this.data.defaultAppearanceData,Ft=R.style;kt&&(Ft.fontSize=`${kt}px`),Ft.color=W.Util.makeHexColor(Rt[0],Rt[1],Rt[2]),this.data.textAlignment!==null&&(Ft.textAlign=ft[this.data.textAlignment])}}class rt extends tt{constructor(R){super(R,{isRenderable:R.renderForms})}render(){const R=this.annotationStorage,ft=this.data,kt=ft.id;let Rt=R.getValue(kt,{value:ft.exportValue===ft.fieldValue}).value;typeof Rt=="string"&&(Rt=Rt!=="Off",R.setValue(kt,{value:Rt})),this.container.className="buttonWidgetAnnotation checkBox";const Ft=document.createElement("input");return ct.add(Ft),Ft.disabled=ft.readOnly,Ft.type="checkbox",Ft.name=ft.fieldName,Rt&&Ft.setAttribute("checked",!0),Ft.setAttribute("id",kt),Ft.setAttribute("exportValue",ft.exportValue),Ft.tabIndex=gt,Ft.addEventListener("change",jt=>{const{name:$t,checked:Yt}=jt.target;for(const Ht of this._getElementsByName($t,kt)){const it=Yt&&Ht.exportValue===ft.exportValue;Ht.domElement&&(Ht.domElement.checked=it),R.setValue(Ht.id,{value:it})}R.setValue(kt,{value:Yt})}),Ft.addEventListener("resetform",jt=>{const $t=ft.defaultFieldValue||"Off";jt.target.checked=$t===ft.exportValue}),this.enableScripting&&this.hasJSActions&&(Ft.addEventListener("updatefromsandbox",jt=>{const $t={value(Yt){Yt.target.checked=Yt.detail.value!=="Off",R.setValue(kt,{value:Yt.target.checked})}};this._dispatchEventFromSandbox($t,jt)}),this._setEventListeners(Ft,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],jt=>jt.target.checked)),this._setBackgroundColor(Ft),this._setDefaultPropertiesFromJS(Ft),this.container.appendChild(Ft),this.container}}class mt extends tt{constructor(R){super(R,{isRenderable:R.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const R=this.annotationStorage,ft=this.data,kt=ft.id;let Rt=R.getValue(kt,{value:ft.fieldValue===ft.buttonValue}).value;typeof Rt=="string"&&(Rt=Rt!==ft.buttonValue,R.setValue(kt,{value:Rt}));const Ft=document.createElement("input");if(ct.add(Ft),Ft.disabled=ft.readOnly,Ft.type="radio",Ft.name=ft.fieldName,Rt&&Ft.setAttribute("checked",!0),Ft.setAttribute("id",kt),Ft.tabIndex=gt,Ft.addEventListener("change",jt=>{const{name:$t,checked:Yt}=jt.target;for(const Ht of this._getElementsByName($t,kt))R.setValue(Ht.id,{value:!1});R.setValue(kt,{value:Yt})}),Ft.addEventListener("resetform",jt=>{const $t=ft.defaultFieldValue;jt.target.checked=$t!=null&&$t===ft.buttonValue}),this.enableScripting&&this.hasJSActions){const jt=ft.buttonValue;Ft.addEventListener("updatefromsandbox",$t=>{const Yt={value:Ht=>{const it=jt===Ht.detail.value;for(const Lt of this._getElementsByName(Ht.target.name)){const zt=it&&Lt.id===kt;Lt.domElement&&(Lt.domElement.checked=zt),R.setValue(Lt.id,{value:zt})}}};this._dispatchEventFromSandbox(Yt,$t)}),this._setEventListeners(Ft,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$t=>$t.target.checked)}return this._setBackgroundColor(Ft),this._setDefaultPropertiesFromJS(Ft),this.container.appendChild(Ft),this.container}}class dt extends et{constructor(R){super(R,{ignoreBorder:R.data.hasAppearance})}render(){const R=super.render();return R.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(R.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(R),R}}class Et extends tt{constructor(R){super(R,{isRenderable:R.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const R=this.annotationStorage,ft=this.data.id,kt=R.getValue(ft,{value:this.data.fieldValue});let{fontSize:Rt}=this.data.defaultAppearanceData;Rt||(Rt=9);const Ft=`calc(${Rt}px * var(--zoom-factor))`,jt=document.createElement("select");ct.add(jt),jt.disabled=this.data.readOnly,jt.name=this.data.fieldName,jt.setAttribute("id",ft),jt.tabIndex=gt,jt.style.fontSize=`${Rt}px`,this.data.combo||(jt.size=this.data.options.length,this.data.multiSelect&&(jt.multiple=!0)),jt.addEventListener("resetform",Ht=>{const it=this.data.defaultFieldValue;for(const Lt of jt.options)Lt.selected=Lt.value===it});for(const Ht of this.data.options){const it=document.createElement("option");it.textContent=Ht.displayValue,it.value=Ht.exportValue,this.data.combo&&(it.style.fontSize=Ft),kt.value.includes(Ht.exportValue)&&it.setAttribute("selected",!0),jt.appendChild(it)}const $t=(Ht,it)=>{const Lt=it?"value":"textContent",zt=Ht.target.options;return Ht.target.multiple?Array.prototype.filter.call(zt,Dt=>Dt.selected).map(Dt=>Dt[Lt]):zt.selectedIndex===-1?null:zt[zt.selectedIndex][Lt]},Yt=Ht=>{const it=Ht.target.options;return Array.prototype.map.call(it,Lt=>({displayValue:Lt.textContent,exportValue:Lt.value}))};return this.enableScripting&&this.hasJSActions?(jt.addEventListener("updatefromsandbox",Ht=>{const it={value(Lt){const zt=Lt.detail.value,Dt=new Set(Array.isArray(zt)?zt:[zt]);for(const Mt of jt.options)Mt.selected=Dt.has(Mt.value);R.setValue(ft,{value:$t(Lt,!0)})},multipleSelection(Lt){jt.multiple=!0},remove(Lt){const zt=jt.options,Dt=Lt.detail.remove;zt[Dt].selected=!1,jt.remove(Dt),zt.length>0&&Array.prototype.findIndex.call(zt,Wt=>Wt.selected)===-1&&(zt[0].selected=!0),R.setValue(ft,{value:$t(Lt,!0),items:Yt(Lt)})},clear(Lt){for(;jt.length!==0;)jt.remove(0);R.setValue(ft,{value:null,items:[]})},insert(Lt){const{index:zt,displayValue:Dt,exportValue:Mt}=Lt.detail.insert,Wt=document.createElement("option");Wt.textContent=Dt,Wt.value=Mt,jt.insertBefore(Wt,jt.children[zt]),R.setValue(ft,{value:$t(Lt,!0),items:Yt(Lt)})},items(Lt){const{items:zt}=Lt.detail;for(;jt.length!==0;)jt.remove(0);for(const Dt of zt){const{displayValue:Mt,exportValue:Wt}=Dt,Vt=document.createElement("option");Vt.textContent=Mt,Vt.value=Wt,jt.appendChild(Vt)}jt.options.length>0&&(jt.options[0].selected=!0),R.setValue(ft,{value:$t(Lt,!0),items:Yt(Lt)})},indices(Lt){const zt=new Set(Lt.detail.indices);for(const Dt of Lt.target.options)Dt.selected=zt.has(Dt.index);R.setValue(ft,{value:$t(Lt,!0)})},editable(Lt){Lt.target.disabled=!Lt.detail.editable}};this._dispatchEventFromSandbox(it,Ht)}),jt.addEventListener("input",Ht=>{var zt;const it=$t(Ht,!0),Lt=$t(Ht,!1);R.setValue(ft,{value:it}),(zt=this.linkService.eventBus)==null||zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ft,name:"Keystroke",value:Lt,changeEx:it,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(jt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Ht=>Ht.target.checked)):jt.addEventListener("input",function(Ht){R.setValue(ft,{value:$t(Ht,!0)})}),this._setBackgroundColor(jt),this._setDefaultPropertiesFromJS(jt),this.container.appendChild(jt),this.container}}class Ct extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft})}render(){const R=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",R.includes(this.data.parentType))return this.container;const ft=`[data-annotation-id="${this.data.parentId}"]`,kt=this.layer.querySelectorAll(ft);if(kt.length===0)return this.container;const Rt=new It({container:this.container,trigger:Array.from(kt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Ft=this.page,jt=W.Util.normalizeRect([this.data.parentRect[0],Ft.view[3]-this.data.parentRect[1]+Ft.view[1],this.data.parentRect[2],Ft.view[3]-this.data.parentRect[3]+Ft.view[1]]),$t=jt[0]+this.data.parentRect[2]-this.data.parentRect[0],Yt=jt[1];return this.container.style.transformOrigin=`${-$t}px ${-Yt}px`,this.container.style.left=`${$t}px`,this.container.style.top=`${Yt}px`,this.container.appendChild(Rt.render()),this.container}}class It{constructor(R){this.container=R.container,this.trigger=R.trigger,this.color=R.color,this.titleObj=R.titleObj,this.modificationDate=R.modificationDate,this.contentsObj=R.contentsObj,this.richText=R.richText,this.hideWrapper=R.hideWrapper||!1,this.pinned=!1}render(){var $t,Yt;const ft=document.createElement("div");ft.className="popupWrapper",this.hideElement=this.hideWrapper?ft:this.container,this.hideElement.hidden=!0;const kt=document.createElement("div");kt.className="popup";const Rt=this.color;if(Rt){const Ht=.7*(255-Rt[0])+Rt[0],it=.7*(255-Rt[1])+Rt[1],Lt=.7*(255-Rt[2])+Rt[2];kt.style.backgroundColor=W.Util.makeHexColor(Ht|0,it|0,Lt|0)}const Ft=document.createElement("h1");Ft.dir=this.titleObj.dir,Ft.textContent=this.titleObj.str,kt.appendChild(Ft);const jt=Tt.PDFDateString.toDateObject(this.modificationDate);if(jt){const Ht=document.createElement("span");Ht.className="popupDate",Ht.textContent="{{date}}, {{time}}",Ht.dataset.l10nId="annotation_date_string",Ht.dataset.l10nArgs=JSON.stringify({date:jt.toLocaleDateString(),time:jt.toLocaleTimeString()}),kt.appendChild(Ht)}if((($t=this.richText)==null?void 0:$t.str)&&(!((Yt=this.contentsObj)!=null&&Yt.str)||this.contentsObj.str===this.richText.str))ut.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:kt}),kt.lastChild.className="richText popupContent";else{const Ht=this._formatContents(this.contentsObj);kt.appendChild(Ht)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Ht of this.trigger)Ht.addEventListener("click",this._toggle.bind(this)),Ht.addEventListener("mouseover",this._show.bind(this,!1)),Ht.addEventListener("mouseout",this._hide.bind(this,!1));return kt.addEventListener("click",this._hide.bind(this,!0)),ft.appendChild(kt),ft}_formatContents({str:R,dir:ft}){const kt=document.createElement("p");kt.className="popupContent",kt.dir=ft;const Rt=R.split(/(?:\r\n?|\n)/);for(let Ft=0,jt=Rt.length;Ft<jt;++Ft){const $t=Rt[Ft];kt.appendChild(document.createTextNode($t)),Ft<jt-1&&kt.appendChild(document.createElement("br"))}return kt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(R=!1){R&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(R=!0){R&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class Nt extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class St extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const R=this.data,{width:ft,height:kt}=at(R.rect),Rt=this.svgFactory.create(ft,kt),Ft=this.svgFactory.createElement("svg:line");return Ft.setAttribute("x1",R.rect[2]-R.lineCoordinates[0]),Ft.setAttribute("y1",R.rect[3]-R.lineCoordinates[1]),Ft.setAttribute("x2",R.rect[2]-R.lineCoordinates[2]),Ft.setAttribute("y2",R.rect[3]-R.lineCoordinates[3]),Ft.setAttribute("stroke-width",R.borderStyle.width||1),Ft.setAttribute("stroke","transparent"),Ft.setAttribute("fill","transparent"),Rt.appendChild(Ft),this.container.append(Rt),this._createPopup(Ft,R),this.container}}class wt extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const R=this.data,{width:ft,height:kt}=at(R.rect),Rt=this.svgFactory.create(ft,kt),Ft=R.borderStyle.width,jt=this.svgFactory.createElement("svg:rect");return jt.setAttribute("x",Ft/2),jt.setAttribute("y",Ft/2),jt.setAttribute("width",ft-Ft),jt.setAttribute("height",kt-Ft),jt.setAttribute("stroke-width",Ft||1),jt.setAttribute("stroke","transparent"),jt.setAttribute("fill","transparent"),Rt.appendChild(jt),this.container.append(Rt),this._createPopup(jt,R),this.container}}class Ot extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const R=this.data,{width:ft,height:kt}=at(R.rect),Rt=this.svgFactory.create(ft,kt),Ft=R.borderStyle.width,jt=this.svgFactory.createElement("svg:ellipse");return jt.setAttribute("cx",ft/2),jt.setAttribute("cy",kt/2),jt.setAttribute("rx",ft/2-Ft/2),jt.setAttribute("ry",kt/2-Ft/2),jt.setAttribute("stroke-width",Ft||1),jt.setAttribute("stroke","transparent"),jt.setAttribute("fill","transparent"),Rt.appendChild(jt),this.container.append(Rt),this._createPopup(jt,R),this.container}}class Ut extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const R=this.data,{width:ft,height:kt}=at(R.rect),Rt=this.svgFactory.create(ft,kt);let Ft=[];for(const $t of R.vertices){const Yt=$t.x-R.rect[0],Ht=R.rect[3]-$t.y;Ft.push(Yt+","+Ht)}Ft=Ft.join(" ");const jt=this.svgFactory.createElement(this.svgElementName);return jt.setAttribute("points",Ft),jt.setAttribute("stroke-width",R.borderStyle.width||1),jt.setAttribute("stroke","transparent"),jt.setAttribute("fill","transparent"),Rt.appendChild(jt),this.container.append(Rt),this._createPopup(jt,R),this.container}}class vt extends Ut{constructor(R){super(R),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Bt extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ht extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const R=this.data,{width:ft,height:kt}=at(R.rect),Rt=this.svgFactory.create(ft,kt);for(const Ft of R.inkLists){let jt=[];for(const Yt of Ft){const Ht=Yt.x-R.rect[0],it=R.rect[3]-Yt.y;jt.push(`${Ht},${it}`)}jt=jt.join(" ");const $t=this.svgFactory.createElement(this.svgElementName);$t.setAttribute("points",jt),$t.setAttribute("stroke-width",R.borderStyle.width||1),$t.setAttribute("stroke","transparent"),$t.setAttribute("fill","transparent"),this._createPopup($t,R),Rt.appendChild($t)}return this.container.append(Rt),this.container}}class qt extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class re extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Gt extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ne extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Kt extends yt{constructor(R){var kt,Rt,Ft;const ft=!!(R.data.hasPopup||((kt=R.data.titleObj)==null?void 0:kt.str)||((Rt=R.data.contentsObj)==null?void 0:Rt.str)||((Ft=R.data.richText)==null?void 0:Ft.str));super(R,{isRenderable:ft,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ie extends yt{constructor(R){var Rt;super(R,{isRenderable:!0});const{filename:ft,content:kt}=this.data.file;this.filename=(0,Tt.getFilenameFromUrl)(ft),this.content=kt,(Rt=this.linkService.eventBus)==null||Rt.dispatch("fileattachmentannotation",{source:this,filename:ft,content:kt})}render(){var ft,kt;this.container.className="fileAttachmentAnnotation";const R=document.createElement("div");return R.style.height=this.container.style.height,R.style.width=this.container.style.width,R.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((ft=this.data.titleObj)==null?void 0:ft.str)||((kt=this.data.contentsObj)==null?void 0:kt.str)||this.data.richText)&&this._createPopup(R,this.data),this.container.appendChild(R),this.container}_download(){var R;(R=this.downloadManager)==null||R.openOrDownloadData(this.container,this.content,this.filename)}}class xt{static render(R){const ft=[],kt=[];for(const Ft of R.annotations){if(!Ft)continue;const{width:jt,height:$t}=at(Ft.rect);if(!(jt<=0||$t<=0)){if(Ft.annotationType===W.AnnotationType.POPUP){kt.push(Ft);continue}ft.push(Ft)}}kt.length&&ft.push(...kt);const Rt=R.div;for(const Ft of ft){const jt=At.create({data:Ft,layer:Rt,page:R.page,viewport:R.viewport,linkService:R.linkService,downloadManager:R.downloadManager,imageResourcesPath:R.imageResourcesPath||"",renderForms:R.renderForms!==!1,svgFactory:new Tt.DOMSVGFactory,annotationStorage:R.annotationStorage||new lt.AnnotationStorage,enableScripting:R.enableScripting,hasJSActions:R.hasJSActions,fieldObjects:R.fieldObjects,mouseState:R.mouseState||{isDown:!1}});if(jt.isRenderable){const $t=jt.render();if(Ft.hidden&&($t.style.visibility="hidden"),Array.isArray($t))for(const Yt of $t)Rt.appendChild(Yt);else jt instanceof Ct?Rt.prepend($t):Rt.appendChild($t)}}Fe(this,ot,ze).call(this,Rt,R.annotationCanvasMap)}static update(R){const{page:ft,viewport:kt,annotations:Rt,annotationCanvasMap:Ft,div:jt}=R,$t=kt.transform,Yt=`matrix(${$t.join(",")})`;let Ht,it;for(const Lt of Rt){const zt=jt.querySelectorAll(`[data-annotation-id="${Lt.id}"]`);if(zt)for(const Dt of zt)if(Lt.hasOwnCanvas){const Mt=W.Util.normalizeRect([Lt.rect[0],ft.view[3]-Lt.rect[1]+ft.view[1],Lt.rect[2],ft.view[3]-Lt.rect[3]+ft.view[1]]);if(!it){Ht=Math.abs($t[0]||$t[1]);const ee=$t.slice();for(let Xt=0;Xt<4;Xt++)ee[Xt]=Math.sign(ee[Xt]);it=`matrix(${ee.join(",")})`}const Wt=Mt[0]*Ht,Vt=Mt[1]*Ht;Dt.style.left=`${Wt}px`,Dt.style.top=`${Vt}px`,Dt.style.transformOrigin=`${-Wt}px ${-Vt}px`,Dt.style.transform=it}else Dt.style.transform=Yt}Fe(this,ot,ze).call(this,jt,Ft),jt.hidden=!1}}ot=new WeakSet,ze=function(R,ft){if(!!ft){for(const[kt,Rt]of ft){const Ft=R.querySelector(`[data-annotation-id="${kt}"]`);if(!Ft)continue;const{firstChild:jt}=Ft;jt.nodeName==="CANVAS"?Ft.replaceChild(Rt,jt):Ft.insertBefore(Rt,jt)}ft.clear()}},Se(xt,ot),X.AnnotationLayer=xt},(bt,X)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.ColorConverters=void 0;function st(Tt){return Math.floor(Math.max(0,Math.min(1,Tt))*255).toString(16).padStart(2,"0")}class W{static CMYK_G([lt,pt,ut,gt]){return["G",1-Math.min(1,.3*lt+.59*ut+.11*pt+gt)]}static G_CMYK([lt]){return["CMYK",0,0,0,1-lt]}static G_RGB([lt]){return["RGB",lt,lt,lt]}static G_HTML([lt]){const pt=st(lt);return`#${pt}${pt}${pt}`}static RGB_G([lt,pt,ut]){return["G",.3*lt+.59*pt+.11*ut]}static RGB_HTML([lt,pt,ut]){const gt=st(lt),ct=st(pt),at=st(ut);return`#${gt}${ct}${at}`}static T_HTML(){return"#00000000"}static CMYK_RGB([lt,pt,ut,gt]){return["RGB",1-Math.min(1,lt+gt),1-Math.min(1,ut+gt),1-Math.min(1,pt+gt)]}static CMYK_HTML(lt){return this.RGB_HTML(this.CMYK_RGB(lt))}static RGB_CMYK([lt,pt,ut]){const gt=1-lt,ct=1-pt,at=1-ut,At=Math.min(gt,ct,at);return["CMYK",gt,ct,at,At]}}X.ColorConverters=W},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.XfaLayer=void 0;var W=st(18);class Tt{static setupStorage(pt,ut,gt,ct,at){const At=ct.getValue(ut,{value:null});switch(gt.name){case"textarea":if(At.value!==null&&(pt.textContent=At.value),at==="print")break;pt.addEventListener("input",yt=>{ct.setValue(ut,{value:yt.target.value})});break;case"input":if(gt.attributes.type==="radio"||gt.attributes.type==="checkbox"){if(At.value===gt.attributes.xfaOn?pt.setAttribute("checked",!0):At.value===gt.attributes.xfaOff&&pt.removeAttribute("checked"),at==="print")break;pt.addEventListener("change",yt=>{ct.setValue(ut,{value:yt.target.checked?yt.target.getAttribute("xfaOn"):yt.target.getAttribute("xfaOff")})})}else{if(At.value!==null&&pt.setAttribute("value",At.value),at==="print")break;pt.addEventListener("input",yt=>{ct.setValue(ut,{value:yt.target.value})})}break;case"select":if(At.value!==null)for(const yt of gt.children)yt.attributes.value===At.value&&(yt.attributes.selected=!0);pt.addEventListener("input",yt=>{const et=yt.target.options,G=et.selectedIndex===-1?"":et[et.selectedIndex].value;ct.setValue(ut,{value:G})});break}}static setAttributes({html:pt,element:ut,storage:gt=null,intent:ct,linkService:at}){const{attributes:At}=ut,yt=pt instanceof HTMLAnchorElement;At.type==="radio"&&(At.name=`${At.name}-${ct}`);for(const[et,G]of Object.entries(At))if(!(G==null||et==="dataId"))if(et!=="style")if(et==="textContent")pt.textContent=G;else if(et==="class")G.length&&pt.setAttribute(et,G.join(" "));else{if(yt&&(et==="href"||et==="newWindow"))continue;pt.setAttribute(et,G)}else Object.assign(pt.style,G);yt&&at.addLinkAttributes(pt,At.href,At.newWindow),gt&&At.dataId&&this.setupStorage(pt,At.dataId,ut,gt)}static render(pt){var tt;const ut=pt.annotationStorage,gt=pt.linkService,ct=pt.xfaHtml,at=pt.intent||"display",At=document.createElement(ct.name);ct.attributes&&this.setAttributes({html:At,element:ct,intent:at,linkService:gt});const yt=[[ct,-1,At]],et=pt.div;if(et.appendChild(At),pt.viewport){const nt=`matrix(${pt.viewport.transform.join(",")})`;et.style.transform=nt}at!=="richText"&&et.setAttribute("class","xfaLayer xfaFont");const G=[];for(;yt.length>0;){const[nt,rt,mt]=yt[yt.length-1];if(rt+1===nt.children.length){yt.pop();continue}const dt=nt.children[++yt[yt.length-1][1]];if(dt===null)continue;const{name:Et}=dt;if(Et==="#text"){const It=document.createTextNode(dt.value);G.push(It),mt.appendChild(It);continue}let Ct;if((tt=dt==null?void 0:dt.attributes)!=null&&tt.xmlns?Ct=document.createElementNS(dt.attributes.xmlns,Et):Ct=document.createElement(Et),mt.appendChild(Ct),dt.attributes&&this.setAttributes({html:Ct,element:dt,storage:ut,intent:at,linkService:gt}),dt.children&&dt.children.length>0)yt.push([dt,-1,Ct]);else if(dt.value){const It=document.createTextNode(dt.value);W.XfaText.shouldBuildText(Et)&&G.push(It),Ct.appendChild(It)}}for(const nt of et.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))nt.setAttribute("readOnly",!0);return{textDivs:G}}static update(pt){const ut=`matrix(${pt.viewport.transform.join(",")})`;pt.div.style.transform=ut,pt.div.hidden=!1}}X.XfaLayer=Tt},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.renderTextLayer=rt;var W=st(1);const Tt=1e5,lt=30,pt=.8,ut=new Map,gt=/^\s+$/g;function ct(mt,dt){const Et=ut.get(mt);if(Et)return Et;dt.save(),dt.font=`${lt}px ${mt}`;const Ct=dt.measureText("");let It=Ct.fontBoundingBoxAscent,Nt=Math.abs(Ct.fontBoundingBoxDescent);if(It){dt.restore();const wt=It/(It+Nt);return ut.set(mt,wt),wt}dt.strokeStyle="red",dt.clearRect(0,0,lt,lt),dt.strokeText("g",0,0);let St=dt.getImageData(0,0,lt,lt).data;Nt=0;for(let wt=St.length-1-3;wt>=0;wt-=4)if(St[wt]>0){Nt=Math.ceil(wt/4/lt);break}dt.clearRect(0,0,lt,lt),dt.strokeText("A",0,lt),St=dt.getImageData(0,0,lt,lt).data,It=0;for(let wt=0,Ot=St.length;wt<Ot;wt+=4)if(St[wt]>0){It=lt-Math.floor(wt/4/lt);break}if(dt.restore(),It){const wt=It/(It+Nt);return ut.set(mt,wt),wt}return ut.set(mt,pt),pt}function at(mt,dt,Et,Ct){const It=document.createElement("span"),Nt=mt._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:dt.str!=="",hasEOL:dt.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:dt.str!=="",hasEOL:dt.hasEOL};mt._textDivs.push(It);const St=W.Util.transform(mt._viewport.transform,dt.transform);let wt=Math.atan2(St[1],St[0]);const Ot=Et[dt.fontName];Ot.vertical&&(wt+=Math.PI/2);const Ut=Math.hypot(St[2],St[3]),vt=Ut*ct(Ot.fontFamily,Ct);let Bt,ht;wt===0?(Bt=St[4],ht=St[5]-vt):(Bt=St[4]+vt*Math.sin(wt),ht=St[5]-vt*Math.cos(wt)),It.style.left=`${Bt}px`,It.style.top=`${ht}px`,It.style.fontSize=`${Ut}px`,It.style.fontFamily=Ot.fontFamily,It.setAttribute("role","presentation"),It.textContent=dt.str,It.dir=dt.dir,mt._fontInspectorEnabled&&(It.dataset.fontName=dt.fontName),wt!==0&&(Nt.angle=wt*(180/Math.PI));let qt=!1;if(dt.str.length>1||mt._enhanceTextSelection&&gt.test(dt.str))qt=!0;else if(dt.str!==" "&&dt.transform[0]!==dt.transform[3]){const re=Math.abs(dt.transform[0]),Gt=Math.abs(dt.transform[3]);re!==Gt&&Math.max(re,Gt)/Math.min(re,Gt)>1.5&&(qt=!0)}if(qt&&(Ot.vertical?Nt.canvasWidth=dt.height*mt._viewport.scale:Nt.canvasWidth=dt.width*mt._viewport.scale),mt._textDivProperties.set(It,Nt),mt._textContentStream&&mt._layoutText(It),mt._enhanceTextSelection&&Nt.hasText){let re=1,Gt=0;wt!==0&&(re=Math.cos(wt),Gt=Math.sin(wt));const ne=(Ot.vertical?dt.height:dt.width)*mt._viewport.scale,Kt=Ut;let ie,xt;wt!==0?(ie=[re,Gt,-Gt,re,Bt,ht],xt=W.Util.getAxialAlignedBoundingBox([0,0,ne,Kt],ie)):xt=[Bt,ht,Bt+ne,ht+Kt],mt._bounds.push({left:xt[0],top:xt[1],right:xt[2],bottom:xt[3],div:It,size:[ne,Kt],m:ie})}}function At(mt){if(mt._canceled)return;const dt=mt._textDivs,Et=mt._capability,Ct=dt.length;if(Ct>Tt){mt._renderingDone=!0,Et.resolve();return}if(!mt._textContentStream)for(let It=0;It<Ct;It++)mt._layoutText(dt[It]);mt._renderingDone=!0,Et.resolve()}function yt(mt,dt,Et){let Ct=0;for(let It=0;It<Et;It++){const Nt=mt[dt++];Nt>0&&(Ct=Ct?Math.min(Nt,Ct):Nt)}return Ct}function et(mt){const dt=mt._bounds,Et=mt._viewport,Ct=G(Et.width,Et.height,dt);for(let It=0;It<Ct.length;It++){const Nt=dt[It].div,St=mt._textDivProperties.get(Nt);if(St.angle===0){St.paddingLeft=dt[It].left-Ct[It].left,St.paddingTop=dt[It].top-Ct[It].top,St.paddingRight=Ct[It].right-dt[It].right,St.paddingBottom=Ct[It].bottom-dt[It].bottom,mt._textDivProperties.set(Nt,St);continue}const wt=Ct[It],Ot=dt[It],Ut=Ot.m,vt=Ut[0],Bt=Ut[1],ht=[[0,0],[0,Ot.size[1]],[Ot.size[0],0],Ot.size],qt=new Float64Array(64);for(let Gt=0,ne=ht.length;Gt<ne;Gt++){const Kt=W.Util.applyTransform(ht[Gt],Ut);qt[Gt+0]=vt&&(wt.left-Kt[0])/vt,qt[Gt+4]=Bt&&(wt.top-Kt[1])/Bt,qt[Gt+8]=vt&&(wt.right-Kt[0])/vt,qt[Gt+12]=Bt&&(wt.bottom-Kt[1])/Bt,qt[Gt+16]=Bt&&(wt.left-Kt[0])/-Bt,qt[Gt+20]=vt&&(wt.top-Kt[1])/vt,qt[Gt+24]=Bt&&(wt.right-Kt[0])/-Bt,qt[Gt+28]=vt&&(wt.bottom-Kt[1])/vt,qt[Gt+32]=vt&&(wt.left-Kt[0])/-vt,qt[Gt+36]=Bt&&(wt.top-Kt[1])/-Bt,qt[Gt+40]=vt&&(wt.right-Kt[0])/-vt,qt[Gt+44]=Bt&&(wt.bottom-Kt[1])/-Bt,qt[Gt+48]=Bt&&(wt.left-Kt[0])/Bt,qt[Gt+52]=vt&&(wt.top-Kt[1])/-vt,qt[Gt+56]=Bt&&(wt.right-Kt[0])/Bt,qt[Gt+60]=vt&&(wt.bottom-Kt[1])/-vt}const re=1+Math.min(Math.abs(vt),Math.abs(Bt));St.paddingLeft=yt(qt,32,16)/re,St.paddingTop=yt(qt,48,16)/re,St.paddingRight=yt(qt,0,16)/re,St.paddingBottom=yt(qt,16,16)/re,mt._textDivProperties.set(Nt,St)}}function G(mt,dt,Et){const Ct=Et.map(function(Nt,St){return{x1:Nt.left,y1:Nt.top,x2:Nt.right,y2:Nt.bottom,index:St,x1New:void 0,x2New:void 0}});tt(mt,Ct);const It=new Array(Et.length);for(const Nt of Ct){const St=Nt.index;It[St]={left:Nt.x1New,top:0,right:Nt.x2New,bottom:0}}Et.map(function(Nt,St){const wt=It[St],Ot=Ct[St];Ot.x1=Nt.top,Ot.y1=mt-wt.right,Ot.x2=Nt.bottom,Ot.y2=mt-wt.left,Ot.index=St,Ot.x1New=void 0,Ot.x2New=void 0}),tt(dt,Ct);for(const Nt of Ct){const St=Nt.index;It[St].top=Nt.x1New,It[St].bottom=Nt.x2New}return It}function tt(mt,dt){dt.sort(function(It,Nt){return It.x1-Nt.x1||It.index-Nt.index});const Ct=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const It of dt){let Nt=0;for(;Nt<Ct.length&&Ct[Nt].end<=It.y1;)Nt++;let St=Ct.length-1;for(;St>=0&&Ct[St].start>=It.y2;)St--;let wt,Ot,Ut,vt,Bt=-1/0;for(Ut=Nt;Ut<=St;Ut++){wt=Ct[Ut],Ot=wt.boundary;let re;Ot.x2>It.x1?re=Ot.index>It.index?Ot.x1New:It.x1:Ot.x2New===void 0?re=(Ot.x2+It.x1)/2:re=Ot.x2New,re>Bt&&(Bt=re)}for(It.x1New=Bt,Ut=Nt;Ut<=St;Ut++)wt=Ct[Ut],Ot=wt.boundary,Ot.x2New===void 0?Ot.x2>It.x1?Ot.index>It.index&&(Ot.x2New=Ot.x2):Ot.x2New=Bt:Ot.x2New>Bt&&(Ot.x2New=Math.max(Bt,Ot.x2));const ht=[];let qt=null;for(Ut=Nt;Ut<=St;Ut++){wt=Ct[Ut],Ot=wt.boundary;const re=Ot.x2>It.x2?Ot:It;qt===re?ht[ht.length-1].end=wt.end:(ht.push({start:wt.start,end:wt.end,boundary:re}),qt=re)}for(Ct[Nt].start<It.y1&&(ht[0].start=It.y1,ht.unshift({start:Ct[Nt].start,end:It.y1,boundary:Ct[Nt].boundary})),It.y2<Ct[St].end&&(ht[ht.length-1].end=It.y2,ht.push({start:It.y2,end:Ct[St].end,boundary:Ct[St].boundary})),Ut=Nt;Ut<=St;Ut++){if(wt=Ct[Ut],Ot=wt.boundary,Ot.x2New!==void 0)continue;let re=!1;for(vt=Nt-1;!re&&vt>=0&&Ct[vt].start>=Ot.y1;vt--)re=Ct[vt].boundary===Ot;for(vt=St+1;!re&&vt<Ct.length&&Ct[vt].end<=Ot.y2;vt++)re=Ct[vt].boundary===Ot;for(vt=0;!re&&vt<ht.length;vt++)re=ht[vt].boundary===Ot;re||(Ot.x2New=Bt)}Array.prototype.splice.apply(Ct,[Nt,St-Nt+1].concat(ht))}for(const It of Ct){const Nt=It.boundary;Nt.x2New===void 0&&(Nt.x2New=Math.max(mt,Nt.x2))}}class nt{constructor({textContent:dt,textContentStream:Et,container:Ct,viewport:It,textDivs:Nt,textContentItemsStr:St,enhanceTextSelection:wt}){var Ot;this._textContent=dt,this._textContentStream=Et,this._container=Ct,this._document=Ct.ownerDocument,this._viewport=It,this._textDivs=Nt||[],this._textContentItemsStr=St||[],this._enhanceTextSelection=!!wt,this._fontInspectorEnabled=!!((Ot=globalThis.FontInspector)!=null&&Ot.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,W.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new W.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(dt,Et){for(let Ct=0,It=dt.length;Ct<It;Ct++){if(dt[Ct].str===void 0){if(dt[Ct].type==="beginMarkedContentProps"||dt[Ct].type==="beginMarkedContent"){const Nt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),dt[Ct].id!==null&&this._container.setAttribute("id",`${dt[Ct].id}`),Nt.appendChild(this._container)}else dt[Ct].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(dt[Ct].str),at(this,dt[Ct],Et,this._layoutTextCtx)}}_layoutText(dt){const Et=this._textDivProperties.get(dt);let Ct="";if(Et.canvasWidth!==0&&Et.hasText){const{fontSize:It,fontFamily:Nt}=dt.style;(It!==this._layoutTextLastFontSize||Nt!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${It} ${Nt}`,this._layoutTextLastFontSize=It,this._layoutTextLastFontFamily=Nt);const{width:St}=this._layoutTextCtx.measureText(dt.textContent);if(St>0){const wt=Et.canvasWidth/St;this._enhanceTextSelection&&(Et.scale=wt),Ct=`scaleX(${wt})`}}if(Et.angle!==0&&(Ct=`rotate(${Et.angle}deg) ${Ct}`),Ct.length>0&&(this._enhanceTextSelection&&(Et.originalTransform=Ct),dt.style.transform=Ct),Et.hasText&&this._container.appendChild(dt),Et.hasEOL){const It=document.createElement("br");It.setAttribute("role","presentation"),this._container.appendChild(It)}}_render(dt=0){const Et=(0,W.createPromiseCapability)();let Ct=Object.create(null);const It=this._document.createElement("canvas");if(It.height=It.width=lt,this._layoutTextCtx=It.getContext("2d",{alpha:!1}),this._textContent){const Nt=this._textContent.items,St=this._textContent.styles;this._processItems(Nt,St),Et.resolve()}else if(this._textContentStream){const Nt=()=>{this._reader.read().then(({value:St,done:wt})=>{if(wt){Et.resolve();return}Object.assign(Ct,St.styles),this._processItems(St.items,Ct),Nt()},Et.reject)};this._reader=this._textContentStream.getReader(),Nt()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');Et.promise.then(()=>{Ct=null,dt?this._renderTimer=setTimeout(()=>{At(this),this._renderTimer=null},dt):At(this)},this._capability.reject)}expandTextDivs(dt=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(et(this),this._bounds=null);const Et=[],Ct=[];for(let It=0,Nt=this._textDivs.length;It<Nt;It++){const St=this._textDivs[It],wt=this._textDivProperties.get(St);!wt.hasText||(dt?(Et.length=0,Ct.length=0,wt.originalTransform&&Et.push(wt.originalTransform),wt.paddingTop>0?(Ct.push(`${wt.paddingTop}px`),Et.push(`translateY(${-wt.paddingTop}px)`)):Ct.push(0),wt.paddingRight>0?Ct.push(`${wt.paddingRight/wt.scale}px`):Ct.push(0),wt.paddingBottom>0?Ct.push(`${wt.paddingBottom}px`):Ct.push(0),wt.paddingLeft>0?(Ct.push(`${wt.paddingLeft/wt.scale}px`),Et.push(`translateX(${-wt.paddingLeft/wt.scale}px)`)):Ct.push(0),St.style.padding=Ct.join(" "),Et.length&&(St.style.transform=Et.join(" "))):(St.style.padding=null,St.style.transform=wt.originalTransform))}}}function rt(mt){const dt=new nt({textContent:mt.textContent,textContentStream:mt.textContentStream,container:mt.container,viewport:mt.viewport,textDivs:mt.textDivs,textContentItemsStr:mt.textContentItemsStr,enhanceTextSelection:mt.enhanceTextSelection});return dt._render(mt.timeout),dt}},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.SVGGraphics=void 0;var W=st(1),Tt=st(5),lt=st(3);let pt=class{constructor(){(0,W.unreachable)("Not implemented: SVGGraphics")}};X.SVGGraphics=pt;{let mt=function(St){let wt=[];const Ot=[];for(const Ut of St){if(Ut.fn==="save"){wt.push({fnId:92,fn:"group",items:[]}),Ot.push(wt),wt=wt[wt.length-1].items;continue}Ut.fn==="restore"?wt=Ot.pop():wt.push(Ut)}return wt},dt=function(St){if(Number.isInteger(St))return St.toString();const wt=St.toFixed(10);let Ot=wt.length-1;if(wt[Ot]!=="0")return wt;do Ot--;while(wt[Ot]==="0");return wt.substring(0,wt[Ot]==="."?Ot:Ot+1)},Et=function(St){if(St[4]===0&&St[5]===0){if(St[1]===0&&St[2]===0)return St[0]===1&&St[3]===1?"":`scale(${dt(St[0])} ${dt(St[3])})`;if(St[0]===St[3]&&St[1]===-St[2]){const wt=Math.acos(St[0])*180/Math.PI;return`rotate(${dt(wt)})`}}else if(St[0]===1&&St[1]===0&&St[2]===0&&St[3]===1)return`translate(${dt(St[4])} ${dt(St[5])})`;return`matrix(${dt(St[0])} ${dt(St[1])} ${dt(St[2])} ${dt(St[3])} ${dt(St[4])} ${dt(St[5])})`};var ut=mt,ct=dt,gt=Et;const at={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},At="http://www.w3.org/XML/1998/namespace",yt="http://www.w3.org/1999/xlink",et=["butt","round","square"],G=["miter","round","bevel"],tt=function(St,wt="",Ot=!1){if(URL.createObjectURL&&typeof Blob!="undefined"&&!Ot)return URL.createObjectURL(new Blob([St],{type:wt}));const Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let vt=`data:${wt};base64,`;for(let Bt=0,ht=St.length;Bt<ht;Bt+=3){const qt=St[Bt]&255,re=St[Bt+1]&255,Gt=St[Bt+2]&255,ne=qt>>2,Kt=(qt&3)<<4|re>>4,ie=Bt+1<ht?(re&15)<<2|Gt>>6:64,xt=Bt+2<ht?Gt&63:64;vt+=Ut[ne]+Ut[Kt]+Ut[ie]+Ut[xt]}return vt},nt=function(){const St=new Uint8Array([137,80,78,71,13,10,26,10]),wt=12,Ot=new Int32Array(256);for(let Gt=0;Gt<256;Gt++){let ne=Gt;for(let Kt=0;Kt<8;Kt++)ne&1?ne=3988292384^ne>>1&2147483647:ne=ne>>1&2147483647;Ot[Gt]=ne}function Ut(Gt,ne,Kt){let ie=-1;for(let xt=ne;xt<Kt;xt++){const ot=(ie^Gt[xt])&255,_t=Ot[ot];ie=ie>>>8^_t}return ie^-1}function vt(Gt,ne,Kt,ie){let xt=ie;const ot=ne.length;Kt[xt]=ot>>24&255,Kt[xt+1]=ot>>16&255,Kt[xt+2]=ot>>8&255,Kt[xt+3]=ot&255,xt+=4,Kt[xt]=Gt.charCodeAt(0)&255,Kt[xt+1]=Gt.charCodeAt(1)&255,Kt[xt+2]=Gt.charCodeAt(2)&255,Kt[xt+3]=Gt.charCodeAt(3)&255,xt+=4,Kt.set(ne,xt),xt+=ne.length;const _t=Ut(Kt,ie+4,xt);Kt[xt]=_t>>24&255,Kt[xt+1]=_t>>16&255,Kt[xt+2]=_t>>8&255,Kt[xt+3]=_t&255}function Bt(Gt,ne,Kt){let ie=1,xt=0;for(let ot=ne;ot<Kt;++ot)ie=(ie+(Gt[ot]&255))%65521,xt=(xt+ie)%65521;return xt<<16|ie}function ht(Gt){if(!lt.isNodeJS)return qt(Gt);try{let ne;parseInt(process.versions.node)>=8?ne=Gt:ne=Buffer.from(Gt);const Kt=require("zlib").deflateSync(ne,{level:9});return Kt instanceof Uint8Array?Kt:new Uint8Array(Kt)}catch(ne){(0,W.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ne)}return qt(Gt)}function qt(Gt){let ne=Gt.length;const Kt=65535,ie=Math.ceil(ne/Kt),xt=new Uint8Array(2+ne+ie*5+4);let ot=0;xt[ot++]=120,xt[ot++]=156;let _t=0;for(;ne>Kt;)xt[ot++]=0,xt[ot++]=255,xt[ot++]=255,xt[ot++]=0,xt[ot++]=0,xt.set(Gt.subarray(_t,_t+Kt),ot),ot+=Kt,_t+=Kt,ne-=Kt;xt[ot++]=1,xt[ot++]=ne&255,xt[ot++]=ne>>8&255,xt[ot++]=~ne&65535&255,xt[ot++]=(~ne&65535)>>8&255,xt.set(Gt.subarray(_t),ot),ot+=Gt.length-_t;const Pt=Bt(Gt,0,Gt.length);return xt[ot++]=Pt>>24&255,xt[ot++]=Pt>>16&255,xt[ot++]=Pt>>8&255,xt[ot++]=Pt&255,xt}function re(Gt,ne,Kt,ie){const xt=Gt.width,ot=Gt.height;let _t,Pt,R;const ft=Gt.data;switch(ne){case W.ImageKind.GRAYSCALE_1BPP:Pt=0,_t=1,R=xt+7>>3;break;case W.ImageKind.RGB_24BPP:Pt=2,_t=8,R=xt*3;break;case W.ImageKind.RGBA_32BPP:Pt=6,_t=8,R=xt*4;break;default:throw new Error("invalid format")}const kt=new Uint8Array((1+R)*ot);let Rt=0,Ft=0;for(let Lt=0;Lt<ot;++Lt)kt[Rt++]=0,kt.set(ft.subarray(Ft,Ft+R),Rt),Ft+=R,Rt+=R;if(ne===W.ImageKind.GRAYSCALE_1BPP&&ie){Rt=0;for(let Lt=0;Lt<ot;Lt++){Rt++;for(let zt=0;zt<R;zt++)kt[Rt++]^=255}}const jt=new Uint8Array([xt>>24&255,xt>>16&255,xt>>8&255,xt&255,ot>>24&255,ot>>16&255,ot>>8&255,ot&255,_t,Pt,0,0,0]),$t=ht(kt),Yt=St.length+wt*3+jt.length+$t.length,Ht=new Uint8Array(Yt);let it=0;return Ht.set(St,it),it+=St.length,vt("IHDR",jt,Ht,it),it+=wt+jt.length,vt("IDATA",$t,Ht,it),it+=wt+$t.length,vt("IEND",new Uint8Array(0),Ht,it),tt(Ht,"image/png",Kt)}return function(ne,Kt,ie){const xt=ne.kind===void 0?W.ImageKind.GRAYSCALE_1BPP:ne.kind;return re(ne,xt,Kt,ie)}}();class rt{constructor(){this.fontSizeScale=1,this.fontWeight=at.fontWeight,this.fontSize=0,this.textMatrix=W.IDENTITY_MATRIX,this.fontMatrix=W.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=W.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=at.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(wt,Ot){this.x=wt,this.y=Ot}}let Ct=0,It=0,Nt=0;X.SVGGraphics=pt=class{constructor(St,wt,Ot=!1){this.svgFactory=new Tt.DOMSVGFactory,this.current=new rt,this.transformMatrix=W.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=St,this.objs=wt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Ot,this._operatorIdMapping=[];for(const Ut in W.OPS)this._operatorIdMapping[W.OPS[Ut]]=Ut}save(){this.transformStack.push(this.transformMatrix);const St=this.current;this.extraStack.push(St),this.current=St.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(St){this.save(),this.executeOpTree(St),this.restore()}loadDependencies(St){const wt=St.fnArray,Ot=St.argsArray;for(let Ut=0,vt=wt.length;Ut<vt;Ut++)if(wt[Ut]===W.OPS.dependency)for(const Bt of Ot[Ut]){const ht=Bt.startsWith("g_")?this.commonObjs:this.objs,qt=new Promise(re=>{ht.get(Bt,re)});this.current.dependencies.push(qt)}return Promise.all(this.current.dependencies)}transform(St,wt,Ot,Ut,vt,Bt){const ht=[St,wt,Ot,Ut,vt,Bt];this.transformMatrix=W.Util.transform(this.transformMatrix,ht),this.tgrp=null}getSVG(St,wt){this.viewport=wt;const Ot=this._initialize(wt);return this.loadDependencies(St).then(()=>(this.transformMatrix=W.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(St)),Ot))}convertOpList(St){const wt=this._operatorIdMapping,Ot=St.argsArray,Ut=St.fnArray,vt=[];for(let Bt=0,ht=Ut.length;Bt<ht;Bt++){const qt=Ut[Bt];vt.push({fnId:qt,fn:wt[qt],args:Ot[Bt]})}return mt(vt)}executeOpTree(St){for(const wt of St){const Ot=wt.fn,Ut=wt.fnId,vt=wt.args;switch(Ut|0){case W.OPS.beginText:this.beginText();break;case W.OPS.dependency:break;case W.OPS.setLeading:this.setLeading(vt);break;case W.OPS.setLeadingMoveText:this.setLeadingMoveText(vt[0],vt[1]);break;case W.OPS.setFont:this.setFont(vt);break;case W.OPS.showText:this.showText(vt[0]);break;case W.OPS.showSpacedText:this.showText(vt[0]);break;case W.OPS.endText:this.endText();break;case W.OPS.moveText:this.moveText(vt[0],vt[1]);break;case W.OPS.setCharSpacing:this.setCharSpacing(vt[0]);break;case W.OPS.setWordSpacing:this.setWordSpacing(vt[0]);break;case W.OPS.setHScale:this.setHScale(vt[0]);break;case W.OPS.setTextMatrix:this.setTextMatrix(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case W.OPS.setTextRise:this.setTextRise(vt[0]);break;case W.OPS.setTextRenderingMode:this.setTextRenderingMode(vt[0]);break;case W.OPS.setLineWidth:this.setLineWidth(vt[0]);break;case W.OPS.setLineJoin:this.setLineJoin(vt[0]);break;case W.OPS.setLineCap:this.setLineCap(vt[0]);break;case W.OPS.setMiterLimit:this.setMiterLimit(vt[0]);break;case W.OPS.setFillRGBColor:this.setFillRGBColor(vt[0],vt[1],vt[2]);break;case W.OPS.setStrokeRGBColor:this.setStrokeRGBColor(vt[0],vt[1],vt[2]);break;case W.OPS.setStrokeColorN:this.setStrokeColorN(vt);break;case W.OPS.setFillColorN:this.setFillColorN(vt);break;case W.OPS.shadingFill:this.shadingFill(vt[0]);break;case W.OPS.setDash:this.setDash(vt[0],vt[1]);break;case W.OPS.setRenderingIntent:this.setRenderingIntent(vt[0]);break;case W.OPS.setFlatness:this.setFlatness(vt[0]);break;case W.OPS.setGState:this.setGState(vt[0]);break;case W.OPS.fill:this.fill();break;case W.OPS.eoFill:this.eoFill();break;case W.OPS.stroke:this.stroke();break;case W.OPS.fillStroke:this.fillStroke();break;case W.OPS.eoFillStroke:this.eoFillStroke();break;case W.OPS.clip:this.clip("nonzero");break;case W.OPS.eoClip:this.clip("evenodd");break;case W.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case W.OPS.paintImageXObject:this.paintImageXObject(vt[0]);break;case W.OPS.paintInlineImageXObject:this.paintInlineImageXObject(vt[0]);break;case W.OPS.paintImageMaskXObject:this.paintImageMaskXObject(vt[0]);break;case W.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(vt[0],vt[1]);break;case W.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case W.OPS.closePath:this.closePath();break;case W.OPS.closeStroke:this.closeStroke();break;case W.OPS.closeFillStroke:this.closeFillStroke();break;case W.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case W.OPS.nextLine:this.nextLine();break;case W.OPS.transform:this.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case W.OPS.constructPath:this.constructPath(vt[0],vt[1]);break;case W.OPS.endPath:this.endPath();break;case 92:this.group(wt.items);break;default:(0,W.warn)(`Unimplemented operator ${Ot}`);break}}}setWordSpacing(St){this.current.wordSpacing=St}setCharSpacing(St){this.current.charSpacing=St}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(St,wt,Ot,Ut,vt,Bt){const ht=this.current;ht.textMatrix=ht.lineMatrix=[St,wt,Ot,Ut,vt,Bt],ht.textMatrixScale=Math.hypot(St,wt),ht.x=ht.lineX=0,ht.y=ht.lineY=0,ht.xcoords=[],ht.ycoords=[],ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.tspan.setAttributeNS(null,"font-family",ht.fontFamily),ht.tspan.setAttributeNS(null,"font-size",`${dt(ht.fontSize)}px`),ht.tspan.setAttributeNS(null,"y",dt(-ht.y)),ht.txtElement=this.svgFactory.createElement("svg:text"),ht.txtElement.appendChild(ht.tspan)}beginText(){const St=this.current;St.x=St.lineX=0,St.y=St.lineY=0,St.textMatrix=W.IDENTITY_MATRIX,St.lineMatrix=W.IDENTITY_MATRIX,St.textMatrixScale=1,St.tspan=this.svgFactory.createElement("svg:tspan"),St.txtElement=this.svgFactory.createElement("svg:text"),St.txtgrp=this.svgFactory.createElement("svg:g"),St.xcoords=[],St.ycoords=[]}moveText(St,wt){const Ot=this.current;Ot.x=Ot.lineX+=St,Ot.y=Ot.lineY+=wt,Ot.xcoords=[],Ot.ycoords=[],Ot.tspan=this.svgFactory.createElement("svg:tspan"),Ot.tspan.setAttributeNS(null,"font-family",Ot.fontFamily),Ot.tspan.setAttributeNS(null,"font-size",`${dt(Ot.fontSize)}px`),Ot.tspan.setAttributeNS(null,"y",dt(-Ot.y))}showText(St){const wt=this.current,Ot=wt.font,Ut=wt.fontSize;if(Ut===0)return;const vt=wt.fontSizeScale,Bt=wt.charSpacing,ht=wt.wordSpacing,qt=wt.fontDirection,re=wt.textHScale*qt,Gt=Ot.vertical,ne=Gt?1:-1,Kt=Ot.defaultVMetrics,ie=Ut*wt.fontMatrix[0];let xt=0;for(const Pt of St){if(Pt===null){xt+=qt*ht;continue}else if(typeof Pt=="number"){xt+=ne*Pt*Ut/1e3;continue}const R=(Pt.isSpace?ht:0)+Bt,ft=Pt.fontChar;let kt,Rt,Ft=Pt.width;if(Gt){let $t;const Yt=Pt.vmetric||Kt;$t=Pt.vmetric?Yt[1]:Ft*.5,$t=-$t*ie;const Ht=Yt[2]*ie;Ft=Yt?-Yt[0]:Ft,kt=$t/vt,Rt=(xt+Ht)/vt}else kt=xt/vt,Rt=0;(Pt.isInFont||Ot.missingFile)&&(wt.xcoords.push(wt.x+kt),Gt&&wt.ycoords.push(-wt.y+Rt),wt.tspan.textContent+=ft);let jt;Gt?jt=Ft*ie-R*qt:jt=Ft*ie+R*qt,xt+=jt}wt.tspan.setAttributeNS(null,"x",wt.xcoords.map(dt).join(" ")),Gt?wt.tspan.setAttributeNS(null,"y",wt.ycoords.map(dt).join(" ")):wt.tspan.setAttributeNS(null,"y",dt(-wt.y)),Gt?wt.y-=xt:wt.x+=xt*re,wt.tspan.setAttributeNS(null,"font-family",wt.fontFamily),wt.tspan.setAttributeNS(null,"font-size",`${dt(wt.fontSize)}px`),wt.fontStyle!==at.fontStyle&&wt.tspan.setAttributeNS(null,"font-style",wt.fontStyle),wt.fontWeight!==at.fontWeight&&wt.tspan.setAttributeNS(null,"font-weight",wt.fontWeight);const ot=wt.textRenderingMode&W.TextRenderingMode.FILL_STROKE_MASK;if(ot===W.TextRenderingMode.FILL||ot===W.TextRenderingMode.FILL_STROKE?(wt.fillColor!==at.fillColor&&wt.tspan.setAttributeNS(null,"fill",wt.fillColor),wt.fillAlpha<1&&wt.tspan.setAttributeNS(null,"fill-opacity",wt.fillAlpha)):wt.textRenderingMode===W.TextRenderingMode.ADD_TO_PATH?wt.tspan.setAttributeNS(null,"fill","transparent"):wt.tspan.setAttributeNS(null,"fill","none"),ot===W.TextRenderingMode.STROKE||ot===W.TextRenderingMode.FILL_STROKE){const Pt=1/(wt.textMatrixScale||1);this._setStrokeAttributes(wt.tspan,Pt)}let _t=wt.textMatrix;wt.textRise!==0&&(_t=_t.slice(),_t[5]+=wt.textRise),wt.txtElement.setAttributeNS(null,"transform",`${Et(_t)} scale(${dt(re)}, -1)`),wt.txtElement.setAttributeNS(At,"xml:space","preserve"),wt.txtElement.appendChild(wt.tspan),wt.txtgrp.appendChild(wt.txtElement),this._ensureTransformGroup().appendChild(wt.txtElement)}setLeadingMoveText(St,wt){this.setLeading(-wt),this.moveText(St,wt)}addFontStyle(St){if(!St.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const wt=tt(St.data,St.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${St.loadedName}"; src: url(${wt}); }
`}setFont(St){const wt=this.current,Ot=this.commonObjs.get(St[0]);let Ut=St[1];wt.font=Ot,this.embedFonts&&!Ot.missingFile&&!this.embeddedFonts[Ot.loadedName]&&(this.addFontStyle(Ot),this.embeddedFonts[Ot.loadedName]=Ot),wt.fontMatrix=Ot.fontMatrix||W.FONT_IDENTITY_MATRIX;let vt="normal";Ot.black?vt="900":Ot.bold&&(vt="bold");const Bt=Ot.italic?"italic":"normal";Ut<0?(Ut=-Ut,wt.fontDirection=-1):wt.fontDirection=1,wt.fontSize=Ut,wt.fontFamily=Ot.loadedName,wt.fontWeight=vt,wt.fontStyle=Bt,wt.tspan=this.svgFactory.createElement("svg:tspan"),wt.tspan.setAttributeNS(null,"y",dt(-wt.y)),wt.xcoords=[],wt.ycoords=[]}endText(){var wt;const St=this.current;St.textRenderingMode&W.TextRenderingMode.ADD_TO_PATH_FLAG&&((wt=St.txtElement)==null?void 0:wt.hasChildNodes())&&(St.element=St.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(St){St>0&&(this.current.lineWidth=St)}setLineCap(St){this.current.lineCap=et[St]}setLineJoin(St){this.current.lineJoin=G[St]}setMiterLimit(St){this.current.miterLimit=St}setStrokeAlpha(St){this.current.strokeAlpha=St}setStrokeRGBColor(St,wt,Ot){this.current.strokeColor=W.Util.makeHexColor(St,wt,Ot)}setFillAlpha(St){this.current.fillAlpha=St}setFillRGBColor(St,wt,Ot){this.current.fillColor=W.Util.makeHexColor(St,wt,Ot),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(St){this.current.strokeColor=this._makeColorN_Pattern(St)}setFillColorN(St){this.current.fillColor=this._makeColorN_Pattern(St)}shadingFill(St){const wt=this.viewport.width,Ot=this.viewport.height,Ut=W.Util.inverseTransform(this.transformMatrix),vt=W.Util.applyTransform([0,0],Ut),Bt=W.Util.applyTransform([0,Ot],Ut),ht=W.Util.applyTransform([wt,0],Ut),qt=W.Util.applyTransform([wt,Ot],Ut),re=Math.min(vt[0],Bt[0],ht[0],qt[0]),Gt=Math.min(vt[1],Bt[1],ht[1],qt[1]),ne=Math.max(vt[0],Bt[0],ht[0],qt[0]),Kt=Math.max(vt[1],Bt[1],ht[1],qt[1]),ie=this.svgFactory.createElement("svg:rect");ie.setAttributeNS(null,"x",re),ie.setAttributeNS(null,"y",Gt),ie.setAttributeNS(null,"width",ne-re),ie.setAttributeNS(null,"height",Kt-Gt),ie.setAttributeNS(null,"fill",this._makeShadingPattern(St)),this.current.fillAlpha<1&&ie.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ie)}_makeColorN_Pattern(St){return St[0]==="TilingPattern"?this._makeTilingPattern(St):this._makeShadingPattern(St)}_makeTilingPattern(St){const wt=St[1],Ot=St[2],Ut=St[3]||W.IDENTITY_MATRIX,[vt,Bt,ht,qt]=St[4],re=St[5],Gt=St[6],ne=St[7],Kt=`shading${Nt++}`,[ie,xt,ot,_t]=W.Util.normalizeRect([...W.Util.applyTransform([vt,Bt],Ut),...W.Util.applyTransform([ht,qt],Ut)]),[Pt,R]=W.Util.singularValueDecompose2dScale(Ut),ft=re*Pt,kt=Gt*R,Rt=this.svgFactory.createElement("svg:pattern");Rt.setAttributeNS(null,"id",Kt),Rt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Rt.setAttributeNS(null,"width",ft),Rt.setAttributeNS(null,"height",kt),Rt.setAttributeNS(null,"x",`${ie}`),Rt.setAttributeNS(null,"y",`${xt}`);const Ft=this.svg,jt=this.transformMatrix,$t=this.current.fillColor,Yt=this.current.strokeColor,Ht=this.svgFactory.create(ot-ie,_t-xt);if(this.svg=Ht,this.transformMatrix=Ut,ne===2){const it=W.Util.makeHexColor(...wt);this.current.fillColor=it,this.current.strokeColor=it}return this.executeOpTree(this.convertOpList(Ot)),this.svg=Ft,this.transformMatrix=jt,this.current.fillColor=$t,this.current.strokeColor=Yt,Rt.appendChild(Ht.childNodes[0]),this.defs.appendChild(Rt),`url(#${Kt})`}_makeShadingPattern(St){switch(typeof St=="string"&&(St=this.objs.get(St)),St[0]){case"RadialAxial":const wt=`shading${Nt++}`,Ot=St[3];let Ut;switch(St[1]){case"axial":const vt=St[4],Bt=St[5];Ut=this.svgFactory.createElement("svg:linearGradient"),Ut.setAttributeNS(null,"id",wt),Ut.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ut.setAttributeNS(null,"x1",vt[0]),Ut.setAttributeNS(null,"y1",vt[1]),Ut.setAttributeNS(null,"x2",Bt[0]),Ut.setAttributeNS(null,"y2",Bt[1]);break;case"radial":const ht=St[4],qt=St[5],re=St[6],Gt=St[7];Ut=this.svgFactory.createElement("svg:radialGradient"),Ut.setAttributeNS(null,"id",wt),Ut.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ut.setAttributeNS(null,"cx",qt[0]),Ut.setAttributeNS(null,"cy",qt[1]),Ut.setAttributeNS(null,"r",Gt),Ut.setAttributeNS(null,"fx",ht[0]),Ut.setAttributeNS(null,"fy",ht[1]),Ut.setAttributeNS(null,"fr",re);break;default:throw new Error(`Unknown RadialAxial type: ${St[1]}`)}for(const vt of Ot){const Bt=this.svgFactory.createElement("svg:stop");Bt.setAttributeNS(null,"offset",vt[0]),Bt.setAttributeNS(null,"stop-color",vt[1]),Ut.appendChild(Bt)}return this.defs.appendChild(Ut),`url(#${wt})`;case"Mesh":return(0,W.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${St[0]}`)}}setDash(St,wt){this.current.dashArray=St,this.current.dashPhase=wt}constructPath(St,wt){const Ot=this.current;let Ut=Ot.x,vt=Ot.y,Bt=[],ht=0;for(const qt of St)switch(qt|0){case W.OPS.rectangle:Ut=wt[ht++],vt=wt[ht++];const re=wt[ht++],Gt=wt[ht++],ne=Ut+re,Kt=vt+Gt;Bt.push("M",dt(Ut),dt(vt),"L",dt(ne),dt(vt),"L",dt(ne),dt(Kt),"L",dt(Ut),dt(Kt),"Z");break;case W.OPS.moveTo:Ut=wt[ht++],vt=wt[ht++],Bt.push("M",dt(Ut),dt(vt));break;case W.OPS.lineTo:Ut=wt[ht++],vt=wt[ht++],Bt.push("L",dt(Ut),dt(vt));break;case W.OPS.curveTo:Ut=wt[ht+4],vt=wt[ht+5],Bt.push("C",dt(wt[ht]),dt(wt[ht+1]),dt(wt[ht+2]),dt(wt[ht+3]),dt(Ut),dt(vt)),ht+=6;break;case W.OPS.curveTo2:Bt.push("C",dt(Ut),dt(vt),dt(wt[ht]),dt(wt[ht+1]),dt(wt[ht+2]),dt(wt[ht+3])),Ut=wt[ht+2],vt=wt[ht+3],ht+=4;break;case W.OPS.curveTo3:Ut=wt[ht+2],vt=wt[ht+3],Bt.push("C",dt(wt[ht]),dt(wt[ht+1]),dt(Ut),dt(vt),dt(Ut),dt(vt)),ht+=4;break;case W.OPS.closePath:Bt.push("Z");break}Bt=Bt.join(" "),Ot.path&&St.length>0&&St[0]!==W.OPS.rectangle&&St[0]!==W.OPS.moveTo?Bt=Ot.path.getAttributeNS(null,"d")+Bt:(Ot.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(Ot.path)),Ot.path.setAttributeNS(null,"d",Bt),Ot.path.setAttributeNS(null,"fill","none"),Ot.element=Ot.path,Ot.setCurrentPoint(Ut,vt)}endPath(){const St=this.current;if(St.path=null,!this.pendingClip)return;if(!St.element){this.pendingClip=null;return}const wt=`clippath${Ct++}`,Ot=this.svgFactory.createElement("svg:clipPath");Ot.setAttributeNS(null,"id",wt),Ot.setAttributeNS(null,"transform",Et(this.transformMatrix));const Ut=St.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Ut.setAttributeNS(null,"clip-rule","evenodd"):Ut.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Ot.appendChild(Ut),this.defs.appendChild(Ot),St.activeClipUrl){St.clipGroup=null;for(const vt of this.extraStack)vt.clipGroup=null;Ot.setAttributeNS(null,"clip-path",St.activeClipUrl)}St.activeClipUrl=`url(#${wt})`,this.tgrp=null}clip(St){this.pendingClip=St}closePath(){const St=this.current;if(St.path){const wt=`${St.path.getAttributeNS(null,"d")}Z`;St.path.setAttributeNS(null,"d",wt)}}setLeading(St){this.current.leading=-St}setTextRise(St){this.current.textRise=St}setTextRenderingMode(St){this.current.textRenderingMode=St}setHScale(St){this.current.textHScale=St/100}setRenderingIntent(St){}setFlatness(St){}setGState(St){for(const[wt,Ot]of St)switch(wt){case"LW":this.setLineWidth(Ot);break;case"LC":this.setLineCap(Ot);break;case"LJ":this.setLineJoin(Ot);break;case"ML":this.setMiterLimit(Ot);break;case"D":this.setDash(Ot[0],Ot[1]);break;case"RI":this.setRenderingIntent(Ot);break;case"FL":this.setFlatness(Ot);break;case"Font":this.setFont(Ot);break;case"CA":this.setStrokeAlpha(Ot);break;case"ca":this.setFillAlpha(Ot);break;default:(0,W.warn)(`Unimplemented graphic state operator ${wt}`);break}}fill(){const St=this.current;St.element&&(St.element.setAttributeNS(null,"fill",St.fillColor),St.element.setAttributeNS(null,"fill-opacity",St.fillAlpha),this.endPath())}stroke(){const St=this.current;St.element&&(this._setStrokeAttributes(St.element),St.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(St,wt=1){const Ot=this.current;let Ut=Ot.dashArray;wt!==1&&Ut.length>0&&(Ut=Ut.map(function(vt){return wt*vt})),St.setAttributeNS(null,"stroke",Ot.strokeColor),St.setAttributeNS(null,"stroke-opacity",Ot.strokeAlpha),St.setAttributeNS(null,"stroke-miterlimit",dt(Ot.miterLimit)),St.setAttributeNS(null,"stroke-linecap",Ot.lineCap),St.setAttributeNS(null,"stroke-linejoin",Ot.lineJoin),St.setAttributeNS(null,"stroke-width",dt(wt*Ot.lineWidth)+"px"),St.setAttributeNS(null,"stroke-dasharray",Ut.map(dt).join(" ")),St.setAttributeNS(null,"stroke-dashoffset",dt(wt*Ot.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x","0"),St.setAttributeNS(null,"y","0"),St.setAttributeNS(null,"width","1px"),St.setAttributeNS(null,"height","1px"),St.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(St)}paintImageXObject(St){const wt=St.startsWith("g_")?this.commonObjs.get(St):this.objs.get(St);if(!wt){(0,W.warn)(`Dependent image with object ID ${St} is not ready yet`);return}this.paintInlineImageXObject(wt)}paintInlineImageXObject(St,wt){const Ot=St.width,Ut=St.height,vt=nt(St,this.forceDataSchema,!!wt),Bt=this.svgFactory.createElement("svg:rect");Bt.setAttributeNS(null,"x","0"),Bt.setAttributeNS(null,"y","0"),Bt.setAttributeNS(null,"width",dt(Ot)),Bt.setAttributeNS(null,"height",dt(Ut)),this.current.element=Bt,this.clip("nonzero");const ht=this.svgFactory.createElement("svg:image");ht.setAttributeNS(yt,"xlink:href",vt),ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y",dt(-Ut)),ht.setAttributeNS(null,"width",dt(Ot)+"px"),ht.setAttributeNS(null,"height",dt(Ut)+"px"),ht.setAttributeNS(null,"transform",`scale(${dt(1/Ot)} ${dt(-1/Ut)})`),wt?wt.appendChild(ht):this._ensureTransformGroup().appendChild(ht)}paintImageMaskXObject(St){const wt=this.current,Ot=St.width,Ut=St.height,vt=wt.fillColor;wt.maskId=`mask${It++}`;const Bt=this.svgFactory.createElement("svg:mask");Bt.setAttributeNS(null,"id",wt.maskId);const ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y","0"),ht.setAttributeNS(null,"width",dt(Ot)),ht.setAttributeNS(null,"height",dt(Ut)),ht.setAttributeNS(null,"fill",vt),ht.setAttributeNS(null,"mask",`url(#${wt.maskId})`),this.defs.appendChild(Bt),this._ensureTransformGroup().appendChild(ht),this.paintInlineImageXObject(St,Bt)}paintFormXObjectBegin(St,wt){if(Array.isArray(St)&&St.length===6&&this.transform(St[0],St[1],St[2],St[3],St[4],St[5]),wt){const Ot=wt[2]-wt[0],Ut=wt[3]-wt[1],vt=this.svgFactory.createElement("svg:rect");vt.setAttributeNS(null,"x",wt[0]),vt.setAttributeNS(null,"y",wt[1]),vt.setAttributeNS(null,"width",dt(Ot)),vt.setAttributeNS(null,"height",dt(Ut)),this.current.element=vt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(St){const wt=this.svgFactory.create(St.width,St.height),Ot=this.svgFactory.createElement("svg:defs");wt.appendChild(Ot),this.defs=Ot;const Ut=this.svgFactory.createElement("svg:g");return Ut.setAttributeNS(null,"transform",Et(St.transform)),wt.appendChild(Ut),this.svg=Ut,wt}_ensureClipGroup(){if(!this.current.clipGroup){const St=this.svgFactory.createElement("svg:g");St.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(St),this.current.clipGroup=St}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Et(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.PDFNodeStream=void 0;var W=st(1),Tt=st(26);const lt=require$$4,pt=require$$4,ut=require$$4,gt=require$$4,ct=/^file:\/\/\/[a-zA-Z]:\//;function at(dt){const Et=gt.parse(dt);return Et.protocol==="file:"||Et.host?Et:/^[a-z]:[/\\]/i.test(dt)?gt.parse(`file:///${dt}`):(Et.host||(Et.protocol="file:"),Et)}class At{constructor(Et){this.source=Et,this.url=at(Et.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Et.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Et,Ct;return(Ct=(Et=this._fullRequestReader)==null?void 0:Et._loaded)!=null?Ct:0}getFullReader(){return(0,W.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new rt(this):new tt(this),this._fullRequestReader}getRangeReader(Et,Ct){if(Ct<=this._progressiveDataLength)return null;const It=this.isFsUrl?new mt(this,Et,Ct):new nt(this,Et,Ct);return this._rangeRequestReaders.push(It),It}cancelAllRequests(Et){this._fullRequestReader&&this._fullRequestReader.cancel(Et);for(const Ct of this._rangeRequestReaders.slice(0))Ct.cancel(Et)}}X.PDFNodeStream=At;class yt{constructor(Et){this._url=Et.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ct=Et.source;this._contentLength=Ct.length,this._loaded=0,this._filename=null,this._disableRange=Ct.disableRange||!1,this._rangeChunkSize=Ct.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ct.disableStream,this._isRangeSupported=!Ct.disableRange,this._readableStream=null,this._readCapability=(0,W.createPromiseCapability)(),this._headersCapability=(0,W.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Et=this._readableStream.read();return Et===null?(this._readCapability=(0,W.createPromiseCapability)(),this.read()):(this._loaded+=Et.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Et).buffer,done:!1})}cancel(Et){if(!this._readableStream){this._error(Et);return}this._readableStream.destroy(Et)}_error(Et){this._storedError=Et,this._readCapability.resolve()}_setReadableStream(Et){this._readableStream=Et,Et.on("readable",()=>{this._readCapability.resolve()}),Et.on("end",()=>{Et.destroy(),this._done=!0,this._readCapability.resolve()}),Et.on("error",Ct=>{this._error(Ct)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new W.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class et{constructor(Et){this._url=Et.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,W.createPromiseCapability)();const Ct=Et.source;this._isStreamingSupported=!Ct.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Et=this._readableStream.read();return Et===null?(this._readCapability=(0,W.createPromiseCapability)(),this.read()):(this._loaded+=Et.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(Et).buffer,done:!1})}cancel(Et){if(!this._readableStream){this._error(Et);return}this._readableStream.destroy(Et)}_error(Et){this._storedError=Et,this._readCapability.resolve()}_setReadableStream(Et){this._readableStream=Et,Et.on("readable",()=>{this._readCapability.resolve()}),Et.on("end",()=>{Et.destroy(),this._done=!0,this._readCapability.resolve()}),Et.on("error",Ct=>{this._error(Ct)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function G(dt,Et){return{protocol:dt.protocol,auth:dt.auth,host:dt.hostname,port:dt.port,path:dt.path,method:"GET",headers:Et}}class tt extends yt{constructor(Et){super(Et);const Ct=It=>{if(It.statusCode===404){const Ot=new W.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ot,this._headersCapability.reject(Ot);return}this._headersCapability.resolve(),this._setReadableStream(It);const Nt=Ot=>this._readableStream.headers[Ot.toLowerCase()],{allowRangeRequests:St,suggestedLength:wt}=(0,Tt.validateRangeRequestCapabilities)({getResponseHeader:Nt,isHttp:Et.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=St,this._contentLength=wt||this._contentLength,this._filename=(0,Tt.extractFilenameFromHeader)(Nt)};this._request=null,this._url.protocol==="http:"?this._request=pt.request(G(this._url,Et.httpHeaders),Ct):this._request=ut.request(G(this._url,Et.httpHeaders),Ct),this._request.on("error",It=>{this._storedError=It,this._headersCapability.reject(It)}),this._request.end()}}class nt extends et{constructor(Et,Ct,It){super(Et),this._httpHeaders={};for(const St in Et.httpHeaders){const wt=Et.httpHeaders[St];typeof wt!="undefined"&&(this._httpHeaders[St]=wt)}this._httpHeaders.Range=`bytes=${Ct}-${It-1}`;const Nt=St=>{if(St.statusCode===404){const wt=new W.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=wt;return}this._setReadableStream(St)};this._request=null,this._url.protocol==="http:"?this._request=pt.request(G(this._url,this._httpHeaders),Nt):this._request=ut.request(G(this._url,this._httpHeaders),Nt),this._request.on("error",St=>{this._storedError=St}),this._request.end()}}class rt extends yt{constructor(Et){super(Et);let Ct=decodeURIComponent(this._url.path);ct.test(this._url.href)&&(Ct=Ct.replace(/^\//,"")),lt.lstat(Ct,(It,Nt)=>{if(It){It.code==="ENOENT"&&(It=new W.MissingPDFException(`Missing PDF "${Ct}".`)),this._storedError=It,this._headersCapability.reject(It);return}this._contentLength=Nt.size,this._setReadableStream(lt.createReadStream(Ct)),this._headersCapability.resolve()})}}class mt extends et{constructor(Et,Ct,It){super(Et);let Nt=decodeURIComponent(this._url.path);ct.test(this._url.href)&&(Nt=Nt.replace(/^\//,"")),this._setReadableStream(lt.createReadStream(Nt,{start:Ct,end:It-1}))}}},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.createResponseStatusError=gt,X.extractFilenameFromHeader=ut,X.validateRangeRequestCapabilities=pt,X.validateResponseStatus=ct;var W=st(1),Tt=st(27),lt=st(5);function pt({getResponseHeader:at,isHttp:At,rangeChunkSize:yt,disableRange:et}){const G={allowRangeRequests:!1,suggestedLength:void 0},tt=parseInt(at("Content-Length"),10);return!Number.isInteger(tt)||(G.suggestedLength=tt,tt<=2*yt)||et||!At||at("Accept-Ranges")!=="bytes"||(at("Content-Encoding")||"identity")!=="identity"||(G.allowRangeRequests=!0),G}function ut(at){const At=at("Content-Disposition");if(At){let yt=(0,Tt.getFilenameFromContentDispositionHeader)(At);if(yt.includes("%"))try{yt=decodeURIComponent(yt)}catch{}if((0,lt.isPdfFile)(yt))return yt}return null}function gt(at,At){return at===404||at===0&&At.startsWith("file:")?new W.MissingPDFException('Missing PDF "'+At+'".'):new W.UnexpectedResponseException(`Unexpected server response (${at}) while retrieving PDF "${At}".`,at)}function ct(at){return at===200||at===206}},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.getFilenameFromContentDispositionHeader=Tt;var W=st(1);function Tt(lt){let pt=!0,ut=gt("filename\\*","i").exec(lt);if(ut){ut=ut[1];let tt=yt(ut);return tt=unescape(tt),tt=et(tt),tt=G(tt),at(tt)}if(ut=At(lt),ut){const tt=G(ut);return at(tt)}if(ut=gt("filename","i").exec(lt),ut){ut=ut[1];let tt=yt(ut);return tt=G(tt),at(tt)}function gt(tt,nt){return new RegExp("(?:^|;)\\s*"+tt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',nt)}function ct(tt,nt){if(tt){if(!/^[\x00-\xFF]+$/.test(nt))return nt;try{const rt=new TextDecoder(tt,{fatal:!0}),mt=(0,W.stringToBytes)(nt);nt=rt.decode(mt),pt=!1}catch{}}return nt}function at(tt){return pt&&/[\x80-\xff]/.test(tt)&&(tt=ct("utf-8",tt),pt&&(tt=ct("iso-8859-1",tt))),tt}function At(tt){const nt=[];let rt;const mt=gt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(rt=mt.exec(tt))!==null;){let[,Et,Ct,It]=rt;if(Et=parseInt(Et,10),Et in nt){if(Et===0)break;continue}nt[Et]=[Ct,It]}const dt=[];for(let Et=0;Et<nt.length&&Et in nt;++Et){let[Ct,It]=nt[Et];It=yt(It),Ct&&(It=unescape(It),Et===0&&(It=et(It))),dt.push(It)}return dt.join("")}function yt(tt){if(tt.startsWith('"')){const nt=tt.slice(1).split('\\"');for(let rt=0;rt<nt.length;++rt){const mt=nt[rt].indexOf('"');mt!==-1&&(nt[rt]=nt[rt].slice(0,mt),nt.length=rt+1),nt[rt]=nt[rt].replace(/\\(.)/g,"$1")}tt=nt.join('"')}return tt}function et(tt){const nt=tt.indexOf("'");if(nt===-1)return tt;const rt=tt.slice(0,nt),dt=tt.slice(nt+1).replace(/^[^']*'/,"");return ct(rt,dt)}function G(tt){return!tt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(tt)?tt:tt.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(nt,rt,mt,dt){if(mt==="q"||mt==="Q")return dt=dt.replace(/_/g," "),dt=dt.replace(/=([0-9a-fA-F]{2})/g,function(Et,Ct){return String.fromCharCode(parseInt(Ct,16))}),ct(rt,dt);try{dt=atob(dt)}catch{}return ct(rt,dt)})}return""}},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.PDFNetworkStream=void 0;var W=st(1),Tt=st(26);const lt=200,pt=206;function ut(yt){const et=yt.response;return typeof et!="string"?et:(0,W.stringToBytes)(et).buffer}class gt{constructor(et,G={}){this.url=et,this.isHttp=/^https?:/i.test(et),this.httpHeaders=this.isHttp&&G.httpHeaders||Object.create(null),this.withCredentials=G.withCredentials||!1,this.getXhr=G.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(et,G,tt){const nt={begin:et,end:G};for(const rt in tt)nt[rt]=tt[rt];return this.request(nt)}requestFull(et){return this.request(et)}request(et){const G=this.getXhr(),tt=this.currXhrId++,nt=this.pendingRequests[tt]={xhr:G};G.open("GET",this.url),G.withCredentials=this.withCredentials;for(const rt in this.httpHeaders){const mt=this.httpHeaders[rt];typeof mt!="undefined"&&G.setRequestHeader(rt,mt)}return this.isHttp&&"begin"in et&&"end"in et?(G.setRequestHeader("Range",`bytes=${et.begin}-${et.end-1}`),nt.expectedStatus=pt):nt.expectedStatus=lt,G.responseType="arraybuffer",et.onError&&(G.onerror=function(rt){et.onError(G.status)}),G.onreadystatechange=this.onStateChange.bind(this,tt),G.onprogress=this.onProgress.bind(this,tt),nt.onHeadersReceived=et.onHeadersReceived,nt.onDone=et.onDone,nt.onError=et.onError,nt.onProgress=et.onProgress,G.send(null),tt}onProgress(et,G){var nt;const tt=this.pendingRequests[et];!tt||(nt=tt.onProgress)==null||nt.call(tt,G)}onStateChange(et,G){var Et,Ct,It;const tt=this.pendingRequests[et];if(!tt)return;const nt=tt.xhr;if(nt.readyState>=2&&tt.onHeadersReceived&&(tt.onHeadersReceived(),delete tt.onHeadersReceived),nt.readyState!==4||!(et in this.pendingRequests))return;if(delete this.pendingRequests[et],nt.status===0&&this.isHttp){(Et=tt.onError)==null||Et.call(tt,nt.status);return}const rt=nt.status||lt;if(!(rt===lt&&tt.expectedStatus===pt)&&rt!==tt.expectedStatus){(Ct=tt.onError)==null||Ct.call(tt,nt.status);return}const dt=ut(nt);if(rt===pt){const Nt=nt.getResponseHeader("Content-Range"),St=/bytes (\d+)-(\d+)\/(\d+)/.exec(Nt);tt.onDone({begin:parseInt(St[1],10),chunk:dt})}else dt?tt.onDone({begin:0,chunk:dt}):(It=tt.onError)==null||It.call(tt,nt.status)}getRequestXhr(et){return this.pendingRequests[et].xhr}isPendingRequest(et){return et in this.pendingRequests}abortRequest(et){const G=this.pendingRequests[et].xhr;delete this.pendingRequests[et],G.abort()}}class ct{constructor(et){this._source=et,this._manager=new gt(et.url,{httpHeaders:et.httpHeaders,withCredentials:et.withCredentials}),this._rangeChunkSize=et.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(et){const G=this._rangeRequestReaders.indexOf(et);G>=0&&this._rangeRequestReaders.splice(G,1)}getFullReader(){return(0,W.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new at(this._manager,this._source),this._fullRequestReader}getRangeReader(et,G){const tt=new At(this._manager,et,G);return tt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(tt),tt}cancelAllRequests(et){var G;(G=this._fullRequestReader)==null||G.cancel(et);for(const tt of this._rangeRequestReaders.slice(0))tt.cancel(et)}}X.PDFNetworkStream=ct;class at{constructor(et,G){this._manager=et;const tt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=G.url,this._fullRequestId=et.requestFull(tt),this._headersReceivedCapability=(0,W.createPromiseCapability)(),this._disableRange=G.disableRange||!1,this._contentLength=G.length,this._rangeChunkSize=G.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const et=this._fullRequestId,G=this._manager.getRequestXhr(et),tt=mt=>G.getResponseHeader(mt),{allowRangeRequests:nt,suggestedLength:rt}=(0,Tt.validateRangeRequestCapabilities)({getResponseHeader:tt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});nt&&(this._isRangeSupported=!0),this._contentLength=rt||this._contentLength,this._filename=(0,Tt.extractFilenameFromHeader)(tt),this._isRangeSupported&&this._manager.abortRequest(et),this._headersReceivedCapability.resolve()}_onDone(et){if(et&&(this._requests.length>0?this._requests.shift().resolve({value:et.chunk,done:!1}):this._cachedChunks.push(et.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(et){this._storedError=(0,Tt.createResponseStatusError)(et,this._url),this._headersReceivedCapability.reject(this._storedError);for(const G of this._requests)G.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(et){var G;(G=this.onProgress)==null||G.call(this,{loaded:et.loaded,total:et.lengthComputable?et.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const et=(0,W.createPromiseCapability)();return this._requests.push(et),et.promise}cancel(et){this._done=!0,this._headersReceivedCapability.reject(et);for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class At{constructor(et,G,tt){this._manager=et;const nt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=et.url,this._requestId=et.requestRange(G,tt,nt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var et;(et=this.onClosed)==null||et.call(this,this)}_onDone(et){const G=et.chunk;this._requests.length>0?this._requests.shift().resolve({value:G,done:!1}):this._queuedChunk=G,this._done=!0;for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(et){this._storedError=(0,Tt.createResponseStatusError)(et,this._url);for(const G of this._requests)G.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(et){var G;this.isStreamingSupported||(G=this.onProgress)==null||G.call(this,{loaded:et.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const G=this._queuedChunk;return this._queuedChunk=null,{value:G,done:!1}}if(this._done)return{value:void 0,done:!0};const et=(0,W.createPromiseCapability)();return this._requests.push(et),et.promise}cancel(et){this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(bt,X,st)=>{Object.defineProperty(X,"__esModule",{value:!0}),X.PDFFetchStream=void 0;var W=st(1),Tt=st(26);function lt(at,At,yt){return{method:"GET",headers:at,signal:yt==null?void 0:yt.signal,mode:"cors",credentials:At?"include":"same-origin",redirect:"follow"}}function pt(at){const At=new Headers;for(const yt in at){const et=at[yt];typeof et!="undefined"&&At.append(yt,et)}return At}class ut{constructor(At){this.source=At,this.isHttp=/^https?:/i.test(At.url),this.httpHeaders=this.isHttp&&At.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var At,yt;return(yt=(At=this._fullRequestReader)==null?void 0:At._loaded)!=null?yt:0}getFullReader(){return(0,W.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gt(this),this._fullRequestReader}getRangeReader(At,yt){if(yt<=this._progressiveDataLength)return null;const et=new ct(this,At,yt);return this._rangeRequestReaders.push(et),et}cancelAllRequests(At){this._fullRequestReader&&this._fullRequestReader.cancel(At);for(const yt of this._rangeRequestReaders.slice(0))yt.cancel(At)}}X.PDFFetchStream=ut;class gt{constructor(At){this._stream=At,this._reader=null,this._loaded=0,this._filename=null;const yt=At.source;this._withCredentials=yt.withCredentials||!1,this._contentLength=yt.length,this._headersCapability=(0,W.createPromiseCapability)(),this._disableRange=yt.disableRange||!1,this._rangeChunkSize=yt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!yt.disableStream,this._isRangeSupported=!yt.disableRange,this._headers=pt(this._stream.httpHeaders);const et=yt.url;fetch(et,lt(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,Tt.validateResponseStatus)(G.status))throw(0,Tt.createResponseStatusError)(G.status,et);this._reader=G.body.getReader(),this._headersCapability.resolve();const tt=mt=>G.headers.get(mt),{allowRangeRequests:nt,suggestedLength:rt}=(0,Tt.validateRangeRequestCapabilities)({getResponseHeader:tt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=nt,this._contentLength=rt||this._contentLength,this._filename=(0,Tt.extractFilenameFromHeader)(tt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new W.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:At,done:yt}=await this._reader.read();return yt?{value:At,done:yt}:(this._loaded+=At.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(At).buffer,done:!1})}cancel(At){this._reader&&this._reader.cancel(At),this._abortController&&this._abortController.abort()}}class ct{constructor(At,yt,et){this._stream=At,this._reader=null,this._loaded=0;const G=At.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,W.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=pt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${yt}-${et-1}`);const tt=G.url;fetch(tt,lt(this._headers,this._withCredentials,this._abortController)).then(nt=>{if(!(0,Tt.validateResponseStatus)(nt.status))throw(0,Tt.createResponseStatusError)(nt.status,tt);this._readCapability.resolve(),this._reader=nt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:At,done:yt}=await this._reader.read();return yt?{value:At,done:yt}:(this._loaded+=At.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(At).buffer,done:!1})}cancel(At){this._reader&&this._reader.cancel(At),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(bt){var X=__webpack_module_cache__[bt];if(X!==void 0)return X.exports;var st=__webpack_module_cache__[bt]={exports:{}};return __webpack_modules__[bt](st,st.exports,__w_pdfjs_require__),st.exports}var __webpack_exports__={};return(()=>{var bt=__webpack_exports__;Object.defineProperty(bt,"__esModule",{value:!0}),Object.defineProperty(bt,"AnnotationLayer",{enumerable:!0,get:function(){return Tt.AnnotationLayer}}),Object.defineProperty(bt,"AnnotationMode",{enumerable:!0,get:function(){return X.AnnotationMode}}),Object.defineProperty(bt,"CMapCompressionType",{enumerable:!0,get:function(){return X.CMapCompressionType}}),Object.defineProperty(bt,"GlobalWorkerOptions",{enumerable:!0,get:function(){return lt.GlobalWorkerOptions}}),Object.defineProperty(bt,"InvalidPDFException",{enumerable:!0,get:function(){return X.InvalidPDFException}}),Object.defineProperty(bt,"LoopbackPort",{enumerable:!0,get:function(){return st.LoopbackPort}}),Object.defineProperty(bt,"MissingPDFException",{enumerable:!0,get:function(){return X.MissingPDFException}}),Object.defineProperty(bt,"OPS",{enumerable:!0,get:function(){return X.OPS}}),Object.defineProperty(bt,"PDFDataRangeTransport",{enumerable:!0,get:function(){return st.PDFDataRangeTransport}}),Object.defineProperty(bt,"PDFDateString",{enumerable:!0,get:function(){return W.PDFDateString}}),Object.defineProperty(bt,"PDFWorker",{enumerable:!0,get:function(){return st.PDFWorker}}),Object.defineProperty(bt,"PasswordResponses",{enumerable:!0,get:function(){return X.PasswordResponses}}),Object.defineProperty(bt,"PermissionFlag",{enumerable:!0,get:function(){return X.PermissionFlag}}),Object.defineProperty(bt,"PixelsPerInch",{enumerable:!0,get:function(){return W.PixelsPerInch}}),Object.defineProperty(bt,"RenderingCancelledException",{enumerable:!0,get:function(){return W.RenderingCancelledException}}),Object.defineProperty(bt,"SVGGraphics",{enumerable:!0,get:function(){return gt.SVGGraphics}}),Object.defineProperty(bt,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return X.UNSUPPORTED_FEATURES}}),Object.defineProperty(bt,"UnexpectedResponseException",{enumerable:!0,get:function(){return X.UnexpectedResponseException}}),Object.defineProperty(bt,"Util",{enumerable:!0,get:function(){return X.Util}}),Object.defineProperty(bt,"VerbosityLevel",{enumerable:!0,get:function(){return X.VerbosityLevel}}),Object.defineProperty(bt,"XfaLayer",{enumerable:!0,get:function(){return ct.XfaLayer}}),Object.defineProperty(bt,"build",{enumerable:!0,get:function(){return st.build}}),Object.defineProperty(bt,"createPromiseCapability",{enumerable:!0,get:function(){return X.createPromiseCapability}}),Object.defineProperty(bt,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return X.createValidAbsoluteUrl}}),Object.defineProperty(bt,"getDocument",{enumerable:!0,get:function(){return st.getDocument}}),Object.defineProperty(bt,"getFilenameFromUrl",{enumerable:!0,get:function(){return W.getFilenameFromUrl}}),Object.defineProperty(bt,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return W.getPdfFilenameFromUrl}}),Object.defineProperty(bt,"getXfaPageViewport",{enumerable:!0,get:function(){return W.getXfaPageViewport}}),Object.defineProperty(bt,"isPdfFile",{enumerable:!0,get:function(){return W.isPdfFile}}),Object.defineProperty(bt,"loadScript",{enumerable:!0,get:function(){return W.loadScript}}),Object.defineProperty(bt,"renderTextLayer",{enumerable:!0,get:function(){return ut.renderTextLayer}}),Object.defineProperty(bt,"shadow",{enumerable:!0,get:function(){return X.shadow}}),Object.defineProperty(bt,"version",{enumerable:!0,get:function(){return st.version}});var X=__w_pdfjs_require__(1),st=__w_pdfjs_require__(4),W=__w_pdfjs_require__(5),Tt=__w_pdfjs_require__(20),lt=__w_pdfjs_require__(13),pt=__w_pdfjs_require__(3),ut=__w_pdfjs_require__(23),gt=__w_pdfjs_require__(24),ct=__w_pdfjs_require__(22);if(pt.isNodeJS){const{PDFNodeStream:at}=__w_pdfjs_require__(25);(0,st.setPDFNetworkStreamFactory)(At=>new at(At))}else{const{PDFNetworkStream:at}=__w_pdfjs_require__(28),{PDFFetchStream:At}=__w_pdfjs_require__(29);(0,st.setPDFNetworkStreamFactory)(yt=>(0,W.isValidFetchUrl)(yt.url)?new At(yt):new at(yt))}})(),__webpack_exports__})())})(pdf);function toVal(bt){var X,st,W="";if(typeof bt=="string"||typeof bt=="number")W+=bt;else if(typeof bt=="object")if(Array.isArray(bt))for(X=0;X<bt.length;X++)bt[X]&&(st=toVal(bt[X]))&&(W&&(W+=" "),W+=st);else for(X in bt)bt[X]&&(W&&(W+=" "),W+=X);return W}function clsx(){for(var bt=0,X,st,W="";bt<arguments.length;)(X=arguments[bt++])&&(st=toVal(X))&&(W&&(W+=" "),W+=st);return W}function FileSelectorDrop({fileTypes:bt,multiple:X,onFiles:st}){const[W,Tt]=y(!1),lt=s(null),pt=ct=>{ct.preventDefault(),Tt(!0),ct.dataTransfer&&(ct.dataTransfer.dropEffect="copy")},ut=ct=>{if(ct.stopPropagation(),ct.preventDefault(),Tt(!1),!ct.dataTransfer){console.warn("Data transfer is null.");return}const at=[];if(ct.dataTransfer.items&&ct.dataTransfer.items.length>0){for(let At=0;At<ct.dataTransfer.items.length;At++)if(ct.dataTransfer.items[At].kind==="file"){const yt=ct.dataTransfer.items[At].getAsFile();yt&&at.push(yt)}}else for(let At=0;At<ct.dataTransfer.files.length;At++)at.push(ct.dataTransfer.files[At]);st(at.filter(At=>bt.includes(At.type)))},gt=ct=>{const at=ct.currentTarget.files;if(!at)return;const At=[];for(let yt=0;yt<at.length;yt++)at[yt]&&At.push(at[yt]);ct.currentTarget.value="",st(At)};return e("div",{class:clsx("file-drop w-full h-20 border-dashed border-4 my-3 flex items-center justify-center cursor-pointer",W?"border-blue-600 text-blue-600 font-semibold":"border-gray-400 text-gray-500"),onDragOver:pt,onDragEnter:()=>Tt(!0),onDragLeave:()=>Tt(!1),onDrop:ut,onClick:()=>{var ct;return(ct=lt.current)==null?void 0:ct.click()},children:[e("input",{ref:lt,type:"file",class:"hidden",accept:bt.join(", "),multiple:X,onChange:gt}),W?"Drop files here to start":"Click here OR drag files here to start"]})}function Progress(bt){var W;const X=((isNaN(bt.value)?0:bt.value)/bt.max*100).toFixed(0)+"%",st=(W=bt.errorMessage)!=null?W:bt.text;return e("div",{class:`rounded-full h-10 relative max-w-xl overflow-hidden ${bt.onClick?"cursor-pointer":""}`,onClick:bt.onClick,children:[e("div",{class:`w-full h-full ${bt.errorMessage?"bg-red-300":"bg-gray-200"} absolute`}),e("div",{class:"h-full absolute transition-all duration-1000 bg-green-500",style:{width:X}}),e("div",{class:`w-full top-1/2 -translate-y-1/2 absolute ${bt.text?"text-white":"text-gray-500"}`,children:st})]})}pdf.exports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.min.js";function formatBytes(bt){const X=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];let st=0;for(;bt>=1024&&++st;)bt=bt/1024;return bt.toFixed(bt<10&&st>0?1:0)+" "+X[st]}function PDFtoPNG(){var pt;const bt=s(null);s(null);const[X,st]=y(null),W=ut=>{st({name:ut.name.substring(0,ut.name.lastIndexOf(".")),uploadProgress:0,pageCount:0,pages:[],error:null});const gt=new FileReader;gt.addEventListener("load",async ct=>{if(!bt.current)return;let at;try{at=await pdf.exports.getDocument(ct.target.result).promise}catch(yt){console.error(yt),st(et=>({...et,error:new Error("Invalid PDF. Please try another.")}));return}st(yt=>({...yt,pageCount:at.numPages}));for(let yt=1;yt<=at.numPages;yt++){const et=await at.getPage(yt),G=bt.current.getContext("2d"),tt=et.getViewport({scale:3});bt.current.height=tt.height,bt.current.width=tt.width;var At={canvasContext:G,viewport:tt};const nt={pageNumber:yt,size:0,blob:null,objectURL:null,error:null};try{await et.render(At).promise;const rt=await new Promise(mt=>bt.current.toBlob(mt,"image/png"));if(!rt)throw new Error("Failed to convert to PNG.");nt.size=rt.size,nt.blob=rt,nt.objectURL=URL.createObjectURL(rt)}catch(rt){console.error(rt),nt.error=rt}st(rt=>({...rt,pages:[...rt.pages,nt]}))}}),gt.onprogress=ct=>{ct.lengthComputable&&st(at=>({...at,uploadProgress:ct.loaded/ct.total}))},gt.readAsArrayBuffer(ut)},Tt=T$1(async()=>{if(!X)return;const ut=new JSZip;for(const ct of X.pages)!ct.error&&ct.blob&&ut.file(`${X.name}-page-${ct.pageNumber}.png`,ct.blob);const gt=await ut.generateAsync({type:"blob"});FileSaver_min.exports.saveAs(gt,X.name+"-pages.zip")},[X]),lt=X?(X==null?void 0:X.uploadProgress)*25+(X==null?void 0:X.pages.length)/(X==null?void 0:X.pageCount)*75:0;return e("div",{class:"pdf-to-png",children:[e("h1",{class:"text-3xl font-bold mb-5",children:"PDF \u2192 PNGs"}),!X&&e(FileSelectorDrop,{fileTypes:["application/pdf","image/pdf"],multiple:!1,onFiles:ut=>W(ut[0])}),X&&e(Progress,{text:X==null?void 0:X.name,errorMessage:(pt=X==null?void 0:X.error)==null?void 0:pt.message,value:lt,max:100,onClick:()=>{X!==null&&confirm("Reset? This will clear the pages you currently have.")&&st(null)}}),e("canvas",{class:"hidden",ref:bt}),X&&X.pages.length>0&&e("div",{class:"my-5",children:e("div",{class:"grid grid-cols-3 gap-4",children:X.pages.map(ut=>{var gt;return e("a",{title:`Click to download page ${ut.pageNumber} as a PNG`,class:"text-center text-gray-700",href:(gt=ut.objectURL)!=null?gt:void 0,download:ut.objectURL?`${X==null?void 0:X.name}-page-${ut.pageNumber}.png`:!1,children:[e("div",{class:"w-full h-24 bg-center bg-cover border-2 rounded-lg border-gray-700 relative",style:{backgroundImage:`url(${ut.objectURL})`},children:ut.error?e("span",{class:"text-xs absolute left-1 bottom-1 rounded bg-red-400 text-white px-1",children:"error converting"}):e("span",{class:"text-xs absolute left-1 bottom-1 rounded bg-slate-600 text-white px-1 opacity-80",children:formatBytes(ut.size)})}),"Page ",ut.pageNumber]},ut.pageNumber)})})}),X&&!X.error&&X.pages.length===X.pageCount&&e(d$1,{children:[e("button",{class:"text-blue-400 hover:text-blue-300 underline mr-4",onClick:()=>st(null),title:"Clear the current pages and start again.",children:"Reset"}),e("button",{class:"text-blue-400 hover:text-blue-300 underline",onClick:Tt,title:`Download all ${X.pageCount} pages in a ZIP file.`,children:"Download All"})]})]})}const baseURL="/dtools";function App(){return e(Router,{base:baseURL,children:[e("header",{class:"bg-gray-800 p-6 text-white opacity-90 fixed top-0 left-0 w-screen z-10",children:e("nav",{class:"container mx-auto flex space-x-8",children:[e(Link,{href:"/pdf-to-png",children:e("a",{children:"PDF \u2192 PNGs"})}),e(Link,{href:"/resize-images",children:e("a",{children:"Resize Images"})})]})}),e("main",{children:e(CenterCard,{children:e(Switch,{children:[e(Route,{path:"/pdf-to-png",component:PDFtoPNG}),e(Route,{children:e("p",{class:"font-semibold",children:"Page not found."})})]})})})]})}var index=(()=>`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::-webkit-backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.top-0{top:0px}.left-0{left:0px}.left-1{left:.25rem}.bottom-1{bottom:.25rem}.top-1\\/2{top:50%}.z-10{z-index:10}.mx-auto{margin-left:auto;margin-right:auto}.my-5{margin-top:1.25rem;margin-bottom:1.25rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.mb-5{margin-bottom:1.25rem}.mr-4{margin-right:1rem}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-24{height:6rem}.h-10{height:2.5rem}.h-full{height:100%}.h-20{height:5rem}.min-h-screen{min-height:100vh}.w-screen{width:100vw}.w-full{width:100%}.max-w-xl{max-width:36rem}.max-w-md{max-width:28rem}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-4{gap:1rem}.space-x-8>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(2rem * var(--tw-space-x-reverse));margin-left:calc(2rem * calc(1 - var(--tw-space-x-reverse)))}.overflow-hidden{overflow:hidden}.rounded-lg{border-radius:.5rem}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-2{border-width:2px}.border-4{border-width:4px}.border-dashed{border-style:dashed}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}.border-blue-600{--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-red-400{--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity))}.bg-slate-600{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-cover{background-size:cover}.bg-center{background-position:center}.p-6{padding:1.5rem}.px-1{padding-left:.25rem;padding-right:.25rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pt-10{padding-top:2.5rem}.pb-7{padding-bottom:1.75rem}.text-center{text-align:center}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-semibold{font-weight:600}.font-bold{font-weight:700}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.opacity-90{opacity:.9}.opacity-80{opacity:.8}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-gray-900\\/5{--tw-ring-color: rgb(17 24 39 / .05)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-1000{transition-duration:1s}.hover\\:text-blue-300:hover{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity))}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:max-w-lg{max-width:32rem}.sm\\:rounded-lg{border-radius:.5rem}.sm\\:py-12{padding-top:3rem;padding-bottom:3rem}.sm\\:px-10{padding-left:2.5rem;padding-right:2.5rem}}
`)();S$1(e(App,{}),document.getElementById("app"));
