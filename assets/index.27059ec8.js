var Re=Object.defineProperty;var Oe=(vt,nt,Z)=>nt in vt?Re(vt,nt,{enumerable:!0,configurable:!0,writable:!0,value:Z}):vt[nt]=Z;var Se=(vt,nt,Z)=>(Oe(vt,typeof nt!="symbol"?nt+"":nt,Z),Z),Ee=(vt,nt,Z)=>{if(!nt.has(vt))throw TypeError("Cannot "+Z)};var te=(vt,nt,Z)=>(Ee(vt,nt,"read from private field"),Z?Z.call(vt):nt.get(vt)),ue=(vt,nt,Z)=>{if(nt.has(vt))throw TypeError("Cannot add the same private member more than once");nt instanceof WeakSet?nt.add(vt):nt.set(vt,Z)},pe=(vt,nt,Z,W)=>(Ee(vt,nt,"write to private field"),W?W.call(vt,Z):nt.set(vt,Z),Z),Fe=(vt,nt,Z,W)=>({set _(yt){pe(vt,nt,yt,Z)},get _(){return te(vt,nt,W)}}),ye=(vt,nt,Z)=>(Ee(vt,nt,"access private method"),Z);const p$1=function(){const nt=document.createElement("link").relList;if(nt&&nt.supports&&nt.supports("modulepreload"))return;for(const yt of document.querySelectorAll('link[rel="modulepreload"]'))W(yt);new MutationObserver(yt=>{for(const J of yt)if(J.type==="childList")for(const ht of J.addedNodes)ht.tagName==="LINK"&&ht.rel==="modulepreload"&&W(ht)}).observe(document,{childList:!0,subtree:!0});function Z(yt){const J={};return yt.integrity&&(J.integrity=yt.integrity),yt.referrerpolicy&&(J.referrerPolicy=yt.referrerpolicy),yt.crossorigin==="use-credentials"?J.credentials="include":yt.crossorigin==="anonymous"?J.credentials="omit":J.credentials="same-origin",J}function W(yt){if(yt.ep)return;yt.ep=!0;const J=Z(yt);fetch(yt.href,J)}};p$1();var n,l$1,u$1,t$1,o$2,r$1,e$2={},c$1=[],s$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a$1(vt,nt){for(var Z in nt)vt[Z]=nt[Z];return vt}function h(vt){var nt=vt.parentNode;nt&&nt.removeChild(vt)}function v$1(vt,nt,Z){var W,yt,J,ht={};for(J in nt)J=="key"?W=nt[J]:J=="ref"?yt=nt[J]:ht[J]=nt[J];if(arguments.length>2&&(ht.children=arguments.length>3?n.call(arguments,2):Z),typeof vt=="function"&&vt.defaultProps!=null)for(J in vt.defaultProps)ht[J]===void 0&&(ht[J]=vt.defaultProps[J]);return y$1(vt,ht,W,yt,null)}function y$1(vt,nt,Z,W,yt){var J={type:vt,props:nt,key:Z,ref:W,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:yt==null?++u$1:yt};return yt==null&&l$1.vnode!=null&&l$1.vnode(J),J}function d$1(vt){return vt.children}function _(vt,nt){this.props=vt,this.context=nt}function k$1(vt,nt){if(nt==null)return vt.__?k$1(vt.__,vt.__.__k.indexOf(vt)+1):null;for(var Z;nt<vt.__k.length;nt++)if((Z=vt.__k[nt])!=null&&Z.__e!=null)return Z.__e;return typeof vt.type=="function"?k$1(vt):null}function b$1(vt){var nt,Z;if((vt=vt.__)!=null&&vt.__c!=null){for(vt.__e=vt.__c.base=null,nt=0;nt<vt.__k.length;nt++)if((Z=vt.__k[nt])!=null&&Z.__e!=null){vt.__e=vt.__c.base=Z.__e;break}return b$1(vt)}}function m$1(vt){(!vt.__d&&(vt.__d=!0)&&t$1.push(vt)&&!g$1.__r++||r$1!==l$1.debounceRendering)&&((r$1=l$1.debounceRendering)||o$2)(g$1)}function g$1(){for(var vt;g$1.__r=t$1.length;)vt=t$1.sort(function(nt,Z){return nt.__v.__b-Z.__v.__b}),t$1=[],vt.some(function(nt){var Z,W,yt,J,ht,rt;nt.__d&&(ht=(J=(Z=nt).__v).__e,(rt=Z.__P)&&(W=[],(yt=a$1({},J)).__v=J.__v+1,j$1(rt,J,yt,Z.__n,rt.ownerSVGElement!==void 0,J.__h!=null?[ht]:null,W,ht==null?k$1(J):ht,J.__h),z$1(W,J),J.__e!=ht&&b$1(J)))})}function w$1(vt,nt,Z,W,yt,J,ht,rt,it,Y){var V,ct,lt,D,E,R,B,q=W&&W.__k||c$1,et=q.length;for(Z.__k=[],V=0;V<nt.length;V++)if((D=Z.__k[V]=(D=nt[V])==null||typeof D=="boolean"?null:typeof D=="string"||typeof D=="number"||typeof D=="bigint"?y$1(null,D,null,null,D):Array.isArray(D)?y$1(d$1,{children:D},null,null,null):D.__b>0?y$1(D.type,D.props,D.key,null,D.__v):D)!=null){if(D.__=Z,D.__b=Z.__b+1,(lt=q[V])===null||lt&&D.key==lt.key&&D.type===lt.type)q[V]=void 0;else for(ct=0;ct<et;ct++){if((lt=q[ct])&&D.key==lt.key&&D.type===lt.type){q[ct]=void 0;break}lt=null}j$1(vt,D,lt=lt||e$2,yt,J,ht,rt,it,Y),E=D.__e,(ct=D.ref)&&lt.ref!=ct&&(B||(B=[]),lt.ref&&B.push(lt.ref,null,D),B.push(ct,D.__c||E,D)),E!=null?(R==null&&(R=E),typeof D.type=="function"&&D.__k===lt.__k?D.__d=it=x(D,it,vt):it=P(vt,D,lt,q,E,it),typeof Z.type=="function"&&(Z.__d=it)):it&&lt.__e==it&&it.parentNode!=vt&&(it=k$1(lt))}for(Z.__e=R,V=et;V--;)q[V]!=null&&(typeof Z.type=="function"&&q[V].__e!=null&&q[V].__e==Z.__d&&(Z.__d=k$1(W,V+1)),N(q[V],q[V]));if(B)for(V=0;V<B.length;V++)M(B[V],B[++V],B[++V])}function x(vt,nt,Z){for(var W,yt=vt.__k,J=0;yt&&J<yt.length;J++)(W=yt[J])&&(W.__=vt,nt=typeof W.type=="function"?x(W,nt,Z):P(Z,W,W,yt,W.__e,nt));return nt}function P(vt,nt,Z,W,yt,J){var ht,rt,it;if(nt.__d!==void 0)ht=nt.__d,nt.__d=void 0;else if(Z==null||yt!=J||yt.parentNode==null)t:if(J==null||J.parentNode!==vt)vt.appendChild(yt),ht=null;else{for(rt=J,it=0;(rt=rt.nextSibling)&&it<W.length;it+=2)if(rt==yt)break t;vt.insertBefore(yt,J),ht=J}return ht!==void 0?ht:yt.nextSibling}function C(vt,nt,Z,W,yt){var J;for(J in Z)J==="children"||J==="key"||J in nt||H(vt,J,null,Z[J],W);for(J in nt)yt&&typeof nt[J]!="function"||J==="children"||J==="key"||J==="value"||J==="checked"||Z[J]===nt[J]||H(vt,J,nt[J],Z[J],W)}function $(vt,nt,Z){nt[0]==="-"?vt.setProperty(nt,Z):vt[nt]=Z==null?"":typeof Z!="number"||s$1.test(nt)?Z:Z+"px"}function H(vt,nt,Z,W,yt){var J;t:if(nt==="style")if(typeof Z=="string")vt.style.cssText=Z;else{if(typeof W=="string"&&(vt.style.cssText=W=""),W)for(nt in W)Z&&nt in Z||$(vt.style,nt,"");if(Z)for(nt in Z)W&&Z[nt]===W[nt]||$(vt.style,nt,Z[nt])}else if(nt[0]==="o"&&nt[1]==="n")J=nt!==(nt=nt.replace(/Capture$/,"")),nt=nt.toLowerCase()in vt?nt.toLowerCase().slice(2):nt.slice(2),vt.l||(vt.l={}),vt.l[nt+J]=Z,Z?W||vt.addEventListener(nt,J?T$1:I,J):vt.removeEventListener(nt,J?T$1:I,J);else if(nt!=="dangerouslySetInnerHTML"){if(yt)nt=nt.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(nt!=="href"&&nt!=="list"&&nt!=="form"&&nt!=="tabIndex"&&nt!=="download"&&nt in vt)try{vt[nt]=Z==null?"":Z;break t}catch{}typeof Z=="function"||(Z!=null&&(Z!==!1||nt[0]==="a"&&nt[1]==="r")?vt.setAttribute(nt,Z):vt.removeAttribute(nt))}}function I(vt){this.l[vt.type+!1](l$1.event?l$1.event(vt):vt)}function T$1(vt){this.l[vt.type+!0](l$1.event?l$1.event(vt):vt)}function j$1(vt,nt,Z,W,yt,J,ht,rt,it){var Y,V,ct,lt,D,E,R,B,q,et,K,ft,pt,St=nt.type;if(nt.constructor!==void 0)return null;Z.__h!=null&&(it=Z.__h,rt=nt.__e=Z.__e,nt.__h=null,J=[rt]),(Y=l$1.__b)&&Y(nt);try{t:if(typeof St=="function"){if(B=nt.props,q=(Y=St.contextType)&&W[Y.__c],et=Y?q?q.props.value:Y.__:W,Z.__c?R=(V=nt.__c=Z.__c).__=V.__E:("prototype"in St&&St.prototype.render?nt.__c=V=new St(B,et):(nt.__c=V=new _(B,et),V.constructor=St,V.render=O),q&&q.sub(V),V.props=B,V.state||(V.state={}),V.context=et,V.__n=W,ct=V.__d=!0,V.__h=[]),V.__s==null&&(V.__s=V.state),St.getDerivedStateFromProps!=null&&(V.__s==V.state&&(V.__s=a$1({},V.__s)),a$1(V.__s,St.getDerivedStateFromProps(B,V.__s))),lt=V.props,D=V.state,ct)St.getDerivedStateFromProps==null&&V.componentWillMount!=null&&V.componentWillMount(),V.componentDidMount!=null&&V.__h.push(V.componentDidMount);else{if(St.getDerivedStateFromProps==null&&B!==lt&&V.componentWillReceiveProps!=null&&V.componentWillReceiveProps(B,et),!V.__e&&V.shouldComponentUpdate!=null&&V.shouldComponentUpdate(B,V.__s,et)===!1||nt.__v===Z.__v){V.props=B,V.state=V.__s,nt.__v!==Z.__v&&(V.__d=!1),V.__v=nt,nt.__e=Z.__e,nt.__k=Z.__k,nt.__k.forEach(function(xt){xt&&(xt.__=nt)}),V.__h.length&&ht.push(V);break t}V.componentWillUpdate!=null&&V.componentWillUpdate(B,V.__s,et),V.componentDidUpdate!=null&&V.__h.push(function(){V.componentDidUpdate(lt,D,E)})}if(V.context=et,V.props=B,V.__v=nt,V.__P=vt,K=l$1.__r,ft=0,"prototype"in St&&St.prototype.render)V.state=V.__s,V.__d=!1,K&&K(nt),Y=V.render(V.props,V.state,V.context);else do V.__d=!1,K&&K(nt),Y=V.render(V.props,V.state,V.context),V.state=V.__s;while(V.__d&&++ft<25);V.state=V.__s,V.getChildContext!=null&&(W=a$1(a$1({},W),V.getChildContext())),ct||V.getSnapshotBeforeUpdate==null||(E=V.getSnapshotBeforeUpdate(lt,D)),pt=Y!=null&&Y.type===d$1&&Y.key==null?Y.props.children:Y,w$1(vt,Array.isArray(pt)?pt:[pt],nt,Z,W,yt,J,ht,rt,it),V.base=nt.__e,nt.__h=null,V.__h.length&&ht.push(V),R&&(V.__E=V.__=null),V.__e=!1}else J==null&&nt.__v===Z.__v?(nt.__k=Z.__k,nt.__e=Z.__e):nt.__e=L(Z.__e,nt,Z,W,yt,J,ht,it);(Y=l$1.diffed)&&Y(nt)}catch(xt){nt.__v=null,(it||J!=null)&&(nt.__e=rt,nt.__h=!!it,J[J.indexOf(rt)]=null),l$1.__e(xt,nt,Z)}}function z$1(vt,nt){l$1.__c&&l$1.__c(nt,vt),vt.some(function(Z){try{vt=Z.__h,Z.__h=[],vt.some(function(W){W.call(Z)})}catch(W){l$1.__e(W,Z.__v)}})}function L(vt,nt,Z,W,yt,J,ht,rt){var it,Y,V,ct=Z.props,lt=nt.props,D=nt.type,E=0;if(D==="svg"&&(yt=!0),J!=null){for(;E<J.length;E++)if((it=J[E])&&"setAttribute"in it==!!D&&(D?it.localName===D:it.nodeType===3)){vt=it,J[E]=null;break}}if(vt==null){if(D===null)return document.createTextNode(lt);vt=yt?document.createElementNS("http://www.w3.org/2000/svg",D):document.createElement(D,lt.is&&lt),J=null,rt=!1}if(D===null)ct===lt||rt&&vt.data===lt||(vt.data=lt);else{if(J=J&&n.call(vt.childNodes),Y=(ct=Z.props||e$2).dangerouslySetInnerHTML,V=lt.dangerouslySetInnerHTML,!rt){if(J!=null)for(ct={},E=0;E<vt.attributes.length;E++)ct[vt.attributes[E].name]=vt.attributes[E].value;(V||Y)&&(V&&(Y&&V.__html==Y.__html||V.__html===vt.innerHTML)||(vt.innerHTML=V&&V.__html||""))}if(C(vt,lt,ct,yt,rt),V)nt.__k=[];else if(E=nt.props.children,w$1(vt,Array.isArray(E)?E:[E],nt,Z,W,yt&&D!=="foreignObject",J,ht,J?J[0]:Z.__k&&k$1(Z,0),rt),J!=null)for(E=J.length;E--;)J[E]!=null&&h(J[E]);rt||("value"in lt&&(E=lt.value)!==void 0&&(E!==vt.value||D==="progress"&&!E||D==="option"&&E!==ct.value)&&H(vt,"value",E,ct.value,!1),"checked"in lt&&(E=lt.checked)!==void 0&&E!==vt.checked&&H(vt,"checked",E,ct.checked,!1))}return vt}function M(vt,nt,Z){try{typeof vt=="function"?vt(nt):vt.current=nt}catch(W){l$1.__e(W,Z)}}function N(vt,nt,Z){var W,yt;if(l$1.unmount&&l$1.unmount(vt),(W=vt.ref)&&(W.current&&W.current!==vt.__e||M(W,null,nt)),(W=vt.__c)!=null){if(W.componentWillUnmount)try{W.componentWillUnmount()}catch(J){l$1.__e(J,nt)}W.base=W.__P=null}if(W=vt.__k)for(yt=0;yt<W.length;yt++)W[yt]&&N(W[yt],nt,typeof vt.type!="function");Z||vt.__e==null||h(vt.__e),vt.__e=vt.__d=void 0}function O(vt,nt,Z){return this.constructor(vt,Z)}function S(vt,nt,Z){var W,yt,J;l$1.__&&l$1.__(vt,nt),yt=(W=typeof Z=="function")?null:Z&&Z.__k||nt.__k,J=[],j$1(nt,vt=(!W&&Z||nt).__k=v$1(d$1,null,[vt]),yt||e$2,e$2,nt.ownerSVGElement!==void 0,!W&&Z?[Z]:yt?null:nt.firstChild?n.call(nt.childNodes):null,J,!W&&Z?Z:yt?yt.__e:nt.firstChild,W),z$1(J,vt)}n=c$1.slice,l$1={__e:function(vt,nt,Z,W){for(var yt,J,ht;nt=nt.__;)if((yt=nt.__c)&&!yt.__)try{if((J=yt.constructor)&&J.getDerivedStateFromError!=null&&(yt.setState(J.getDerivedStateFromError(vt)),ht=yt.__d),yt.componentDidCatch!=null&&(yt.componentDidCatch(vt,W||{}),ht=yt.__d),ht)return yt.__E=yt}catch(rt){vt=rt}throw vt}},u$1=0,_.prototype.setState=function(vt,nt){var Z;Z=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=a$1({},this.state),typeof vt=="function"&&(vt=vt(a$1({},Z),this.props)),vt&&a$1(Z,vt),vt!=null&&this.__v&&(nt&&this.__h.push(nt),m$1(this))},_.prototype.forceUpdate=function(vt){this.__v&&(this.__e=!0,vt&&this.__h.push(vt),m$1(this))},_.prototype.render=d$1,t$1=[],o$2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g$1.__r=0;var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(vt){if(vt.__esModule)return vt;var nt=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(vt).forEach(function(Z){var W=Object.getOwnPropertyDescriptor(vt,Z);Object.defineProperty(nt,Z,W.get?W:{enumerable:!0,get:function(){return vt[Z]}})}),nt}function commonjsRequire(vt){throw new Error('Could not dynamically require "'+vt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(vt,nt){(function(Z){vt.exports=Z()})(function(){return function Z(W,yt,J){function ht(Y,V){if(!yt[Y]){if(!W[Y]){var ct=typeof commonjsRequire=="function"&&commonjsRequire;if(!V&&ct)return ct(Y,!0);if(rt)return rt(Y,!0);var lt=new Error("Cannot find module '"+Y+"'");throw lt.code="MODULE_NOT_FOUND",lt}var D=yt[Y]={exports:{}};W[Y][0].call(D.exports,function(E){var R=W[Y][1][E];return ht(R||E)},D,D.exports,Z,W,yt,J)}return yt[Y].exports}for(var rt=typeof commonjsRequire=="function"&&commonjsRequire,it=0;it<J.length;it++)ht(J[it]);return ht}({1:[function(Z,W,yt){var J=Z("./utils"),ht=Z("./support"),rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";yt.encode=function(it){for(var Y,V,ct,lt,D,E,R,B=[],q=0,et=it.length,K=et,ft=J.getTypeOf(it)!=="string";q<it.length;)K=et-q,ct=ft?(Y=it[q++],V=q<et?it[q++]:0,q<et?it[q++]:0):(Y=it.charCodeAt(q++),V=q<et?it.charCodeAt(q++):0,q<et?it.charCodeAt(q++):0),lt=Y>>2,D=(3&Y)<<4|V>>4,E=1<K?(15&V)<<2|ct>>6:64,R=2<K?63&ct:64,B.push(rt.charAt(lt)+rt.charAt(D)+rt.charAt(E)+rt.charAt(R));return B.join("")},yt.decode=function(it){var Y,V,ct,lt,D,E,R=0,B=0,q="data:";if(it.substr(0,q.length)===q)throw new Error("Invalid base64 input, it looks like a data url.");var et,K=3*(it=it.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(it.charAt(it.length-1)===rt.charAt(64)&&K--,it.charAt(it.length-2)===rt.charAt(64)&&K--,K%1!=0)throw new Error("Invalid base64 input, bad content length.");for(et=ht.uint8array?new Uint8Array(0|K):new Array(0|K);R<it.length;)Y=rt.indexOf(it.charAt(R++))<<2|(lt=rt.indexOf(it.charAt(R++)))>>4,V=(15&lt)<<4|(D=rt.indexOf(it.charAt(R++)))>>2,ct=(3&D)<<6|(E=rt.indexOf(it.charAt(R++))),et[B++]=Y,D!==64&&(et[B++]=V),E!==64&&(et[B++]=ct);return et}},{"./support":30,"./utils":32}],2:[function(Z,W,yt){var J=Z("./external"),ht=Z("./stream/DataWorker"),rt=Z("./stream/Crc32Probe"),it=Z("./stream/DataLengthProbe");function Y(V,ct,lt,D,E){this.compressedSize=V,this.uncompressedSize=ct,this.crc32=lt,this.compression=D,this.compressedContent=E}Y.prototype={getContentWorker:function(){var V=new ht(J.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new it("data_length")),ct=this;return V.on("end",function(){if(this.streamInfo.data_length!==ct.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),V},getCompressedWorker:function(){return new ht(J.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Y.createWorkerFrom=function(V,ct,lt){return V.pipe(new rt).pipe(new it("uncompressedSize")).pipe(ct.compressWorker(lt)).pipe(new it("compressedSize")).withStreamInfo("compression",ct)},W.exports=Y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(Z,W,yt){var J=Z("./stream/GenericWorker");yt.STORE={magic:"\0\0",compressWorker:function(ht){return new J("STORE compression")},uncompressWorker:function(){return new J("STORE decompression")}},yt.DEFLATE=Z("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(Z,W,yt){var J=Z("./utils"),ht=function(){for(var rt,it=[],Y=0;Y<256;Y++){rt=Y;for(var V=0;V<8;V++)rt=1&rt?3988292384^rt>>>1:rt>>>1;it[Y]=rt}return it}();W.exports=function(rt,it){return rt!==void 0&&rt.length?J.getTypeOf(rt)!=="string"?function(Y,V,ct,lt){var D=ht,E=lt+ct;Y^=-1;for(var R=lt;R<E;R++)Y=Y>>>8^D[255&(Y^V[R])];return-1^Y}(0|it,rt,rt.length,0):function(Y,V,ct,lt){var D=ht,E=lt+ct;Y^=-1;for(var R=lt;R<E;R++)Y=Y>>>8^D[255&(Y^V.charCodeAt(R))];return-1^Y}(0|it,rt,rt.length,0):0}},{"./utils":32}],5:[function(Z,W,yt){yt.base64=!1,yt.binary=!1,yt.dir=!1,yt.createFolders=!0,yt.date=null,yt.compression=null,yt.compressionOptions=null,yt.comment=null,yt.unixPermissions=null,yt.dosPermissions=null},{}],6:[function(Z,W,yt){var J=null;J=typeof Promise!="undefined"?Promise:Z("lie"),W.exports={Promise:J}},{lie:37}],7:[function(Z,W,yt){var J=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",ht=Z("pako"),rt=Z("./utils"),it=Z("./stream/GenericWorker"),Y=J?"uint8array":"array";function V(ct,lt){it.call(this,"FlateWorker/"+ct),this._pako=null,this._pakoAction=ct,this._pakoOptions=lt,this.meta={}}yt.magic="\b\0",rt.inherits(V,it),V.prototype.processChunk=function(ct){this.meta=ct.meta,this._pako===null&&this._createPako(),this._pako.push(rt.transformTo(Y,ct.data),!1)},V.prototype.flush=function(){it.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},V.prototype.cleanUp=function(){it.prototype.cleanUp.call(this),this._pako=null},V.prototype._createPako=function(){this._pako=new ht[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ct=this;this._pako.onData=function(lt){ct.push({data:lt,meta:ct.meta})}},yt.compressWorker=function(ct){return new V("Deflate",ct)},yt.uncompressWorker=function(){return new V("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(Z,W,yt){function J(D,E){var R,B="";for(R=0;R<E;R++)B+=String.fromCharCode(255&D),D>>>=8;return B}function ht(D,E,R,B,q,et){var K,ft,pt=D.file,St=D.compression,xt=et!==Y.utf8encode,ot=rt.transformTo("string",et(pt.name)),at=rt.transformTo("string",Y.utf8encode(pt.name)),bt=pt.comment,Tt=rt.transformTo("string",et(bt)),st=rt.transformTo("string",Y.utf8encode(bt)),Et=at.length!==pt.name.length,X=st.length!==bt.length,Mt="",qt="",Dt="",Ht=pt.dir,jt=pt.date,Gt={crc32:0,compressedSize:0,uncompressedSize:0};E&&!R||(Gt.crc32=D.crc32,Gt.compressedSize=D.compressedSize,Gt.uncompressedSize=D.uncompressedSize);var ut=0;E&&(ut|=8),xt||!Et&&!X||(ut|=2048);var G=0,tt=0;Ht&&(G|=16),q==="UNIX"?(tt=798,G|=function(A,Q){var dt=A;return A||(dt=Q?16893:33204),(65535&dt)<<16}(pt.unixPermissions,Ht)):(tt=20,G|=function(A){return 63&(A||0)}(pt.dosPermissions)),K=jt.getUTCHours(),K<<=6,K|=jt.getUTCMinutes(),K<<=5,K|=jt.getUTCSeconds()/2,ft=jt.getUTCFullYear()-1980,ft<<=4,ft|=jt.getUTCMonth()+1,ft<<=5,ft|=jt.getUTCDate(),Et&&(qt=J(1,1)+J(V(ot),4)+at,Mt+="up"+J(qt.length,2)+qt),X&&(Dt=J(1,1)+J(V(Tt),4)+st,Mt+="uc"+J(Dt.length,2)+Dt);var gt="";return gt+=`
\0`,gt+=J(ut,2),gt+=St.magic,gt+=J(K,2),gt+=J(ft,2),gt+=J(Gt.crc32,4),gt+=J(Gt.compressedSize,4),gt+=J(Gt.uncompressedSize,4),gt+=J(ot.length,2),gt+=J(Mt.length,2),{fileRecord:ct.LOCAL_FILE_HEADER+gt+ot+Mt,dirRecord:ct.CENTRAL_FILE_HEADER+J(tt,2)+gt+J(Tt.length,2)+"\0\0\0\0"+J(G,4)+J(B,4)+ot+Mt+Tt}}var rt=Z("../utils"),it=Z("../stream/GenericWorker"),Y=Z("../utf8"),V=Z("../crc32"),ct=Z("../signature");function lt(D,E,R,B){it.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=R,this.encodeFileName=B,this.streamFiles=D,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}rt.inherits(lt,it),lt.prototype.push=function(D){var E=D.meta.percent||0,R=this.entriesCount,B=this._sources.length;this.accumulate?this.contentBuffer.push(D):(this.bytesWritten+=D.data.length,it.prototype.push.call(this,{data:D.data,meta:{currentFile:this.currentFile,percent:R?(E+100*(R-B-1))/R:100}}))},lt.prototype.openedSource=function(D){this.currentSourceOffset=this.bytesWritten,this.currentFile=D.file.name;var E=this.streamFiles&&!D.file.dir;if(E){var R=ht(D,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:R.fileRecord,meta:{percent:0}})}else this.accumulate=!0},lt.prototype.closedSource=function(D){this.accumulate=!1;var E=this.streamFiles&&!D.file.dir,R=ht(D,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(R.dirRecord),E)this.push({data:function(B){return ct.DATA_DESCRIPTOR+J(B.crc32,4)+J(B.compressedSize,4)+J(B.uncompressedSize,4)}(D),meta:{percent:100}});else for(this.push({data:R.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},lt.prototype.flush=function(){for(var D=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var R=this.bytesWritten-D,B=function(q,et,K,ft,pt){var St=rt.transformTo("string",pt(ft));return ct.CENTRAL_DIRECTORY_END+"\0\0\0\0"+J(q,2)+J(q,2)+J(et,4)+J(K,4)+J(St.length,2)+St}(this.dirRecords.length,R,D,this.zipComment,this.encodeFileName);this.push({data:B,meta:{percent:100}})},lt.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},lt.prototype.registerPrevious=function(D){this._sources.push(D);var E=this;return D.on("data",function(R){E.processChunk(R)}),D.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),D.on("error",function(R){E.error(R)}),this},lt.prototype.resume=function(){return!!it.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},lt.prototype.error=function(D){var E=this._sources;if(!it.prototype.error.call(this,D))return!1;for(var R=0;R<E.length;R++)try{E[R].error(D)}catch{}return!0},lt.prototype.lock=function(){it.prototype.lock.call(this);for(var D=this._sources,E=0;E<D.length;E++)D[E].lock()},W.exports=lt},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(Z,W,yt){var J=Z("../compressions"),ht=Z("./ZipFileWorker");yt.generateWorker=function(rt,it,Y){var V=new ht(it.streamFiles,Y,it.platform,it.encodeFileName),ct=0;try{rt.forEach(function(lt,D){ct++;var E=function(et,K){var ft=et||K,pt=J[ft];if(!pt)throw new Error(ft+" is not a valid compression method !");return pt}(D.options.compression,it.compression),R=D.options.compressionOptions||it.compressionOptions||{},B=D.dir,q=D.date;D._compressWorker(E,R).withStreamInfo("file",{name:lt,dir:B,date:q,comment:D.comment||"",unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions}).pipe(V)}),V.entriesCount=ct}catch(lt){V.error(lt)}return V}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(Z,W,yt){function J(){if(!(this instanceof J))return new J;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var ht=new J;for(var rt in this)typeof this[rt]!="function"&&(ht[rt]=this[rt]);return ht}}(J.prototype=Z("./object")).loadAsync=Z("./load"),J.support=Z("./support"),J.defaults=Z("./defaults"),J.version="3.10.0",J.loadAsync=function(ht,rt){return new J().loadAsync(ht,rt)},J.external=Z("./external"),W.exports=J},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(Z,W,yt){var J=Z("./utils"),ht=Z("./external"),rt=Z("./utf8"),it=Z("./zipEntries"),Y=Z("./stream/Crc32Probe"),V=Z("./nodejsUtils");function ct(lt){return new ht.Promise(function(D,E){var R=lt.decompressed.getContentWorker().pipe(new Y);R.on("error",function(B){E(B)}).on("end",function(){R.streamInfo.crc32!==lt.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):D()}).resume()})}W.exports=function(lt,D){var E=this;return D=J.extend(D||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:rt.utf8decode}),V.isNode&&V.isStream(lt)?ht.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):J.prepareContent("the loaded zip file",lt,!0,D.optimizedBinaryString,D.base64).then(function(R){var B=new it(D);return B.load(R),B}).then(function(R){var B=[ht.Promise.resolve(R)],q=R.files;if(D.checkCRC32)for(var et=0;et<q.length;et++)B.push(ct(q[et]));return ht.Promise.all(B)}).then(function(R){for(var B=R.shift(),q=B.files,et=0;et<q.length;et++){var K=q[et],ft=K.fileNameStr,pt=J.resolve(K.fileNameStr);E.file(pt,K.decompressed,{binary:!0,optimizedBinaryString:!0,date:K.date,dir:K.dir,comment:K.fileCommentStr.length?K.fileCommentStr:null,unixPermissions:K.unixPermissions,dosPermissions:K.dosPermissions,createFolders:D.createFolders}),K.dir||(E.file(pt).unsafeOriginalName=ft)}return B.zipComment.length&&(E.comment=B.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(Z,W,yt){var J=Z("../utils"),ht=Z("../stream/GenericWorker");function rt(it,Y){ht.call(this,"Nodejs stream input adapter for "+it),this._upstreamEnded=!1,this._bindStream(Y)}J.inherits(rt,ht),rt.prototype._bindStream=function(it){var Y=this;(this._stream=it).pause(),it.on("data",function(V){Y.push({data:V,meta:{percent:0}})}).on("error",function(V){Y.isPaused?this.generatedError=V:Y.error(V)}).on("end",function(){Y.isPaused?Y._upstreamEnded=!0:Y.end()})},rt.prototype.pause=function(){return!!ht.prototype.pause.call(this)&&(this._stream.pause(),!0)},rt.prototype.resume=function(){return!!ht.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},W.exports=rt},{"../stream/GenericWorker":28,"../utils":32}],13:[function(Z,W,yt){var J=Z("readable-stream").Readable;function ht(rt,it,Y){J.call(this,it),this._helper=rt;var V=this;rt.on("data",function(ct,lt){V.push(ct)||V._helper.pause(),Y&&Y(lt)}).on("error",function(ct){V.emit("error",ct)}).on("end",function(){V.push(null)})}Z("../utils").inherits(ht,J),ht.prototype._read=function(){this._helper.resume()},W.exports=ht},{"../utils":32,"readable-stream":16}],14:[function(Z,W,yt){W.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(J,ht){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(J,ht);if(typeof J=="number")throw new Error('The "data" argument must not be a number');return new Buffer(J,ht)},allocBuffer:function(J){if(Buffer.alloc)return Buffer.alloc(J);var ht=new Buffer(J);return ht.fill(0),ht},isBuffer:function(J){return Buffer.isBuffer(J)},isStream:function(J){return J&&typeof J.on=="function"&&typeof J.pause=="function"&&typeof J.resume=="function"}}},{}],15:[function(Z,W,yt){function J(pt,St,xt){var ot,at=rt.getTypeOf(St),bt=rt.extend(xt||{},V);bt.date=bt.date||new Date,bt.compression!==null&&(bt.compression=bt.compression.toUpperCase()),typeof bt.unixPermissions=="string"&&(bt.unixPermissions=parseInt(bt.unixPermissions,8)),bt.unixPermissions&&16384&bt.unixPermissions&&(bt.dir=!0),bt.dosPermissions&&16&bt.dosPermissions&&(bt.dir=!0),bt.dir&&(pt=q(pt)),bt.createFolders&&(ot=B(pt))&&et.call(this,ot,!0);var Tt=at==="string"&&bt.binary===!1&&bt.base64===!1;xt&&xt.binary!==void 0||(bt.binary=!Tt),(St instanceof ct&&St.uncompressedSize===0||bt.dir||!St||St.length===0)&&(bt.base64=!1,bt.binary=!0,St="",bt.compression="STORE",at="string");var st=null;st=St instanceof ct||St instanceof it?St:E.isNode&&E.isStream(St)?new R(pt,St):rt.prepareContent(pt,St,bt.binary,bt.optimizedBinaryString,bt.base64);var Et=new lt(pt,st,bt);this.files[pt]=Et}var ht=Z("./utf8"),rt=Z("./utils"),it=Z("./stream/GenericWorker"),Y=Z("./stream/StreamHelper"),V=Z("./defaults"),ct=Z("./compressedObject"),lt=Z("./zipObject"),D=Z("./generate"),E=Z("./nodejsUtils"),R=Z("./nodejs/NodejsStreamInputAdapter"),B=function(pt){pt.slice(-1)==="/"&&(pt=pt.substring(0,pt.length-1));var St=pt.lastIndexOf("/");return 0<St?pt.substring(0,St):""},q=function(pt){return pt.slice(-1)!=="/"&&(pt+="/"),pt},et=function(pt,St){return St=St!==void 0?St:V.createFolders,pt=q(pt),this.files[pt]||J.call(this,pt,null,{dir:!0,createFolders:St}),this.files[pt]};function K(pt){return Object.prototype.toString.call(pt)==="[object RegExp]"}var ft={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(pt){var St,xt,ot;for(St in this.files)ot=this.files[St],(xt=St.slice(this.root.length,St.length))&&St.slice(0,this.root.length)===this.root&&pt(xt,ot)},filter:function(pt){var St=[];return this.forEach(function(xt,ot){pt(xt,ot)&&St.push(ot)}),St},file:function(pt,St,xt){if(arguments.length!==1)return pt=this.root+pt,J.call(this,pt,St,xt),this;if(K(pt)){var ot=pt;return this.filter(function(bt,Tt){return!Tt.dir&&ot.test(bt)})}var at=this.files[this.root+pt];return at&&!at.dir?at:null},folder:function(pt){if(!pt)return this;if(K(pt))return this.filter(function(at,bt){return bt.dir&&pt.test(at)});var St=this.root+pt,xt=et.call(this,St),ot=this.clone();return ot.root=xt.name,ot},remove:function(pt){pt=this.root+pt;var St=this.files[pt];if(St||(pt.slice(-1)!=="/"&&(pt+="/"),St=this.files[pt]),St&&!St.dir)delete this.files[pt];else for(var xt=this.filter(function(at,bt){return bt.name.slice(0,pt.length)===pt}),ot=0;ot<xt.length;ot++)delete this.files[xt[ot].name];return this},generate:function(pt){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(pt){var St,xt={};try{if((xt=rt.extend(pt||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:ht.utf8encode})).type=xt.type.toLowerCase(),xt.compression=xt.compression.toUpperCase(),xt.type==="binarystring"&&(xt.type="string"),!xt.type)throw new Error("No output type specified.");rt.checkSupport(xt.type),xt.platform!=="darwin"&&xt.platform!=="freebsd"&&xt.platform!=="linux"&&xt.platform!=="sunos"||(xt.platform="UNIX"),xt.platform==="win32"&&(xt.platform="DOS");var ot=xt.comment||this.comment||"";St=D.generateWorker(this,xt,ot)}catch(at){(St=new it("error")).error(at)}return new Y(St,xt.type||"string",xt.mimeType)},generateAsync:function(pt,St){return this.generateInternalStream(pt).accumulate(St)},generateNodeStream:function(pt,St){return(pt=pt||{}).type||(pt.type="nodebuffer"),this.generateInternalStream(pt).toNodejsStream(St)}};W.exports=ft},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(Z,W,yt){W.exports=Z("stream")},{stream:void 0}],17:[function(Z,W,yt){var J=Z("./DataReader");function ht(rt){J.call(this,rt);for(var it=0;it<this.data.length;it++)rt[it]=255&rt[it]}Z("../utils").inherits(ht,J),ht.prototype.byteAt=function(rt){return this.data[this.zero+rt]},ht.prototype.lastIndexOfSignature=function(rt){for(var it=rt.charCodeAt(0),Y=rt.charCodeAt(1),V=rt.charCodeAt(2),ct=rt.charCodeAt(3),lt=this.length-4;0<=lt;--lt)if(this.data[lt]===it&&this.data[lt+1]===Y&&this.data[lt+2]===V&&this.data[lt+3]===ct)return lt-this.zero;return-1},ht.prototype.readAndCheckSignature=function(rt){var it=rt.charCodeAt(0),Y=rt.charCodeAt(1),V=rt.charCodeAt(2),ct=rt.charCodeAt(3),lt=this.readData(4);return it===lt[0]&&Y===lt[1]&&V===lt[2]&&ct===lt[3]},ht.prototype.readData=function(rt){if(this.checkOffset(rt),rt===0)return[];var it=this.data.slice(this.zero+this.index,this.zero+this.index+rt);return this.index+=rt,it},W.exports=ht},{"../utils":32,"./DataReader":18}],18:[function(Z,W,yt){var J=Z("../utils");function ht(rt){this.data=rt,this.length=rt.length,this.index=0,this.zero=0}ht.prototype={checkOffset:function(rt){this.checkIndex(this.index+rt)},checkIndex:function(rt){if(this.length<this.zero+rt||rt<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+rt+"). Corrupted zip ?")},setIndex:function(rt){this.checkIndex(rt),this.index=rt},skip:function(rt){this.setIndex(this.index+rt)},byteAt:function(rt){},readInt:function(rt){var it,Y=0;for(this.checkOffset(rt),it=this.index+rt-1;it>=this.index;it--)Y=(Y<<8)+this.byteAt(it);return this.index+=rt,Y},readString:function(rt){return J.transformTo("string",this.readData(rt))},readData:function(rt){},lastIndexOfSignature:function(rt){},readAndCheckSignature:function(rt){},readDate:function(){var rt=this.readInt(4);return new Date(Date.UTC(1980+(rt>>25&127),(rt>>21&15)-1,rt>>16&31,rt>>11&31,rt>>5&63,(31&rt)<<1))}},W.exports=ht},{"../utils":32}],19:[function(Z,W,yt){var J=Z("./Uint8ArrayReader");function ht(rt){J.call(this,rt)}Z("../utils").inherits(ht,J),ht.prototype.readData=function(rt){this.checkOffset(rt);var it=this.data.slice(this.zero+this.index,this.zero+this.index+rt);return this.index+=rt,it},W.exports=ht},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(Z,W,yt){var J=Z("./DataReader");function ht(rt){J.call(this,rt)}Z("../utils").inherits(ht,J),ht.prototype.byteAt=function(rt){return this.data.charCodeAt(this.zero+rt)},ht.prototype.lastIndexOfSignature=function(rt){return this.data.lastIndexOf(rt)-this.zero},ht.prototype.readAndCheckSignature=function(rt){return rt===this.readData(4)},ht.prototype.readData=function(rt){this.checkOffset(rt);var it=this.data.slice(this.zero+this.index,this.zero+this.index+rt);return this.index+=rt,it},W.exports=ht},{"../utils":32,"./DataReader":18}],21:[function(Z,W,yt){var J=Z("./ArrayReader");function ht(rt){J.call(this,rt)}Z("../utils").inherits(ht,J),ht.prototype.readData=function(rt){if(this.checkOffset(rt),rt===0)return new Uint8Array(0);var it=this.data.subarray(this.zero+this.index,this.zero+this.index+rt);return this.index+=rt,it},W.exports=ht},{"../utils":32,"./ArrayReader":17}],22:[function(Z,W,yt){var J=Z("../utils"),ht=Z("../support"),rt=Z("./ArrayReader"),it=Z("./StringReader"),Y=Z("./NodeBufferReader"),V=Z("./Uint8ArrayReader");W.exports=function(ct){var lt=J.getTypeOf(ct);return J.checkSupport(lt),lt!=="string"||ht.uint8array?lt==="nodebuffer"?new Y(ct):ht.uint8array?new V(J.transformTo("uint8array",ct)):new rt(J.transformTo("array",ct)):new it(ct)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(Z,W,yt){yt.LOCAL_FILE_HEADER="PK",yt.CENTRAL_FILE_HEADER="PK",yt.CENTRAL_DIRECTORY_END="PK",yt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",yt.ZIP64_CENTRAL_DIRECTORY_END="PK",yt.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(Z,W,yt){var J=Z("./GenericWorker"),ht=Z("../utils");function rt(it){J.call(this,"ConvertWorker to "+it),this.destType=it}ht.inherits(rt,J),rt.prototype.processChunk=function(it){this.push({data:ht.transformTo(this.destType,it.data),meta:it.meta})},W.exports=rt},{"../utils":32,"./GenericWorker":28}],25:[function(Z,W,yt){var J=Z("./GenericWorker"),ht=Z("../crc32");function rt(){J.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Z("../utils").inherits(rt,J),rt.prototype.processChunk=function(it){this.streamInfo.crc32=ht(it.data,this.streamInfo.crc32||0),this.push(it)},W.exports=rt},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(Z,W,yt){var J=Z("../utils"),ht=Z("./GenericWorker");function rt(it){ht.call(this,"DataLengthProbe for "+it),this.propName=it,this.withStreamInfo(it,0)}J.inherits(rt,ht),rt.prototype.processChunk=function(it){if(it){var Y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=Y+it.data.length}ht.prototype.processChunk.call(this,it)},W.exports=rt},{"../utils":32,"./GenericWorker":28}],27:[function(Z,W,yt){var J=Z("../utils"),ht=Z("./GenericWorker");function rt(it){ht.call(this,"DataWorker");var Y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,it.then(function(V){Y.dataIsReady=!0,Y.data=V,Y.max=V&&V.length||0,Y.type=J.getTypeOf(V),Y.isPaused||Y._tickAndRepeat()},function(V){Y.error(V)})}J.inherits(rt,ht),rt.prototype.cleanUp=function(){ht.prototype.cleanUp.call(this),this.data=null},rt.prototype.resume=function(){return!!ht.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,J.delay(this._tickAndRepeat,[],this)),!0)},rt.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(J.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},rt.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var it=null,Y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":it=this.data.substring(this.index,Y);break;case"uint8array":it=this.data.subarray(this.index,Y);break;case"array":case"nodebuffer":it=this.data.slice(this.index,Y)}return this.index=Y,this.push({data:it,meta:{percent:this.max?this.index/this.max*100:0}})},W.exports=rt},{"../utils":32,"./GenericWorker":28}],28:[function(Z,W,yt){function J(ht){this.name=ht||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}J.prototype={push:function(ht){this.emit("data",ht)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(ht){this.emit("error",ht)}return!0},error:function(ht){return!this.isFinished&&(this.isPaused?this.generatedError=ht:(this.isFinished=!0,this.emit("error",ht),this.previous&&this.previous.error(ht),this.cleanUp()),!0)},on:function(ht,rt){return this._listeners[ht].push(rt),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(ht,rt){if(this._listeners[ht])for(var it=0;it<this._listeners[ht].length;it++)this._listeners[ht][it].call(this,rt)},pipe:function(ht){return ht.registerPrevious(this)},registerPrevious:function(ht){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=ht.streamInfo,this.mergeStreamInfo(),this.previous=ht;var rt=this;return ht.on("data",function(it){rt.processChunk(it)}),ht.on("end",function(){rt.end()}),ht.on("error",function(it){rt.error(it)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var ht=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),ht=!0),this.previous&&this.previous.resume(),!ht},flush:function(){},processChunk:function(ht){this.push(ht)},withStreamInfo:function(ht,rt){return this.extraStreamInfo[ht]=rt,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var ht in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(ht)&&(this.streamInfo[ht]=this.extraStreamInfo[ht])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var ht="Worker "+this.name;return this.previous?this.previous+" -> "+ht:ht}},W.exports=J},{}],29:[function(Z,W,yt){var J=Z("../utils"),ht=Z("./ConvertWorker"),rt=Z("./GenericWorker"),it=Z("../base64"),Y=Z("../support"),V=Z("../external"),ct=null;if(Y.nodestream)try{ct=Z("../nodejs/NodejsStreamOutputAdapter")}catch{}function lt(E,R){return new V.Promise(function(B,q){var et=[],K=E._internalType,ft=E._outputType,pt=E._mimeType;E.on("data",function(St,xt){et.push(St),R&&R(xt)}).on("error",function(St){et=[],q(St)}).on("end",function(){try{var St=function(xt,ot,at){switch(xt){case"blob":return J.newBlob(J.transformTo("arraybuffer",ot),at);case"base64":return it.encode(ot);default:return J.transformTo(xt,ot)}}(ft,function(xt,ot){var at,bt=0,Tt=null,st=0;for(at=0;at<ot.length;at++)st+=ot[at].length;switch(xt){case"string":return ot.join("");case"array":return Array.prototype.concat.apply([],ot);case"uint8array":for(Tt=new Uint8Array(st),at=0;at<ot.length;at++)Tt.set(ot[at],bt),bt+=ot[at].length;return Tt;case"nodebuffer":return Buffer.concat(ot);default:throw new Error("concat : unsupported type '"+xt+"'")}}(K,et),pt);B(St)}catch(xt){q(xt)}et=[]}).resume()})}function D(E,R,B){var q=R;switch(R){case"blob":case"arraybuffer":q="uint8array";break;case"base64":q="string"}try{this._internalType=q,this._outputType=R,this._mimeType=B,J.checkSupport(q),this._worker=E.pipe(new ht(q)),E.lock()}catch(et){this._worker=new rt("error"),this._worker.error(et)}}D.prototype={accumulate:function(E){return lt(this,E)},on:function(E,R){var B=this;return E==="data"?this._worker.on(E,function(q){R.call(B,q.data,q.meta)}):this._worker.on(E,function(){J.delay(R,arguments,B)}),this},resume:function(){return J.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(J.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ct(this,{objectMode:this._outputType!=="nodebuffer"},E)}},W.exports=D},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(Z,W,yt){if(yt.base64=!0,yt.array=!0,yt.string=!0,yt.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",yt.nodebuffer=typeof Buffer!="undefined",yt.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")yt.blob=!1;else{var J=new ArrayBuffer(0);try{yt.blob=new Blob([J],{type:"application/zip"}).size===0}catch{try{var ht=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);ht.append(J),yt.blob=ht.getBlob("application/zip").size===0}catch{yt.blob=!1}}}try{yt.nodestream=!!Z("readable-stream").Readable}catch{yt.nodestream=!1}},{"readable-stream":16}],31:[function(Z,W,yt){for(var J=Z("./utils"),ht=Z("./support"),rt=Z("./nodejsUtils"),it=Z("./stream/GenericWorker"),Y=new Array(256),V=0;V<256;V++)Y[V]=252<=V?6:248<=V?5:240<=V?4:224<=V?3:192<=V?2:1;Y[254]=Y[254]=1;function ct(){it.call(this,"utf-8 decode"),this.leftOver=null}function lt(){it.call(this,"utf-8 encode")}yt.utf8encode=function(D){return ht.nodebuffer?rt.newBufferFrom(D,"utf-8"):function(E){var R,B,q,et,K,ft=E.length,pt=0;for(et=0;et<ft;et++)(64512&(B=E.charCodeAt(et)))==55296&&et+1<ft&&(64512&(q=E.charCodeAt(et+1)))==56320&&(B=65536+(B-55296<<10)+(q-56320),et++),pt+=B<128?1:B<2048?2:B<65536?3:4;for(R=ht.uint8array?new Uint8Array(pt):new Array(pt),et=K=0;K<pt;et++)(64512&(B=E.charCodeAt(et)))==55296&&et+1<ft&&(64512&(q=E.charCodeAt(et+1)))==56320&&(B=65536+(B-55296<<10)+(q-56320),et++),B<128?R[K++]=B:(B<2048?R[K++]=192|B>>>6:(B<65536?R[K++]=224|B>>>12:(R[K++]=240|B>>>18,R[K++]=128|B>>>12&63),R[K++]=128|B>>>6&63),R[K++]=128|63&B);return R}(D)},yt.utf8decode=function(D){return ht.nodebuffer?J.transformTo("nodebuffer",D).toString("utf-8"):function(E){var R,B,q,et,K=E.length,ft=new Array(2*K);for(R=B=0;R<K;)if((q=E[R++])<128)ft[B++]=q;else if(4<(et=Y[q]))ft[B++]=65533,R+=et-1;else{for(q&=et===2?31:et===3?15:7;1<et&&R<K;)q=q<<6|63&E[R++],et--;1<et?ft[B++]=65533:q<65536?ft[B++]=q:(q-=65536,ft[B++]=55296|q>>10&1023,ft[B++]=56320|1023&q)}return ft.length!==B&&(ft.subarray?ft=ft.subarray(0,B):ft.length=B),J.applyFromCharCode(ft)}(D=J.transformTo(ht.uint8array?"uint8array":"array",D))},J.inherits(ct,it),ct.prototype.processChunk=function(D){var E=J.transformTo(ht.uint8array?"uint8array":"array",D.data);if(this.leftOver&&this.leftOver.length){if(ht.uint8array){var R=E;(E=new Uint8Array(R.length+this.leftOver.length)).set(this.leftOver,0),E.set(R,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var B=function(et,K){var ft;for((K=K||et.length)>et.length&&(K=et.length),ft=K-1;0<=ft&&(192&et[ft])==128;)ft--;return ft<0||ft===0?K:ft+Y[et[ft]]>K?ft:K}(E),q=E;B!==E.length&&(ht.uint8array?(q=E.subarray(0,B),this.leftOver=E.subarray(B,E.length)):(q=E.slice(0,B),this.leftOver=E.slice(B,E.length))),this.push({data:yt.utf8decode(q),meta:D.meta})},ct.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:yt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},yt.Utf8DecodeWorker=ct,J.inherits(lt,it),lt.prototype.processChunk=function(D){this.push({data:yt.utf8encode(D.data),meta:D.meta})},yt.Utf8EncodeWorker=lt},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(Z,W,yt){var J=Z("./support"),ht=Z("./base64"),rt=Z("./nodejsUtils"),it=Z("./external");function Y(R){return R}function V(R,B){for(var q=0;q<R.length;++q)B[q]=255&R.charCodeAt(q);return B}Z("setimmediate"),yt.newBlob=function(R,B){yt.checkSupport("blob");try{return new Blob([R],{type:B})}catch{try{var q=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return q.append(R),q.getBlob(B)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ct={stringifyByChunk:function(R,B,q){var et=[],K=0,ft=R.length;if(ft<=q)return String.fromCharCode.apply(null,R);for(;K<ft;)B==="array"||B==="nodebuffer"?et.push(String.fromCharCode.apply(null,R.slice(K,Math.min(K+q,ft)))):et.push(String.fromCharCode.apply(null,R.subarray(K,Math.min(K+q,ft)))),K+=q;return et.join("")},stringifyByChar:function(R){for(var B="",q=0;q<R.length;q++)B+=String.fromCharCode(R[q]);return B},applyCanBeUsed:{uint8array:function(){try{return J.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return J.nodebuffer&&String.fromCharCode.apply(null,rt.allocBuffer(1)).length===1}catch{return!1}}()}};function lt(R){var B=65536,q=yt.getTypeOf(R),et=!0;if(q==="uint8array"?et=ct.applyCanBeUsed.uint8array:q==="nodebuffer"&&(et=ct.applyCanBeUsed.nodebuffer),et)for(;1<B;)try{return ct.stringifyByChunk(R,q,B)}catch{B=Math.floor(B/2)}return ct.stringifyByChar(R)}function D(R,B){for(var q=0;q<R.length;q++)B[q]=R[q];return B}yt.applyFromCharCode=lt;var E={};E.string={string:Y,array:function(R){return V(R,new Array(R.length))},arraybuffer:function(R){return E.string.uint8array(R).buffer},uint8array:function(R){return V(R,new Uint8Array(R.length))},nodebuffer:function(R){return V(R,rt.allocBuffer(R.length))}},E.array={string:lt,array:Y,arraybuffer:function(R){return new Uint8Array(R).buffer},uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return rt.newBufferFrom(R)}},E.arraybuffer={string:function(R){return lt(new Uint8Array(R))},array:function(R){return D(new Uint8Array(R),new Array(R.byteLength))},arraybuffer:Y,uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return rt.newBufferFrom(new Uint8Array(R))}},E.uint8array={string:lt,array:function(R){return D(R,new Array(R.length))},arraybuffer:function(R){return R.buffer},uint8array:Y,nodebuffer:function(R){return rt.newBufferFrom(R)}},E.nodebuffer={string:lt,array:function(R){return D(R,new Array(R.length))},arraybuffer:function(R){return E.nodebuffer.uint8array(R).buffer},uint8array:function(R){return D(R,new Uint8Array(R.length))},nodebuffer:Y},yt.transformTo=function(R,B){if(B=B||"",!R)return B;yt.checkSupport(R);var q=yt.getTypeOf(B);return E[q][R](B)},yt.resolve=function(R){for(var B=R.split("/"),q=[],et=0;et<B.length;et++){var K=B[et];K==="."||K===""&&et!==0&&et!==B.length-1||(K===".."?q.pop():q.push(K))}return q.join("/")},yt.getTypeOf=function(R){return typeof R=="string"?"string":Object.prototype.toString.call(R)==="[object Array]"?"array":J.nodebuffer&&rt.isBuffer(R)?"nodebuffer":J.uint8array&&R instanceof Uint8Array?"uint8array":J.arraybuffer&&R instanceof ArrayBuffer?"arraybuffer":void 0},yt.checkSupport=function(R){if(!J[R.toLowerCase()])throw new Error(R+" is not supported by this platform")},yt.MAX_VALUE_16BITS=65535,yt.MAX_VALUE_32BITS=-1,yt.pretty=function(R){var B,q,et="";for(q=0;q<(R||"").length;q++)et+="\\x"+((B=R.charCodeAt(q))<16?"0":"")+B.toString(16).toUpperCase();return et},yt.delay=function(R,B,q){setImmediate(function(){R.apply(q||null,B||[])})},yt.inherits=function(R,B){function q(){}q.prototype=B.prototype,R.prototype=new q},yt.extend=function(){var R,B,q={};for(R=0;R<arguments.length;R++)for(B in arguments[R])arguments[R].hasOwnProperty(B)&&q[B]===void 0&&(q[B]=arguments[R][B]);return q},yt.prepareContent=function(R,B,q,et,K){return it.Promise.resolve(B).then(function(ft){return J.blob&&(ft instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ft))!==-1)&&typeof FileReader!="undefined"?new it.Promise(function(pt,St){var xt=new FileReader;xt.onload=function(ot){pt(ot.target.result)},xt.onerror=function(ot){St(ot.target.error)},xt.readAsArrayBuffer(ft)}):ft}).then(function(ft){var pt=yt.getTypeOf(ft);return pt?(pt==="arraybuffer"?ft=yt.transformTo("uint8array",ft):pt==="string"&&(K?ft=ht.decode(ft):q&&et!==!0&&(ft=function(St){return V(St,J.uint8array?new Uint8Array(St.length):new Array(St.length))}(ft))),ft):it.Promise.reject(new Error("Can't read the data of '"+R+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(Z,W,yt){var J=Z("./reader/readerFor"),ht=Z("./utils"),rt=Z("./signature"),it=Z("./zipEntry"),Y=(Z("./utf8"),Z("./support"));function V(ct){this.files=[],this.loadOptions=ct}V.prototype={checkSignature:function(ct){if(!this.reader.readAndCheckSignature(ct)){this.reader.index-=4;var lt=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+ht.pretty(lt)+", expected "+ht.pretty(ct)+")")}},isSignature:function(ct,lt){var D=this.reader.index;this.reader.setIndex(ct);var E=this.reader.readString(4)===lt;return this.reader.setIndex(D),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ct=this.reader.readData(this.zipCommentLength),lt=Y.uint8array?"uint8array":"array",D=ht.transformTo(lt,ct);this.zipComment=this.loadOptions.decodeFileName(D)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ct,lt,D,E=this.zip64EndOfCentralSize-44;0<E;)ct=this.reader.readInt(2),lt=this.reader.readInt(4),D=this.reader.readData(lt),this.zip64ExtensibleData[ct]={id:ct,length:lt,value:D}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ct,lt;for(ct=0;ct<this.files.length;ct++)lt=this.files[ct],this.reader.setIndex(lt.localHeaderOffset),this.checkSignature(rt.LOCAL_FILE_HEADER),lt.readLocalPart(this.reader),lt.handleUTF8(),lt.processAttributes()},readCentralDir:function(){var ct;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(rt.CENTRAL_FILE_HEADER);)(ct=new it({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ct);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ct=this.reader.lastIndexOfSignature(rt.CENTRAL_DIRECTORY_END);if(ct<0)throw this.isSignature(0,rt.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ct);var lt=ct;if(this.checkSignature(rt.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===ht.MAX_VALUE_16BITS||this.diskWithCentralDirStart===ht.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===ht.MAX_VALUE_16BITS||this.centralDirRecords===ht.MAX_VALUE_16BITS||this.centralDirSize===ht.MAX_VALUE_32BITS||this.centralDirOffset===ht.MAX_VALUE_32BITS){if(this.zip64=!0,(ct=this.reader.lastIndexOfSignature(rt.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ct),this.checkSignature(rt.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,rt.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(rt.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(rt.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var D=this.centralDirOffset+this.centralDirSize;this.zip64&&(D+=20,D+=12+this.zip64EndOfCentralSize);var E=lt-D;if(0<E)this.isSignature(lt,rt.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(ct){this.reader=J(ct)},load:function(ct){this.prepareReader(ct),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},W.exports=V},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(Z,W,yt){var J=Z("./reader/readerFor"),ht=Z("./utils"),rt=Z("./compressedObject"),it=Z("./crc32"),Y=Z("./utf8"),V=Z("./compressions"),ct=Z("./support");function lt(D,E){this.options=D,this.loadOptions=E}lt.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(D){var E,R;if(D.skip(22),this.fileNameLength=D.readInt(2),R=D.readInt(2),this.fileName=D.readData(this.fileNameLength),D.skip(R),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=function(B){for(var q in V)if(V.hasOwnProperty(q)&&V[q].magic===B)return V[q];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+ht.pretty(this.compressionMethod)+" unknown (inner file : "+ht.transformTo("string",this.fileName)+")");this.decompressed=new rt(this.compressedSize,this.uncompressedSize,this.crc32,E,D.readData(this.compressedSize))},readCentralPart:function(D){this.versionMadeBy=D.readInt(2),D.skip(2),this.bitFlag=D.readInt(2),this.compressionMethod=D.readString(2),this.date=D.readDate(),this.crc32=D.readInt(4),this.compressedSize=D.readInt(4),this.uncompressedSize=D.readInt(4);var E=D.readInt(2);if(this.extraFieldsLength=D.readInt(2),this.fileCommentLength=D.readInt(2),this.diskNumberStart=D.readInt(2),this.internalFileAttributes=D.readInt(2),this.externalFileAttributes=D.readInt(4),this.localHeaderOffset=D.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");D.skip(E),this.readExtraFields(D),this.parseZIP64ExtraField(D),this.fileComment=D.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var D=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),D==0&&(this.dosPermissions=63&this.externalFileAttributes),D==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(D){if(this.extraFields[1]){var E=J(this.extraFields[1].value);this.uncompressedSize===ht.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===ht.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===ht.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===ht.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(D){var E,R,B,q=D.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});D.index+4<q;)E=D.readInt(2),R=D.readInt(2),B=D.readData(R),this.extraFields[E]={id:E,length:R,value:B};D.setIndex(q)},handleUTF8:function(){var D=ct.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Y.utf8decode(this.fileName),this.fileCommentStr=Y.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var R=ht.transformTo(D,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(R)}var B=this.findExtraFieldUnicodeComment();if(B!==null)this.fileCommentStr=B;else{var q=ht.transformTo(D,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(q)}}},findExtraFieldUnicodePath:function(){var D=this.extraFields[28789];if(D){var E=J(D.value);return E.readInt(1)!==1||it(this.fileName)!==E.readInt(4)?null:Y.utf8decode(E.readData(D.length-5))}return null},findExtraFieldUnicodeComment:function(){var D=this.extraFields[25461];if(D){var E=J(D.value);return E.readInt(1)!==1||it(this.fileComment)!==E.readInt(4)?null:Y.utf8decode(E.readData(D.length-5))}return null}},W.exports=lt},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(Z,W,yt){function J(E,R,B){this.name=E,this.dir=B.dir,this.date=B.date,this.comment=B.comment,this.unixPermissions=B.unixPermissions,this.dosPermissions=B.dosPermissions,this._data=R,this._dataBinary=B.binary,this.options={compression:B.compression,compressionOptions:B.compressionOptions}}var ht=Z("./stream/StreamHelper"),rt=Z("./stream/DataWorker"),it=Z("./utf8"),Y=Z("./compressedObject"),V=Z("./stream/GenericWorker");J.prototype={internalStream:function(E){var R=null,B="string";try{if(!E)throw new Error("No output type specified.");var q=(B=E.toLowerCase())==="string"||B==="text";B!=="binarystring"&&B!=="text"||(B="string"),R=this._decompressWorker();var et=!this._dataBinary;et&&!q&&(R=R.pipe(new it.Utf8EncodeWorker)),!et&&q&&(R=R.pipe(new it.Utf8DecodeWorker))}catch(K){(R=new V("error")).error(K)}return new ht(R,B,"")},async:function(E,R){return this.internalStream(E).accumulate(R)},nodeStream:function(E,R){return this.internalStream(E||"nodebuffer").toNodejsStream(R)},_compressWorker:function(E,R){if(this._data instanceof Y&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var B=this._decompressWorker();return this._dataBinary||(B=B.pipe(new it.Utf8EncodeWorker)),Y.createWorkerFrom(B,E,R)},_decompressWorker:function(){return this._data instanceof Y?this._data.getContentWorker():this._data instanceof V?this._data:new rt(this._data)}};for(var ct=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],lt=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},D=0;D<ct.length;D++)J.prototype[ct[D]]=lt;W.exports=J},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(Z,W,yt){(function(J){var ht,rt,it=J.MutationObserver||J.WebKitMutationObserver;if(it){var Y=0,V=new it(E),ct=J.document.createTextNode("");V.observe(ct,{characterData:!0}),ht=function(){ct.data=Y=++Y%2}}else if(J.setImmediate||J.MessageChannel===void 0)ht="document"in J&&"onreadystatechange"in J.document.createElement("script")?function(){var R=J.document.createElement("script");R.onreadystatechange=function(){E(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},J.document.documentElement.appendChild(R)}:function(){setTimeout(E,0)};else{var lt=new J.MessageChannel;lt.port1.onmessage=E,ht=function(){lt.port2.postMessage(0)}}var D=[];function E(){var R,B;rt=!0;for(var q=D.length;q;){for(B=D,D=[],R=-1;++R<q;)B[R]();q=D.length}rt=!1}W.exports=function(R){D.push(R)!==1||rt||ht()}}).call(this,typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(Z,W,yt){var J=Z("immediate");function ht(){}var rt={},it=["REJECTED"],Y=["FULFILLED"],V=["PENDING"];function ct(q){if(typeof q!="function")throw new TypeError("resolver must be a function");this.state=V,this.queue=[],this.outcome=void 0,q!==ht&&R(this,q)}function lt(q,et,K){this.promise=q,typeof et=="function"&&(this.onFulfilled=et,this.callFulfilled=this.otherCallFulfilled),typeof K=="function"&&(this.onRejected=K,this.callRejected=this.otherCallRejected)}function D(q,et,K){J(function(){var ft;try{ft=et(K)}catch(pt){return rt.reject(q,pt)}ft===q?rt.reject(q,new TypeError("Cannot resolve promise with itself")):rt.resolve(q,ft)})}function E(q){var et=q&&q.then;if(q&&(typeof q=="object"||typeof q=="function")&&typeof et=="function")return function(){et.apply(q,arguments)}}function R(q,et){var K=!1;function ft(xt){K||(K=!0,rt.reject(q,xt))}function pt(xt){K||(K=!0,rt.resolve(q,xt))}var St=B(function(){et(pt,ft)});St.status==="error"&&ft(St.value)}function B(q,et){var K={};try{K.value=q(et),K.status="success"}catch(ft){K.status="error",K.value=ft}return K}(W.exports=ct).prototype.finally=function(q){if(typeof q!="function")return this;var et=this.constructor;return this.then(function(K){return et.resolve(q()).then(function(){return K})},function(K){return et.resolve(q()).then(function(){throw K})})},ct.prototype.catch=function(q){return this.then(null,q)},ct.prototype.then=function(q,et){if(typeof q!="function"&&this.state===Y||typeof et!="function"&&this.state===it)return this;var K=new this.constructor(ht);return this.state!==V?D(K,this.state===Y?q:et,this.outcome):this.queue.push(new lt(K,q,et)),K},lt.prototype.callFulfilled=function(q){rt.resolve(this.promise,q)},lt.prototype.otherCallFulfilled=function(q){D(this.promise,this.onFulfilled,q)},lt.prototype.callRejected=function(q){rt.reject(this.promise,q)},lt.prototype.otherCallRejected=function(q){D(this.promise,this.onRejected,q)},rt.resolve=function(q,et){var K=B(E,et);if(K.status==="error")return rt.reject(q,K.value);var ft=K.value;if(ft)R(q,ft);else{q.state=Y,q.outcome=et;for(var pt=-1,St=q.queue.length;++pt<St;)q.queue[pt].callFulfilled(et)}return q},rt.reject=function(q,et){q.state=it,q.outcome=et;for(var K=-1,ft=q.queue.length;++K<ft;)q.queue[K].callRejected(et);return q},ct.resolve=function(q){return q instanceof this?q:rt.resolve(new this(ht),q)},ct.reject=function(q){var et=new this(ht);return rt.reject(et,q)},ct.all=function(q){var et=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var K=q.length,ft=!1;if(!K)return this.resolve([]);for(var pt=new Array(K),St=0,xt=-1,ot=new this(ht);++xt<K;)at(q[xt],xt);return ot;function at(bt,Tt){et.resolve(bt).then(function(st){pt[Tt]=st,++St!==K||ft||(ft=!0,rt.resolve(ot,pt))},function(st){ft||(ft=!0,rt.reject(ot,st))})}},ct.race=function(q){var et=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var K=q.length,ft=!1;if(!K)return this.resolve([]);for(var pt=-1,St=new this(ht);++pt<K;)xt=q[pt],et.resolve(xt).then(function(ot){ft||(ft=!0,rt.resolve(St,ot))},function(ot){ft||(ft=!0,rt.reject(St,ot))});var xt;return St}},{immediate:36}],38:[function(Z,W,yt){var J={};(0,Z("./lib/utils/common").assign)(J,Z("./lib/deflate"),Z("./lib/inflate"),Z("./lib/zlib/constants")),W.exports=J},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(Z,W,yt){var J=Z("./zlib/deflate"),ht=Z("./utils/common"),rt=Z("./utils/strings"),it=Z("./zlib/messages"),Y=Z("./zlib/zstream"),V=Object.prototype.toString,ct=0,lt=-1,D=0,E=8;function R(q){if(!(this instanceof R))return new R(q);this.options=ht.assign({level:lt,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:D,to:""},q||{});var et=this.options;et.raw&&0<et.windowBits?et.windowBits=-et.windowBits:et.gzip&&0<et.windowBits&&et.windowBits<16&&(et.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Y,this.strm.avail_out=0;var K=J.deflateInit2(this.strm,et.level,et.method,et.windowBits,et.memLevel,et.strategy);if(K!==ct)throw new Error(it[K]);if(et.header&&J.deflateSetHeader(this.strm,et.header),et.dictionary){var ft;if(ft=typeof et.dictionary=="string"?rt.string2buf(et.dictionary):V.call(et.dictionary)==="[object ArrayBuffer]"?new Uint8Array(et.dictionary):et.dictionary,(K=J.deflateSetDictionary(this.strm,ft))!==ct)throw new Error(it[K]);this._dict_set=!0}}function B(q,et){var K=new R(et);if(K.push(q,!0),K.err)throw K.msg||it[K.err];return K.result}R.prototype.push=function(q,et){var K,ft,pt=this.strm,St=this.options.chunkSize;if(this.ended)return!1;ft=et===~~et?et:et===!0?4:0,typeof q=="string"?pt.input=rt.string2buf(q):V.call(q)==="[object ArrayBuffer]"?pt.input=new Uint8Array(q):pt.input=q,pt.next_in=0,pt.avail_in=pt.input.length;do{if(pt.avail_out===0&&(pt.output=new ht.Buf8(St),pt.next_out=0,pt.avail_out=St),(K=J.deflate(pt,ft))!==1&&K!==ct)return this.onEnd(K),!(this.ended=!0);pt.avail_out!==0&&(pt.avail_in!==0||ft!==4&&ft!==2)||(this.options.to==="string"?this.onData(rt.buf2binstring(ht.shrinkBuf(pt.output,pt.next_out))):this.onData(ht.shrinkBuf(pt.output,pt.next_out)))}while((0<pt.avail_in||pt.avail_out===0)&&K!==1);return ft===4?(K=J.deflateEnd(this.strm),this.onEnd(K),this.ended=!0,K===ct):ft!==2||(this.onEnd(ct),!(pt.avail_out=0))},R.prototype.onData=function(q){this.chunks.push(q)},R.prototype.onEnd=function(q){q===ct&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ht.flattenChunks(this.chunks)),this.chunks=[],this.err=q,this.msg=this.strm.msg},yt.Deflate=R,yt.deflate=B,yt.deflateRaw=function(q,et){return(et=et||{}).raw=!0,B(q,et)},yt.gzip=function(q,et){return(et=et||{}).gzip=!0,B(q,et)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(Z,W,yt){var J=Z("./zlib/inflate"),ht=Z("./utils/common"),rt=Z("./utils/strings"),it=Z("./zlib/constants"),Y=Z("./zlib/messages"),V=Z("./zlib/zstream"),ct=Z("./zlib/gzheader"),lt=Object.prototype.toString;function D(R){if(!(this instanceof D))return new D(R);this.options=ht.assign({chunkSize:16384,windowBits:0,to:""},R||{});var B=this.options;B.raw&&0<=B.windowBits&&B.windowBits<16&&(B.windowBits=-B.windowBits,B.windowBits===0&&(B.windowBits=-15)),!(0<=B.windowBits&&B.windowBits<16)||R&&R.windowBits||(B.windowBits+=32),15<B.windowBits&&B.windowBits<48&&(15&B.windowBits)==0&&(B.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new V,this.strm.avail_out=0;var q=J.inflateInit2(this.strm,B.windowBits);if(q!==it.Z_OK)throw new Error(Y[q]);this.header=new ct,J.inflateGetHeader(this.strm,this.header)}function E(R,B){var q=new D(B);if(q.push(R,!0),q.err)throw q.msg||Y[q.err];return q.result}D.prototype.push=function(R,B){var q,et,K,ft,pt,St,xt=this.strm,ot=this.options.chunkSize,at=this.options.dictionary,bt=!1;if(this.ended)return!1;et=B===~~B?B:B===!0?it.Z_FINISH:it.Z_NO_FLUSH,typeof R=="string"?xt.input=rt.binstring2buf(R):lt.call(R)==="[object ArrayBuffer]"?xt.input=new Uint8Array(R):xt.input=R,xt.next_in=0,xt.avail_in=xt.input.length;do{if(xt.avail_out===0&&(xt.output=new ht.Buf8(ot),xt.next_out=0,xt.avail_out=ot),(q=J.inflate(xt,it.Z_NO_FLUSH))===it.Z_NEED_DICT&&at&&(St=typeof at=="string"?rt.string2buf(at):lt.call(at)==="[object ArrayBuffer]"?new Uint8Array(at):at,q=J.inflateSetDictionary(this.strm,St)),q===it.Z_BUF_ERROR&&bt===!0&&(q=it.Z_OK,bt=!1),q!==it.Z_STREAM_END&&q!==it.Z_OK)return this.onEnd(q),!(this.ended=!0);xt.next_out&&(xt.avail_out!==0&&q!==it.Z_STREAM_END&&(xt.avail_in!==0||et!==it.Z_FINISH&&et!==it.Z_SYNC_FLUSH)||(this.options.to==="string"?(K=rt.utf8border(xt.output,xt.next_out),ft=xt.next_out-K,pt=rt.buf2string(xt.output,K),xt.next_out=ft,xt.avail_out=ot-ft,ft&&ht.arraySet(xt.output,xt.output,K,ft,0),this.onData(pt)):this.onData(ht.shrinkBuf(xt.output,xt.next_out)))),xt.avail_in===0&&xt.avail_out===0&&(bt=!0)}while((0<xt.avail_in||xt.avail_out===0)&&q!==it.Z_STREAM_END);return q===it.Z_STREAM_END&&(et=it.Z_FINISH),et===it.Z_FINISH?(q=J.inflateEnd(this.strm),this.onEnd(q),this.ended=!0,q===it.Z_OK):et!==it.Z_SYNC_FLUSH||(this.onEnd(it.Z_OK),!(xt.avail_out=0))},D.prototype.onData=function(R){this.chunks.push(R)},D.prototype.onEnd=function(R){R===it.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ht.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},yt.Inflate=D,yt.inflate=E,yt.inflateRaw=function(R,B){return(B=B||{}).raw=!0,E(R,B)},yt.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(Z,W,yt){var J=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";yt.assign=function(it){for(var Y=Array.prototype.slice.call(arguments,1);Y.length;){var V=Y.shift();if(V){if(typeof V!="object")throw new TypeError(V+"must be non-object");for(var ct in V)V.hasOwnProperty(ct)&&(it[ct]=V[ct])}}return it},yt.shrinkBuf=function(it,Y){return it.length===Y?it:it.subarray?it.subarray(0,Y):(it.length=Y,it)};var ht={arraySet:function(it,Y,V,ct,lt){if(Y.subarray&&it.subarray)it.set(Y.subarray(V,V+ct),lt);else for(var D=0;D<ct;D++)it[lt+D]=Y[V+D]},flattenChunks:function(it){var Y,V,ct,lt,D,E;for(Y=ct=0,V=it.length;Y<V;Y++)ct+=it[Y].length;for(E=new Uint8Array(ct),Y=lt=0,V=it.length;Y<V;Y++)D=it[Y],E.set(D,lt),lt+=D.length;return E}},rt={arraySet:function(it,Y,V,ct,lt){for(var D=0;D<ct;D++)it[lt+D]=Y[V+D]},flattenChunks:function(it){return[].concat.apply([],it)}};yt.setTyped=function(it){it?(yt.Buf8=Uint8Array,yt.Buf16=Uint16Array,yt.Buf32=Int32Array,yt.assign(yt,ht)):(yt.Buf8=Array,yt.Buf16=Array,yt.Buf32=Array,yt.assign(yt,rt))},yt.setTyped(J)},{}],42:[function(Z,W,yt){var J=Z("./common"),ht=!0,rt=!0;try{String.fromCharCode.apply(null,[0])}catch{ht=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{rt=!1}for(var it=new J.Buf8(256),Y=0;Y<256;Y++)it[Y]=252<=Y?6:248<=Y?5:240<=Y?4:224<=Y?3:192<=Y?2:1;function V(ct,lt){if(lt<65537&&(ct.subarray&&rt||!ct.subarray&&ht))return String.fromCharCode.apply(null,J.shrinkBuf(ct,lt));for(var D="",E=0;E<lt;E++)D+=String.fromCharCode(ct[E]);return D}it[254]=it[254]=1,yt.string2buf=function(ct){var lt,D,E,R,B,q=ct.length,et=0;for(R=0;R<q;R++)(64512&(D=ct.charCodeAt(R)))==55296&&R+1<q&&(64512&(E=ct.charCodeAt(R+1)))==56320&&(D=65536+(D-55296<<10)+(E-56320),R++),et+=D<128?1:D<2048?2:D<65536?3:4;for(lt=new J.Buf8(et),R=B=0;B<et;R++)(64512&(D=ct.charCodeAt(R)))==55296&&R+1<q&&(64512&(E=ct.charCodeAt(R+1)))==56320&&(D=65536+(D-55296<<10)+(E-56320),R++),D<128?lt[B++]=D:(D<2048?lt[B++]=192|D>>>6:(D<65536?lt[B++]=224|D>>>12:(lt[B++]=240|D>>>18,lt[B++]=128|D>>>12&63),lt[B++]=128|D>>>6&63),lt[B++]=128|63&D);return lt},yt.buf2binstring=function(ct){return V(ct,ct.length)},yt.binstring2buf=function(ct){for(var lt=new J.Buf8(ct.length),D=0,E=lt.length;D<E;D++)lt[D]=ct.charCodeAt(D);return lt},yt.buf2string=function(ct,lt){var D,E,R,B,q=lt||ct.length,et=new Array(2*q);for(D=E=0;D<q;)if((R=ct[D++])<128)et[E++]=R;else if(4<(B=it[R]))et[E++]=65533,D+=B-1;else{for(R&=B===2?31:B===3?15:7;1<B&&D<q;)R=R<<6|63&ct[D++],B--;1<B?et[E++]=65533:R<65536?et[E++]=R:(R-=65536,et[E++]=55296|R>>10&1023,et[E++]=56320|1023&R)}return V(et,E)},yt.utf8border=function(ct,lt){var D;for((lt=lt||ct.length)>ct.length&&(lt=ct.length),D=lt-1;0<=D&&(192&ct[D])==128;)D--;return D<0||D===0?lt:D+it[ct[D]]>lt?D:lt}},{"./common":41}],43:[function(Z,W,yt){W.exports=function(J,ht,rt,it){for(var Y=65535&J|0,V=J>>>16&65535|0,ct=0;rt!==0;){for(rt-=ct=2e3<rt?2e3:rt;V=V+(Y=Y+ht[it++]|0)|0,--ct;);Y%=65521,V%=65521}return Y|V<<16|0}},{}],44:[function(Z,W,yt){W.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(Z,W,yt){var J=function(){for(var ht,rt=[],it=0;it<256;it++){ht=it;for(var Y=0;Y<8;Y++)ht=1&ht?3988292384^ht>>>1:ht>>>1;rt[it]=ht}return rt}();W.exports=function(ht,rt,it,Y){var V=J,ct=Y+it;ht^=-1;for(var lt=Y;lt<ct;lt++)ht=ht>>>8^V[255&(ht^rt[lt])];return-1^ht}},{}],46:[function(Z,W,yt){var J,ht=Z("../utils/common"),rt=Z("./trees"),it=Z("./adler32"),Y=Z("./crc32"),V=Z("./messages"),ct=0,lt=4,D=0,E=-2,R=-1,B=4,q=2,et=8,K=9,ft=286,pt=30,St=19,xt=2*ft+1,ot=15,at=3,bt=258,Tt=bt+at+1,st=42,Et=113,X=1,Mt=2,qt=3,Dt=4;function Ht(U,kt){return U.msg=V[kt],kt}function jt(U){return(U<<1)-(4<U?9:0)}function Gt(U){for(var kt=U.length;0<=--kt;)U[kt]=0}function ut(U){var kt=U.state,Pt=kt.pending;Pt>U.avail_out&&(Pt=U.avail_out),Pt!==0&&(ht.arraySet(U.output,kt.pending_buf,kt.pending_out,Pt,U.next_out),U.next_out+=Pt,kt.pending_out+=Pt,U.total_out+=Pt,U.avail_out-=Pt,kt.pending-=Pt,kt.pending===0&&(kt.pending_out=0))}function G(U,kt){rt._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,kt),U.block_start=U.strstart,ut(U.strm)}function tt(U,kt){U.pending_buf[U.pending++]=kt}function gt(U,kt){U.pending_buf[U.pending++]=kt>>>8&255,U.pending_buf[U.pending++]=255&kt}function A(U,kt){var Pt,wt,At=U.max_chain_length,Rt=U.strstart,It=U.prev_length,$t=U.nice_match,Lt=U.strstart>U.w_size-Tt?U.strstart-(U.w_size-Tt):0,Ut=U.window,Xt=U.w_mask,Vt=U.prev,Yt=U.strstart+bt,Zt=Ut[Rt+It-1],Jt=Ut[Rt+It];U.prev_length>=U.good_match&&(At>>=2),$t>U.lookahead&&($t=U.lookahead);do if(Ut[(Pt=kt)+It]===Jt&&Ut[Pt+It-1]===Zt&&Ut[Pt]===Ut[Rt]&&Ut[++Pt]===Ut[Rt+1]){Rt+=2,Pt++;do;while(Ut[++Rt]===Ut[++Pt]&&Ut[++Rt]===Ut[++Pt]&&Ut[++Rt]===Ut[++Pt]&&Ut[++Rt]===Ut[++Pt]&&Ut[++Rt]===Ut[++Pt]&&Ut[++Rt]===Ut[++Pt]&&Ut[++Rt]===Ut[++Pt]&&Ut[++Rt]===Ut[++Pt]&&Rt<Yt);if(wt=bt-(Yt-Rt),Rt=Yt-bt,It<wt){if(U.match_start=kt,$t<=(It=wt))break;Zt=Ut[Rt+It-1],Jt=Ut[Rt+It]}}while((kt=Vt[kt&Xt])>Lt&&--At!=0);return It<=U.lookahead?It:U.lookahead}function Q(U){var kt,Pt,wt,At,Rt,It,$t,Lt,Ut,Xt,Vt=U.w_size;do{if(At=U.window_size-U.lookahead-U.strstart,U.strstart>=Vt+(Vt-Tt)){for(ht.arraySet(U.window,U.window,Vt,Vt,0),U.match_start-=Vt,U.strstart-=Vt,U.block_start-=Vt,kt=Pt=U.hash_size;wt=U.head[--kt],U.head[kt]=Vt<=wt?wt-Vt:0,--Pt;);for(kt=Pt=Vt;wt=U.prev[--kt],U.prev[kt]=Vt<=wt?wt-Vt:0,--Pt;);At+=Vt}if(U.strm.avail_in===0)break;if(It=U.strm,$t=U.window,Lt=U.strstart+U.lookahead,Ut=At,Xt=void 0,Xt=It.avail_in,Ut<Xt&&(Xt=Ut),Pt=Xt===0?0:(It.avail_in-=Xt,ht.arraySet($t,It.input,It.next_in,Xt,Lt),It.state.wrap===1?It.adler=it(It.adler,$t,Xt,Lt):It.state.wrap===2&&(It.adler=Y(It.adler,$t,Xt,Lt)),It.next_in+=Xt,It.total_in+=Xt,Xt),U.lookahead+=Pt,U.lookahead+U.insert>=at)for(Rt=U.strstart-U.insert,U.ins_h=U.window[Rt],U.ins_h=(U.ins_h<<U.hash_shift^U.window[Rt+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[Rt+at-1])&U.hash_mask,U.prev[Rt&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=Rt,Rt++,U.insert--,!(U.lookahead+U.insert<at)););}while(U.lookahead<Tt&&U.strm.avail_in!==0)}function dt(U,kt){for(var Pt,wt;;){if(U.lookahead<Tt){if(Q(U),U.lookahead<Tt&&kt===ct)return X;if(U.lookahead===0)break}if(Pt=0,U.lookahead>=at&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+at-1])&U.hash_mask,Pt=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),Pt!==0&&U.strstart-Pt<=U.w_size-Tt&&(U.match_length=A(U,Pt)),U.match_length>=at)if(wt=rt._tr_tally(U,U.strstart-U.match_start,U.match_length-at),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=at){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+at-1])&U.hash_mask,Pt=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else wt=rt._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(wt&&(G(U,!1),U.strm.avail_out===0))return X}return U.insert=U.strstart<at-1?U.strstart:at-1,kt===lt?(G(U,!0),U.strm.avail_out===0?qt:Dt):U.last_lit&&(G(U,!1),U.strm.avail_out===0)?X:Mt}function _t(U,kt){for(var Pt,wt,At;;){if(U.lookahead<Tt){if(Q(U),U.lookahead<Tt&&kt===ct)return X;if(U.lookahead===0)break}if(Pt=0,U.lookahead>=at&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+at-1])&U.hash_mask,Pt=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=at-1,Pt!==0&&U.prev_length<U.max_lazy_match&&U.strstart-Pt<=U.w_size-Tt&&(U.match_length=A(U,Pt),U.match_length<=5&&(U.strategy===1||U.match_length===at&&4096<U.strstart-U.match_start)&&(U.match_length=at-1)),U.prev_length>=at&&U.match_length<=U.prev_length){for(At=U.strstart+U.lookahead-at,wt=rt._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-at),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=At&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+at-1])&U.hash_mask,Pt=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=at-1,U.strstart++,wt&&(G(U,!1),U.strm.avail_out===0))return X}else if(U.match_available){if((wt=rt._tr_tally(U,0,U.window[U.strstart-1]))&&G(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return X}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(wt=rt._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<at-1?U.strstart:at-1,kt===lt?(G(U,!0),U.strm.avail_out===0?qt:Dt):U.last_lit&&(G(U,!1),U.strm.avail_out===0)?X:Mt}function mt(U,kt,Pt,wt,At){this.good_length=U,this.max_lazy=kt,this.nice_length=Pt,this.max_chain=wt,this.func=At}function Ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=et,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ht.Buf16(2*xt),this.dyn_dtree=new ht.Buf16(2*(2*pt+1)),this.bl_tree=new ht.Buf16(2*(2*St+1)),Gt(this.dyn_ltree),Gt(this.dyn_dtree),Gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ht.Buf16(ot+1),this.heap=new ht.Buf16(2*ft+1),Gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ht.Buf16(2*ft+1),Gt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ft(U){var kt;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=q,(kt=U.state).pending=0,kt.pending_out=0,kt.wrap<0&&(kt.wrap=-kt.wrap),kt.status=kt.wrap?st:Et,U.adler=kt.wrap===2?0:1,kt.last_flush=ct,rt._tr_init(kt),D):Ht(U,E)}function Nt(U){var kt=Ft(U);return kt===D&&function(Pt){Pt.window_size=2*Pt.w_size,Gt(Pt.head),Pt.max_lazy_match=J[Pt.level].max_lazy,Pt.good_match=J[Pt.level].good_length,Pt.nice_match=J[Pt.level].nice_length,Pt.max_chain_length=J[Pt.level].max_chain,Pt.strstart=0,Pt.block_start=0,Pt.lookahead=0,Pt.insert=0,Pt.match_length=Pt.prev_length=at-1,Pt.match_available=0,Pt.ins_h=0}(U.state),kt}function Ot(U,kt,Pt,wt,At,Rt){if(!U)return E;var It=1;if(kt===R&&(kt=6),wt<0?(It=0,wt=-wt):15<wt&&(It=2,wt-=16),At<1||K<At||Pt!==et||wt<8||15<wt||kt<0||9<kt||Rt<0||B<Rt)return Ht(U,E);wt===8&&(wt=9);var $t=new Ct;return(U.state=$t).strm=U,$t.wrap=It,$t.gzhead=null,$t.w_bits=wt,$t.w_size=1<<$t.w_bits,$t.w_mask=$t.w_size-1,$t.hash_bits=At+7,$t.hash_size=1<<$t.hash_bits,$t.hash_mask=$t.hash_size-1,$t.hash_shift=~~(($t.hash_bits+at-1)/at),$t.window=new ht.Buf8(2*$t.w_size),$t.head=new ht.Buf16($t.hash_size),$t.prev=new ht.Buf16($t.w_size),$t.lit_bufsize=1<<At+6,$t.pending_buf_size=4*$t.lit_bufsize,$t.pending_buf=new ht.Buf8($t.pending_buf_size),$t.d_buf=1*$t.lit_bufsize,$t.l_buf=3*$t.lit_bufsize,$t.level=kt,$t.strategy=Rt,$t.method=Pt,Nt(U)}J=[new mt(0,0,0,0,function(U,kt){var Pt=65535;for(Pt>U.pending_buf_size-5&&(Pt=U.pending_buf_size-5);;){if(U.lookahead<=1){if(Q(U),U.lookahead===0&&kt===ct)return X;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var wt=U.block_start+Pt;if((U.strstart===0||U.strstart>=wt)&&(U.lookahead=U.strstart-wt,U.strstart=wt,G(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-Tt&&(G(U,!1),U.strm.avail_out===0))return X}return U.insert=0,kt===lt?(G(U,!0),U.strm.avail_out===0?qt:Dt):(U.strstart>U.block_start&&(G(U,!1),U.strm.avail_out),X)}),new mt(4,4,8,4,dt),new mt(4,5,16,8,dt),new mt(4,6,32,32,dt),new mt(4,4,16,16,_t),new mt(8,16,32,32,_t),new mt(8,16,128,128,_t),new mt(8,32,128,256,_t),new mt(32,128,258,1024,_t),new mt(32,258,258,4096,_t)],yt.deflateInit=function(U,kt){return Ot(U,kt,et,15,8,0)},yt.deflateInit2=Ot,yt.deflateReset=Nt,yt.deflateResetKeep=Ft,yt.deflateSetHeader=function(U,kt){return U&&U.state?U.state.wrap!==2?E:(U.state.gzhead=kt,D):E},yt.deflate=function(U,kt){var Pt,wt,At,Rt;if(!U||!U.state||5<kt||kt<0)return U?Ht(U,E):E;if(wt=U.state,!U.output||!U.input&&U.avail_in!==0||wt.status===666&&kt!==lt)return Ht(U,U.avail_out===0?-5:E);if(wt.strm=U,Pt=wt.last_flush,wt.last_flush=kt,wt.status===st)if(wt.wrap===2)U.adler=0,tt(wt,31),tt(wt,139),tt(wt,8),wt.gzhead?(tt(wt,(wt.gzhead.text?1:0)+(wt.gzhead.hcrc?2:0)+(wt.gzhead.extra?4:0)+(wt.gzhead.name?8:0)+(wt.gzhead.comment?16:0)),tt(wt,255&wt.gzhead.time),tt(wt,wt.gzhead.time>>8&255),tt(wt,wt.gzhead.time>>16&255),tt(wt,wt.gzhead.time>>24&255),tt(wt,wt.level===9?2:2<=wt.strategy||wt.level<2?4:0),tt(wt,255&wt.gzhead.os),wt.gzhead.extra&&wt.gzhead.extra.length&&(tt(wt,255&wt.gzhead.extra.length),tt(wt,wt.gzhead.extra.length>>8&255)),wt.gzhead.hcrc&&(U.adler=Y(U.adler,wt.pending_buf,wt.pending,0)),wt.gzindex=0,wt.status=69):(tt(wt,0),tt(wt,0),tt(wt,0),tt(wt,0),tt(wt,0),tt(wt,wt.level===9?2:2<=wt.strategy||wt.level<2?4:0),tt(wt,3),wt.status=Et);else{var It=et+(wt.w_bits-8<<4)<<8;It|=(2<=wt.strategy||wt.level<2?0:wt.level<6?1:wt.level===6?2:3)<<6,wt.strstart!==0&&(It|=32),It+=31-It%31,wt.status=Et,gt(wt,It),wt.strstart!==0&&(gt(wt,U.adler>>>16),gt(wt,65535&U.adler)),U.adler=1}if(wt.status===69)if(wt.gzhead.extra){for(At=wt.pending;wt.gzindex<(65535&wt.gzhead.extra.length)&&(wt.pending!==wt.pending_buf_size||(wt.gzhead.hcrc&&wt.pending>At&&(U.adler=Y(U.adler,wt.pending_buf,wt.pending-At,At)),ut(U),At=wt.pending,wt.pending!==wt.pending_buf_size));)tt(wt,255&wt.gzhead.extra[wt.gzindex]),wt.gzindex++;wt.gzhead.hcrc&&wt.pending>At&&(U.adler=Y(U.adler,wt.pending_buf,wt.pending-At,At)),wt.gzindex===wt.gzhead.extra.length&&(wt.gzindex=0,wt.status=73)}else wt.status=73;if(wt.status===73)if(wt.gzhead.name){At=wt.pending;do{if(wt.pending===wt.pending_buf_size&&(wt.gzhead.hcrc&&wt.pending>At&&(U.adler=Y(U.adler,wt.pending_buf,wt.pending-At,At)),ut(U),At=wt.pending,wt.pending===wt.pending_buf_size)){Rt=1;break}Rt=wt.gzindex<wt.gzhead.name.length?255&wt.gzhead.name.charCodeAt(wt.gzindex++):0,tt(wt,Rt)}while(Rt!==0);wt.gzhead.hcrc&&wt.pending>At&&(U.adler=Y(U.adler,wt.pending_buf,wt.pending-At,At)),Rt===0&&(wt.gzindex=0,wt.status=91)}else wt.status=91;if(wt.status===91)if(wt.gzhead.comment){At=wt.pending;do{if(wt.pending===wt.pending_buf_size&&(wt.gzhead.hcrc&&wt.pending>At&&(U.adler=Y(U.adler,wt.pending_buf,wt.pending-At,At)),ut(U),At=wt.pending,wt.pending===wt.pending_buf_size)){Rt=1;break}Rt=wt.gzindex<wt.gzhead.comment.length?255&wt.gzhead.comment.charCodeAt(wt.gzindex++):0,tt(wt,Rt)}while(Rt!==0);wt.gzhead.hcrc&&wt.pending>At&&(U.adler=Y(U.adler,wt.pending_buf,wt.pending-At,At)),Rt===0&&(wt.status=103)}else wt.status=103;if(wt.status===103&&(wt.gzhead.hcrc?(wt.pending+2>wt.pending_buf_size&&ut(U),wt.pending+2<=wt.pending_buf_size&&(tt(wt,255&U.adler),tt(wt,U.adler>>8&255),U.adler=0,wt.status=Et)):wt.status=Et),wt.pending!==0){if(ut(U),U.avail_out===0)return wt.last_flush=-1,D}else if(U.avail_in===0&&jt(kt)<=jt(Pt)&&kt!==lt)return Ht(U,-5);if(wt.status===666&&U.avail_in!==0)return Ht(U,-5);if(U.avail_in!==0||wt.lookahead!==0||kt!==ct&&wt.status!==666){var $t=wt.strategy===2?function(Lt,Ut){for(var Xt;;){if(Lt.lookahead===0&&(Q(Lt),Lt.lookahead===0)){if(Ut===ct)return X;break}if(Lt.match_length=0,Xt=rt._tr_tally(Lt,0,Lt.window[Lt.strstart]),Lt.lookahead--,Lt.strstart++,Xt&&(G(Lt,!1),Lt.strm.avail_out===0))return X}return Lt.insert=0,Ut===lt?(G(Lt,!0),Lt.strm.avail_out===0?qt:Dt):Lt.last_lit&&(G(Lt,!1),Lt.strm.avail_out===0)?X:Mt}(wt,kt):wt.strategy===3?function(Lt,Ut){for(var Xt,Vt,Yt,Zt,Jt=Lt.window;;){if(Lt.lookahead<=bt){if(Q(Lt),Lt.lookahead<=bt&&Ut===ct)return X;if(Lt.lookahead===0)break}if(Lt.match_length=0,Lt.lookahead>=at&&0<Lt.strstart&&(Vt=Jt[Yt=Lt.strstart-1])===Jt[++Yt]&&Vt===Jt[++Yt]&&Vt===Jt[++Yt]){Zt=Lt.strstart+bt;do;while(Vt===Jt[++Yt]&&Vt===Jt[++Yt]&&Vt===Jt[++Yt]&&Vt===Jt[++Yt]&&Vt===Jt[++Yt]&&Vt===Jt[++Yt]&&Vt===Jt[++Yt]&&Vt===Jt[++Yt]&&Yt<Zt);Lt.match_length=bt-(Zt-Yt),Lt.match_length>Lt.lookahead&&(Lt.match_length=Lt.lookahead)}if(Lt.match_length>=at?(Xt=rt._tr_tally(Lt,1,Lt.match_length-at),Lt.lookahead-=Lt.match_length,Lt.strstart+=Lt.match_length,Lt.match_length=0):(Xt=rt._tr_tally(Lt,0,Lt.window[Lt.strstart]),Lt.lookahead--,Lt.strstart++),Xt&&(G(Lt,!1),Lt.strm.avail_out===0))return X}return Lt.insert=0,Ut===lt?(G(Lt,!0),Lt.strm.avail_out===0?qt:Dt):Lt.last_lit&&(G(Lt,!1),Lt.strm.avail_out===0)?X:Mt}(wt,kt):J[wt.level].func(wt,kt);if($t!==qt&&$t!==Dt||(wt.status=666),$t===X||$t===qt)return U.avail_out===0&&(wt.last_flush=-1),D;if($t===Mt&&(kt===1?rt._tr_align(wt):kt!==5&&(rt._tr_stored_block(wt,0,0,!1),kt===3&&(Gt(wt.head),wt.lookahead===0&&(wt.strstart=0,wt.block_start=0,wt.insert=0))),ut(U),U.avail_out===0))return wt.last_flush=-1,D}return kt!==lt?D:wt.wrap<=0?1:(wt.wrap===2?(tt(wt,255&U.adler),tt(wt,U.adler>>8&255),tt(wt,U.adler>>16&255),tt(wt,U.adler>>24&255),tt(wt,255&U.total_in),tt(wt,U.total_in>>8&255),tt(wt,U.total_in>>16&255),tt(wt,U.total_in>>24&255)):(gt(wt,U.adler>>>16),gt(wt,65535&U.adler)),ut(U),0<wt.wrap&&(wt.wrap=-wt.wrap),wt.pending!==0?D:1)},yt.deflateEnd=function(U){var kt;return U&&U.state?(kt=U.state.status)!==st&&kt!==69&&kt!==73&&kt!==91&&kt!==103&&kt!==Et&&kt!==666?Ht(U,E):(U.state=null,kt===Et?Ht(U,-3):D):E},yt.deflateSetDictionary=function(U,kt){var Pt,wt,At,Rt,It,$t,Lt,Ut,Xt=kt.length;if(!U||!U.state||(Rt=(Pt=U.state).wrap)===2||Rt===1&&Pt.status!==st||Pt.lookahead)return E;for(Rt===1&&(U.adler=it(U.adler,kt,Xt,0)),Pt.wrap=0,Xt>=Pt.w_size&&(Rt===0&&(Gt(Pt.head),Pt.strstart=0,Pt.block_start=0,Pt.insert=0),Ut=new ht.Buf8(Pt.w_size),ht.arraySet(Ut,kt,Xt-Pt.w_size,Pt.w_size,0),kt=Ut,Xt=Pt.w_size),It=U.avail_in,$t=U.next_in,Lt=U.input,U.avail_in=Xt,U.next_in=0,U.input=kt,Q(Pt);Pt.lookahead>=at;){for(wt=Pt.strstart,At=Pt.lookahead-(at-1);Pt.ins_h=(Pt.ins_h<<Pt.hash_shift^Pt.window[wt+at-1])&Pt.hash_mask,Pt.prev[wt&Pt.w_mask]=Pt.head[Pt.ins_h],Pt.head[Pt.ins_h]=wt,wt++,--At;);Pt.strstart=wt,Pt.lookahead=at-1,Q(Pt)}return Pt.strstart+=Pt.lookahead,Pt.block_start=Pt.strstart,Pt.insert=Pt.lookahead,Pt.lookahead=0,Pt.match_length=Pt.prev_length=at-1,Pt.match_available=0,U.next_in=$t,U.input=Lt,U.avail_in=It,Pt.wrap=Rt,D},yt.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(Z,W,yt){W.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(Z,W,yt){W.exports=function(J,ht){var rt,it,Y,V,ct,lt,D,E,R,B,q,et,K,ft,pt,St,xt,ot,at,bt,Tt,st,Et,X,Mt;rt=J.state,it=J.next_in,X=J.input,Y=it+(J.avail_in-5),V=J.next_out,Mt=J.output,ct=V-(ht-J.avail_out),lt=V+(J.avail_out-257),D=rt.dmax,E=rt.wsize,R=rt.whave,B=rt.wnext,q=rt.window,et=rt.hold,K=rt.bits,ft=rt.lencode,pt=rt.distcode,St=(1<<rt.lenbits)-1,xt=(1<<rt.distbits)-1;t:do{K<15&&(et+=X[it++]<<K,K+=8,et+=X[it++]<<K,K+=8),ot=ft[et&St];e:for(;;){if(et>>>=at=ot>>>24,K-=at,(at=ot>>>16&255)===0)Mt[V++]=65535&ot;else{if(!(16&at)){if((64&at)==0){ot=ft[(65535&ot)+(et&(1<<at)-1)];continue e}if(32&at){rt.mode=12;break t}J.msg="invalid literal/length code",rt.mode=30;break t}bt=65535&ot,(at&=15)&&(K<at&&(et+=X[it++]<<K,K+=8),bt+=et&(1<<at)-1,et>>>=at,K-=at),K<15&&(et+=X[it++]<<K,K+=8,et+=X[it++]<<K,K+=8),ot=pt[et&xt];n:for(;;){if(et>>>=at=ot>>>24,K-=at,!(16&(at=ot>>>16&255))){if((64&at)==0){ot=pt[(65535&ot)+(et&(1<<at)-1)];continue n}J.msg="invalid distance code",rt.mode=30;break t}if(Tt=65535&ot,K<(at&=15)&&(et+=X[it++]<<K,(K+=8)<at&&(et+=X[it++]<<K,K+=8)),D<(Tt+=et&(1<<at)-1)){J.msg="invalid distance too far back",rt.mode=30;break t}if(et>>>=at,K-=at,(at=V-ct)<Tt){if(R<(at=Tt-at)&&rt.sane){J.msg="invalid distance too far back",rt.mode=30;break t}if(Et=q,(st=0)===B){if(st+=E-at,at<bt){for(bt-=at;Mt[V++]=q[st++],--at;);st=V-Tt,Et=Mt}}else if(B<at){if(st+=E+B-at,(at-=B)<bt){for(bt-=at;Mt[V++]=q[st++],--at;);if(st=0,B<bt){for(bt-=at=B;Mt[V++]=q[st++],--at;);st=V-Tt,Et=Mt}}}else if(st+=B-at,at<bt){for(bt-=at;Mt[V++]=q[st++],--at;);st=V-Tt,Et=Mt}for(;2<bt;)Mt[V++]=Et[st++],Mt[V++]=Et[st++],Mt[V++]=Et[st++],bt-=3;bt&&(Mt[V++]=Et[st++],1<bt&&(Mt[V++]=Et[st++]))}else{for(st=V-Tt;Mt[V++]=Mt[st++],Mt[V++]=Mt[st++],Mt[V++]=Mt[st++],2<(bt-=3););bt&&(Mt[V++]=Mt[st++],1<bt&&(Mt[V++]=Mt[st++]))}break}}break}}while(it<Y&&V<lt);it-=bt=K>>3,et&=(1<<(K-=bt<<3))-1,J.next_in=it,J.next_out=V,J.avail_in=it<Y?Y-it+5:5-(it-Y),J.avail_out=V<lt?lt-V+257:257-(V-lt),rt.hold=et,rt.bits=K}},{}],49:[function(Z,W,yt){var J=Z("../utils/common"),ht=Z("./adler32"),rt=Z("./crc32"),it=Z("./inffast"),Y=Z("./inftrees"),V=1,ct=2,lt=0,D=-2,E=1,R=852,B=592;function q(st){return(st>>>24&255)+(st>>>8&65280)+((65280&st)<<8)+((255&st)<<24)}function et(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new J.Buf16(320),this.work=new J.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function K(st){var Et;return st&&st.state?(Et=st.state,st.total_in=st.total_out=Et.total=0,st.msg="",Et.wrap&&(st.adler=1&Et.wrap),Et.mode=E,Et.last=0,Et.havedict=0,Et.dmax=32768,Et.head=null,Et.hold=0,Et.bits=0,Et.lencode=Et.lendyn=new J.Buf32(R),Et.distcode=Et.distdyn=new J.Buf32(B),Et.sane=1,Et.back=-1,lt):D}function ft(st){var Et;return st&&st.state?((Et=st.state).wsize=0,Et.whave=0,Et.wnext=0,K(st)):D}function pt(st,Et){var X,Mt;return st&&st.state?(Mt=st.state,Et<0?(X=0,Et=-Et):(X=1+(Et>>4),Et<48&&(Et&=15)),Et&&(Et<8||15<Et)?D:(Mt.window!==null&&Mt.wbits!==Et&&(Mt.window=null),Mt.wrap=X,Mt.wbits=Et,ft(st))):D}function St(st,Et){var X,Mt;return st?(Mt=new et,(st.state=Mt).window=null,(X=pt(st,Et))!==lt&&(st.state=null),X):D}var xt,ot,at=!0;function bt(st){if(at){var Et;for(xt=new J.Buf32(512),ot=new J.Buf32(32),Et=0;Et<144;)st.lens[Et++]=8;for(;Et<256;)st.lens[Et++]=9;for(;Et<280;)st.lens[Et++]=7;for(;Et<288;)st.lens[Et++]=8;for(Y(V,st.lens,0,288,xt,0,st.work,{bits:9}),Et=0;Et<32;)st.lens[Et++]=5;Y(ct,st.lens,0,32,ot,0,st.work,{bits:5}),at=!1}st.lencode=xt,st.lenbits=9,st.distcode=ot,st.distbits=5}function Tt(st,Et,X,Mt){var qt,Dt=st.state;return Dt.window===null&&(Dt.wsize=1<<Dt.wbits,Dt.wnext=0,Dt.whave=0,Dt.window=new J.Buf8(Dt.wsize)),Mt>=Dt.wsize?(J.arraySet(Dt.window,Et,X-Dt.wsize,Dt.wsize,0),Dt.wnext=0,Dt.whave=Dt.wsize):(Mt<(qt=Dt.wsize-Dt.wnext)&&(qt=Mt),J.arraySet(Dt.window,Et,X-Mt,qt,Dt.wnext),(Mt-=qt)?(J.arraySet(Dt.window,Et,X-Mt,Mt,0),Dt.wnext=Mt,Dt.whave=Dt.wsize):(Dt.wnext+=qt,Dt.wnext===Dt.wsize&&(Dt.wnext=0),Dt.whave<Dt.wsize&&(Dt.whave+=qt))),0}yt.inflateReset=ft,yt.inflateReset2=pt,yt.inflateResetKeep=K,yt.inflateInit=function(st){return St(st,15)},yt.inflateInit2=St,yt.inflate=function(st,Et){var X,Mt,qt,Dt,Ht,jt,Gt,ut,G,tt,gt,A,Q,dt,_t,mt,Ct,Ft,Nt,Ot,U,kt,Pt,wt,At=0,Rt=new J.Buf8(4),It=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!st||!st.state||!st.output||!st.input&&st.avail_in!==0)return D;(X=st.state).mode===12&&(X.mode=13),Ht=st.next_out,qt=st.output,Gt=st.avail_out,Dt=st.next_in,Mt=st.input,jt=st.avail_in,ut=X.hold,G=X.bits,tt=jt,gt=Gt,kt=lt;t:for(;;)switch(X.mode){case E:if(X.wrap===0){X.mode=13;break}for(;G<16;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if(2&X.wrap&&ut===35615){Rt[X.check=0]=255&ut,Rt[1]=ut>>>8&255,X.check=rt(X.check,Rt,2,0),G=ut=0,X.mode=2;break}if(X.flags=0,X.head&&(X.head.done=!1),!(1&X.wrap)||(((255&ut)<<8)+(ut>>8))%31){st.msg="incorrect header check",X.mode=30;break}if((15&ut)!=8){st.msg="unknown compression method",X.mode=30;break}if(G-=4,U=8+(15&(ut>>>=4)),X.wbits===0)X.wbits=U;else if(U>X.wbits){st.msg="invalid window size",X.mode=30;break}X.dmax=1<<U,st.adler=X.check=1,X.mode=512&ut?10:12,G=ut=0;break;case 2:for(;G<16;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if(X.flags=ut,(255&X.flags)!=8){st.msg="unknown compression method",X.mode=30;break}if(57344&X.flags){st.msg="unknown header flags set",X.mode=30;break}X.head&&(X.head.text=ut>>8&1),512&X.flags&&(Rt[0]=255&ut,Rt[1]=ut>>>8&255,X.check=rt(X.check,Rt,2,0)),G=ut=0,X.mode=3;case 3:for(;G<32;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}X.head&&(X.head.time=ut),512&X.flags&&(Rt[0]=255&ut,Rt[1]=ut>>>8&255,Rt[2]=ut>>>16&255,Rt[3]=ut>>>24&255,X.check=rt(X.check,Rt,4,0)),G=ut=0,X.mode=4;case 4:for(;G<16;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}X.head&&(X.head.xflags=255&ut,X.head.os=ut>>8),512&X.flags&&(Rt[0]=255&ut,Rt[1]=ut>>>8&255,X.check=rt(X.check,Rt,2,0)),G=ut=0,X.mode=5;case 5:if(1024&X.flags){for(;G<16;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}X.length=ut,X.head&&(X.head.extra_len=ut),512&X.flags&&(Rt[0]=255&ut,Rt[1]=ut>>>8&255,X.check=rt(X.check,Rt,2,0)),G=ut=0}else X.head&&(X.head.extra=null);X.mode=6;case 6:if(1024&X.flags&&(jt<(A=X.length)&&(A=jt),A&&(X.head&&(U=X.head.extra_len-X.length,X.head.extra||(X.head.extra=new Array(X.head.extra_len)),J.arraySet(X.head.extra,Mt,Dt,A,U)),512&X.flags&&(X.check=rt(X.check,Mt,A,Dt)),jt-=A,Dt+=A,X.length-=A),X.length))break t;X.length=0,X.mode=7;case 7:if(2048&X.flags){if(jt===0)break t;for(A=0;U=Mt[Dt+A++],X.head&&U&&X.length<65536&&(X.head.name+=String.fromCharCode(U)),U&&A<jt;);if(512&X.flags&&(X.check=rt(X.check,Mt,A,Dt)),jt-=A,Dt+=A,U)break t}else X.head&&(X.head.name=null);X.length=0,X.mode=8;case 8:if(4096&X.flags){if(jt===0)break t;for(A=0;U=Mt[Dt+A++],X.head&&U&&X.length<65536&&(X.head.comment+=String.fromCharCode(U)),U&&A<jt;);if(512&X.flags&&(X.check=rt(X.check,Mt,A,Dt)),jt-=A,Dt+=A,U)break t}else X.head&&(X.head.comment=null);X.mode=9;case 9:if(512&X.flags){for(;G<16;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if(ut!==(65535&X.check)){st.msg="header crc mismatch",X.mode=30;break}G=ut=0}X.head&&(X.head.hcrc=X.flags>>9&1,X.head.done=!0),st.adler=X.check=0,X.mode=12;break;case 10:for(;G<32;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}st.adler=X.check=q(ut),G=ut=0,X.mode=11;case 11:if(X.havedict===0)return st.next_out=Ht,st.avail_out=Gt,st.next_in=Dt,st.avail_in=jt,X.hold=ut,X.bits=G,2;st.adler=X.check=1,X.mode=12;case 12:if(Et===5||Et===6)break t;case 13:if(X.last){ut>>>=7&G,G-=7&G,X.mode=27;break}for(;G<3;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}switch(X.last=1&ut,G-=1,3&(ut>>>=1)){case 0:X.mode=14;break;case 1:if(bt(X),X.mode=20,Et!==6)break;ut>>>=2,G-=2;break t;case 2:X.mode=17;break;case 3:st.msg="invalid block type",X.mode=30}ut>>>=2,G-=2;break;case 14:for(ut>>>=7&G,G-=7&G;G<32;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if((65535&ut)!=(ut>>>16^65535)){st.msg="invalid stored block lengths",X.mode=30;break}if(X.length=65535&ut,G=ut=0,X.mode=15,Et===6)break t;case 15:X.mode=16;case 16:if(A=X.length){if(jt<A&&(A=jt),Gt<A&&(A=Gt),A===0)break t;J.arraySet(qt,Mt,Dt,A,Ht),jt-=A,Dt+=A,Gt-=A,Ht+=A,X.length-=A;break}X.mode=12;break;case 17:for(;G<14;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if(X.nlen=257+(31&ut),ut>>>=5,G-=5,X.ndist=1+(31&ut),ut>>>=5,G-=5,X.ncode=4+(15&ut),ut>>>=4,G-=4,286<X.nlen||30<X.ndist){st.msg="too many length or distance symbols",X.mode=30;break}X.have=0,X.mode=18;case 18:for(;X.have<X.ncode;){for(;G<3;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}X.lens[It[X.have++]]=7&ut,ut>>>=3,G-=3}for(;X.have<19;)X.lens[It[X.have++]]=0;if(X.lencode=X.lendyn,X.lenbits=7,Pt={bits:X.lenbits},kt=Y(0,X.lens,0,19,X.lencode,0,X.work,Pt),X.lenbits=Pt.bits,kt){st.msg="invalid code lengths set",X.mode=30;break}X.have=0,X.mode=19;case 19:for(;X.have<X.nlen+X.ndist;){for(;mt=(At=X.lencode[ut&(1<<X.lenbits)-1])>>>16&255,Ct=65535&At,!((_t=At>>>24)<=G);){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if(Ct<16)ut>>>=_t,G-=_t,X.lens[X.have++]=Ct;else{if(Ct===16){for(wt=_t+2;G<wt;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if(ut>>>=_t,G-=_t,X.have===0){st.msg="invalid bit length repeat",X.mode=30;break}U=X.lens[X.have-1],A=3+(3&ut),ut>>>=2,G-=2}else if(Ct===17){for(wt=_t+3;G<wt;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}G-=_t,U=0,A=3+(7&(ut>>>=_t)),ut>>>=3,G-=3}else{for(wt=_t+7;G<wt;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}G-=_t,U=0,A=11+(127&(ut>>>=_t)),ut>>>=7,G-=7}if(X.have+A>X.nlen+X.ndist){st.msg="invalid bit length repeat",X.mode=30;break}for(;A--;)X.lens[X.have++]=U}}if(X.mode===30)break;if(X.lens[256]===0){st.msg="invalid code -- missing end-of-block",X.mode=30;break}if(X.lenbits=9,Pt={bits:X.lenbits},kt=Y(V,X.lens,0,X.nlen,X.lencode,0,X.work,Pt),X.lenbits=Pt.bits,kt){st.msg="invalid literal/lengths set",X.mode=30;break}if(X.distbits=6,X.distcode=X.distdyn,Pt={bits:X.distbits},kt=Y(ct,X.lens,X.nlen,X.ndist,X.distcode,0,X.work,Pt),X.distbits=Pt.bits,kt){st.msg="invalid distances set",X.mode=30;break}if(X.mode=20,Et===6)break t;case 20:X.mode=21;case 21:if(6<=jt&&258<=Gt){st.next_out=Ht,st.avail_out=Gt,st.next_in=Dt,st.avail_in=jt,X.hold=ut,X.bits=G,it(st,gt),Ht=st.next_out,qt=st.output,Gt=st.avail_out,Dt=st.next_in,Mt=st.input,jt=st.avail_in,ut=X.hold,G=X.bits,X.mode===12&&(X.back=-1);break}for(X.back=0;mt=(At=X.lencode[ut&(1<<X.lenbits)-1])>>>16&255,Ct=65535&At,!((_t=At>>>24)<=G);){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if(mt&&(240&mt)==0){for(Ft=_t,Nt=mt,Ot=Ct;mt=(At=X.lencode[Ot+((ut&(1<<Ft+Nt)-1)>>Ft)])>>>16&255,Ct=65535&At,!(Ft+(_t=At>>>24)<=G);){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}ut>>>=Ft,G-=Ft,X.back+=Ft}if(ut>>>=_t,G-=_t,X.back+=_t,X.length=Ct,mt===0){X.mode=26;break}if(32&mt){X.back=-1,X.mode=12;break}if(64&mt){st.msg="invalid literal/length code",X.mode=30;break}X.extra=15&mt,X.mode=22;case 22:if(X.extra){for(wt=X.extra;G<wt;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}X.length+=ut&(1<<X.extra)-1,ut>>>=X.extra,G-=X.extra,X.back+=X.extra}X.was=X.length,X.mode=23;case 23:for(;mt=(At=X.distcode[ut&(1<<X.distbits)-1])>>>16&255,Ct=65535&At,!((_t=At>>>24)<=G);){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if((240&mt)==0){for(Ft=_t,Nt=mt,Ot=Ct;mt=(At=X.distcode[Ot+((ut&(1<<Ft+Nt)-1)>>Ft)])>>>16&255,Ct=65535&At,!(Ft+(_t=At>>>24)<=G);){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}ut>>>=Ft,G-=Ft,X.back+=Ft}if(ut>>>=_t,G-=_t,X.back+=_t,64&mt){st.msg="invalid distance code",X.mode=30;break}X.offset=Ct,X.extra=15&mt,X.mode=24;case 24:if(X.extra){for(wt=X.extra;G<wt;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}X.offset+=ut&(1<<X.extra)-1,ut>>>=X.extra,G-=X.extra,X.back+=X.extra}if(X.offset>X.dmax){st.msg="invalid distance too far back",X.mode=30;break}X.mode=25;case 25:if(Gt===0)break t;if(A=gt-Gt,X.offset>A){if((A=X.offset-A)>X.whave&&X.sane){st.msg="invalid distance too far back",X.mode=30;break}Q=A>X.wnext?(A-=X.wnext,X.wsize-A):X.wnext-A,A>X.length&&(A=X.length),dt=X.window}else dt=qt,Q=Ht-X.offset,A=X.length;for(Gt<A&&(A=Gt),Gt-=A,X.length-=A;qt[Ht++]=dt[Q++],--A;);X.length===0&&(X.mode=21);break;case 26:if(Gt===0)break t;qt[Ht++]=X.length,Gt--,X.mode=21;break;case 27:if(X.wrap){for(;G<32;){if(jt===0)break t;jt--,ut|=Mt[Dt++]<<G,G+=8}if(gt-=Gt,st.total_out+=gt,X.total+=gt,gt&&(st.adler=X.check=X.flags?rt(X.check,qt,gt,Ht-gt):ht(X.check,qt,gt,Ht-gt)),gt=Gt,(X.flags?ut:q(ut))!==X.check){st.msg="incorrect data check",X.mode=30;break}G=ut=0}X.mode=28;case 28:if(X.wrap&&X.flags){for(;G<32;){if(jt===0)break t;jt--,ut+=Mt[Dt++]<<G,G+=8}if(ut!==(4294967295&X.total)){st.msg="incorrect length check",X.mode=30;break}G=ut=0}X.mode=29;case 29:kt=1;break t;case 30:kt=-3;break t;case 31:return-4;case 32:default:return D}return st.next_out=Ht,st.avail_out=Gt,st.next_in=Dt,st.avail_in=jt,X.hold=ut,X.bits=G,(X.wsize||gt!==st.avail_out&&X.mode<30&&(X.mode<27||Et!==4))&&Tt(st,st.output,st.next_out,gt-st.avail_out)?(X.mode=31,-4):(tt-=st.avail_in,gt-=st.avail_out,st.total_in+=tt,st.total_out+=gt,X.total+=gt,X.wrap&&gt&&(st.adler=X.check=X.flags?rt(X.check,qt,gt,st.next_out-gt):ht(X.check,qt,gt,st.next_out-gt)),st.data_type=X.bits+(X.last?64:0)+(X.mode===12?128:0)+(X.mode===20||X.mode===15?256:0),(tt==0&&gt===0||Et===4)&&kt===lt&&(kt=-5),kt)},yt.inflateEnd=function(st){if(!st||!st.state)return D;var Et=st.state;return Et.window&&(Et.window=null),st.state=null,lt},yt.inflateGetHeader=function(st,Et){var X;return st&&st.state?(2&(X=st.state).wrap)==0?D:((X.head=Et).done=!1,lt):D},yt.inflateSetDictionary=function(st,Et){var X,Mt=Et.length;return st&&st.state?(X=st.state).wrap!==0&&X.mode!==11?D:X.mode===11&&ht(1,Et,Mt,0)!==X.check?-3:Tt(st,Et,Mt,Mt)?(X.mode=31,-4):(X.havedict=1,lt):D},yt.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(Z,W,yt){var J=Z("../utils/common"),ht=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],rt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],it=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];W.exports=function(V,ct,lt,D,E,R,B,q){var et,K,ft,pt,St,xt,ot,at,bt,Tt=q.bits,st=0,Et=0,X=0,Mt=0,qt=0,Dt=0,Ht=0,jt=0,Gt=0,ut=0,G=null,tt=0,gt=new J.Buf16(16),A=new J.Buf16(16),Q=null,dt=0;for(st=0;st<=15;st++)gt[st]=0;for(Et=0;Et<D;Et++)gt[ct[lt+Et]]++;for(qt=Tt,Mt=15;1<=Mt&&gt[Mt]===0;Mt--);if(Mt<qt&&(qt=Mt),Mt===0)return E[R++]=20971520,E[R++]=20971520,q.bits=1,0;for(X=1;X<Mt&&gt[X]===0;X++);for(qt<X&&(qt=X),st=jt=1;st<=15;st++)if(jt<<=1,(jt-=gt[st])<0)return-1;if(0<jt&&(V===0||Mt!==1))return-1;for(A[1]=0,st=1;st<15;st++)A[st+1]=A[st]+gt[st];for(Et=0;Et<D;Et++)ct[lt+Et]!==0&&(B[A[ct[lt+Et]]++]=Et);if(xt=V===0?(G=Q=B,19):V===1?(G=ht,tt-=257,Q=rt,dt-=257,256):(G=it,Q=Y,-1),st=X,St=R,Ht=Et=ut=0,ft=-1,pt=(Gt=1<<(Dt=qt))-1,V===1&&852<Gt||V===2&&592<Gt)return 1;for(;;){for(ot=st-Ht,bt=B[Et]<xt?(at=0,B[Et]):B[Et]>xt?(at=Q[dt+B[Et]],G[tt+B[Et]]):(at=96,0),et=1<<st-Ht,X=K=1<<Dt;E[St+(ut>>Ht)+(K-=et)]=ot<<24|at<<16|bt|0,K!==0;);for(et=1<<st-1;ut&et;)et>>=1;if(et!==0?(ut&=et-1,ut+=et):ut=0,Et++,--gt[st]==0){if(st===Mt)break;st=ct[lt+B[Et]]}if(qt<st&&(ut&pt)!==ft){for(Ht===0&&(Ht=qt),St+=X,jt=1<<(Dt=st-Ht);Dt+Ht<Mt&&!((jt-=gt[Dt+Ht])<=0);)Dt++,jt<<=1;if(Gt+=1<<Dt,V===1&&852<Gt||V===2&&592<Gt)return 1;E[ft=ut&pt]=qt<<24|Dt<<16|St-R|0}}return ut!==0&&(E[St+ut]=st-Ht<<24|64<<16|0),q.bits=qt,0}},{"../utils/common":41}],51:[function(Z,W,yt){W.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(Z,W,yt){var J=Z("../utils/common"),ht=0,rt=1;function it(At){for(var Rt=At.length;0<=--Rt;)At[Rt]=0}var Y=0,V=29,ct=256,lt=ct+1+V,D=30,E=19,R=2*lt+1,B=15,q=16,et=7,K=256,ft=16,pt=17,St=18,xt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ot=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],at=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Tt=new Array(2*(lt+2));it(Tt);var st=new Array(2*D);it(st);var Et=new Array(512);it(Et);var X=new Array(256);it(X);var Mt=new Array(V);it(Mt);var qt,Dt,Ht,jt=new Array(D);function Gt(At,Rt,It,$t,Lt){this.static_tree=At,this.extra_bits=Rt,this.extra_base=It,this.elems=$t,this.max_length=Lt,this.has_stree=At&&At.length}function ut(At,Rt){this.dyn_tree=At,this.max_code=0,this.stat_desc=Rt}function G(At){return At<256?Et[At]:Et[256+(At>>>7)]}function tt(At,Rt){At.pending_buf[At.pending++]=255&Rt,At.pending_buf[At.pending++]=Rt>>>8&255}function gt(At,Rt,It){At.bi_valid>q-It?(At.bi_buf|=Rt<<At.bi_valid&65535,tt(At,At.bi_buf),At.bi_buf=Rt>>q-At.bi_valid,At.bi_valid+=It-q):(At.bi_buf|=Rt<<At.bi_valid&65535,At.bi_valid+=It)}function A(At,Rt,It){gt(At,It[2*Rt],It[2*Rt+1])}function Q(At,Rt){for(var It=0;It|=1&At,At>>>=1,It<<=1,0<--Rt;);return It>>>1}function dt(At,Rt,It){var $t,Lt,Ut=new Array(B+1),Xt=0;for($t=1;$t<=B;$t++)Ut[$t]=Xt=Xt+It[$t-1]<<1;for(Lt=0;Lt<=Rt;Lt++){var Vt=At[2*Lt+1];Vt!==0&&(At[2*Lt]=Q(Ut[Vt]++,Vt))}}function _t(At){var Rt;for(Rt=0;Rt<lt;Rt++)At.dyn_ltree[2*Rt]=0;for(Rt=0;Rt<D;Rt++)At.dyn_dtree[2*Rt]=0;for(Rt=0;Rt<E;Rt++)At.bl_tree[2*Rt]=0;At.dyn_ltree[2*K]=1,At.opt_len=At.static_len=0,At.last_lit=At.matches=0}function mt(At){8<At.bi_valid?tt(At,At.bi_buf):0<At.bi_valid&&(At.pending_buf[At.pending++]=At.bi_buf),At.bi_buf=0,At.bi_valid=0}function Ct(At,Rt,It,$t){var Lt=2*Rt,Ut=2*It;return At[Lt]<At[Ut]||At[Lt]===At[Ut]&&$t[Rt]<=$t[It]}function Ft(At,Rt,It){for(var $t=At.heap[It],Lt=It<<1;Lt<=At.heap_len&&(Lt<At.heap_len&&Ct(Rt,At.heap[Lt+1],At.heap[Lt],At.depth)&&Lt++,!Ct(Rt,$t,At.heap[Lt],At.depth));)At.heap[It]=At.heap[Lt],It=Lt,Lt<<=1;At.heap[It]=$t}function Nt(At,Rt,It){var $t,Lt,Ut,Xt,Vt=0;if(At.last_lit!==0)for(;$t=At.pending_buf[At.d_buf+2*Vt]<<8|At.pending_buf[At.d_buf+2*Vt+1],Lt=At.pending_buf[At.l_buf+Vt],Vt++,$t===0?A(At,Lt,Rt):(A(At,(Ut=X[Lt])+ct+1,Rt),(Xt=xt[Ut])!==0&&gt(At,Lt-=Mt[Ut],Xt),A(At,Ut=G(--$t),It),(Xt=ot[Ut])!==0&&gt(At,$t-=jt[Ut],Xt)),Vt<At.last_lit;);A(At,K,Rt)}function Ot(At,Rt){var It,$t,Lt,Ut=Rt.dyn_tree,Xt=Rt.stat_desc.static_tree,Vt=Rt.stat_desc.has_stree,Yt=Rt.stat_desc.elems,Zt=-1;for(At.heap_len=0,At.heap_max=R,It=0;It<Yt;It++)Ut[2*It]!==0?(At.heap[++At.heap_len]=Zt=It,At.depth[It]=0):Ut[2*It+1]=0;for(;At.heap_len<2;)Ut[2*(Lt=At.heap[++At.heap_len]=Zt<2?++Zt:0)]=1,At.depth[Lt]=0,At.opt_len--,Vt&&(At.static_len-=Xt[2*Lt+1]);for(Rt.max_code=Zt,It=At.heap_len>>1;1<=It;It--)Ft(At,Ut,It);for(Lt=Yt;It=At.heap[1],At.heap[1]=At.heap[At.heap_len--],Ft(At,Ut,1),$t=At.heap[1],At.heap[--At.heap_max]=It,At.heap[--At.heap_max]=$t,Ut[2*Lt]=Ut[2*It]+Ut[2*$t],At.depth[Lt]=(At.depth[It]>=At.depth[$t]?At.depth[It]:At.depth[$t])+1,Ut[2*It+1]=Ut[2*$t+1]=Lt,At.heap[1]=Lt++,Ft(At,Ut,1),2<=At.heap_len;);At.heap[--At.heap_max]=At.heap[1],function(Jt,re){var se,oe,ie,Wt,Bt,zt,Kt=re.dyn_tree,Qt=re.max_code,ne=re.stat_desc.static_tree,ee=re.stat_desc.has_stree,de=re.stat_desc.extra_bits,fe=re.stat_desc.extra_base,ce=re.stat_desc.max_length,ae=0;for(Wt=0;Wt<=B;Wt++)Jt.bl_count[Wt]=0;for(Kt[2*Jt.heap[Jt.heap_max]+1]=0,se=Jt.heap_max+1;se<R;se++)ce<(Wt=Kt[2*Kt[2*(oe=Jt.heap[se])+1]+1]+1)&&(Wt=ce,ae++),Kt[2*oe+1]=Wt,Qt<oe||(Jt.bl_count[Wt]++,Bt=0,fe<=oe&&(Bt=de[oe-fe]),zt=Kt[2*oe],Jt.opt_len+=zt*(Wt+Bt),ee&&(Jt.static_len+=zt*(ne[2*oe+1]+Bt)));if(ae!==0){do{for(Wt=ce-1;Jt.bl_count[Wt]===0;)Wt--;Jt.bl_count[Wt]--,Jt.bl_count[Wt+1]+=2,Jt.bl_count[ce]--,ae-=2}while(0<ae);for(Wt=ce;Wt!==0;Wt--)for(oe=Jt.bl_count[Wt];oe!==0;)Qt<(ie=Jt.heap[--se])||(Kt[2*ie+1]!==Wt&&(Jt.opt_len+=(Wt-Kt[2*ie+1])*Kt[2*ie],Kt[2*ie+1]=Wt),oe--)}}(At,Rt),dt(Ut,Zt,At.bl_count)}function U(At,Rt,It){var $t,Lt,Ut=-1,Xt=Rt[1],Vt=0,Yt=7,Zt=4;for(Xt===0&&(Yt=138,Zt=3),Rt[2*(It+1)+1]=65535,$t=0;$t<=It;$t++)Lt=Xt,Xt=Rt[2*($t+1)+1],++Vt<Yt&&Lt===Xt||(Vt<Zt?At.bl_tree[2*Lt]+=Vt:Lt!==0?(Lt!==Ut&&At.bl_tree[2*Lt]++,At.bl_tree[2*ft]++):Vt<=10?At.bl_tree[2*pt]++:At.bl_tree[2*St]++,Ut=Lt,Zt=(Vt=0)===Xt?(Yt=138,3):Lt===Xt?(Yt=6,3):(Yt=7,4))}function kt(At,Rt,It){var $t,Lt,Ut=-1,Xt=Rt[1],Vt=0,Yt=7,Zt=4;for(Xt===0&&(Yt=138,Zt=3),$t=0;$t<=It;$t++)if(Lt=Xt,Xt=Rt[2*($t+1)+1],!(++Vt<Yt&&Lt===Xt)){if(Vt<Zt)for(;A(At,Lt,At.bl_tree),--Vt!=0;);else Lt!==0?(Lt!==Ut&&(A(At,Lt,At.bl_tree),Vt--),A(At,ft,At.bl_tree),gt(At,Vt-3,2)):Vt<=10?(A(At,pt,At.bl_tree),gt(At,Vt-3,3)):(A(At,St,At.bl_tree),gt(At,Vt-11,7));Ut=Lt,Zt=(Vt=0)===Xt?(Yt=138,3):Lt===Xt?(Yt=6,3):(Yt=7,4)}}it(jt);var Pt=!1;function wt(At,Rt,It,$t){gt(At,(Y<<1)+($t?1:0),3),function(Lt,Ut,Xt,Vt){mt(Lt),Vt&&(tt(Lt,Xt),tt(Lt,~Xt)),J.arraySet(Lt.pending_buf,Lt.window,Ut,Xt,Lt.pending),Lt.pending+=Xt}(At,Rt,It,!0)}yt._tr_init=function(At){Pt||(function(){var Rt,It,$t,Lt,Ut,Xt=new Array(B+1);for(Lt=$t=0;Lt<V-1;Lt++)for(Mt[Lt]=$t,Rt=0;Rt<1<<xt[Lt];Rt++)X[$t++]=Lt;for(X[$t-1]=Lt,Lt=Ut=0;Lt<16;Lt++)for(jt[Lt]=Ut,Rt=0;Rt<1<<ot[Lt];Rt++)Et[Ut++]=Lt;for(Ut>>=7;Lt<D;Lt++)for(jt[Lt]=Ut<<7,Rt=0;Rt<1<<ot[Lt]-7;Rt++)Et[256+Ut++]=Lt;for(It=0;It<=B;It++)Xt[It]=0;for(Rt=0;Rt<=143;)Tt[2*Rt+1]=8,Rt++,Xt[8]++;for(;Rt<=255;)Tt[2*Rt+1]=9,Rt++,Xt[9]++;for(;Rt<=279;)Tt[2*Rt+1]=7,Rt++,Xt[7]++;for(;Rt<=287;)Tt[2*Rt+1]=8,Rt++,Xt[8]++;for(dt(Tt,lt+1,Xt),Rt=0;Rt<D;Rt++)st[2*Rt+1]=5,st[2*Rt]=Q(Rt,5);qt=new Gt(Tt,xt,ct+1,lt,B),Dt=new Gt(st,ot,0,D,B),Ht=new Gt(new Array(0),at,0,E,et)}(),Pt=!0),At.l_desc=new ut(At.dyn_ltree,qt),At.d_desc=new ut(At.dyn_dtree,Dt),At.bl_desc=new ut(At.bl_tree,Ht),At.bi_buf=0,At.bi_valid=0,_t(At)},yt._tr_stored_block=wt,yt._tr_flush_block=function(At,Rt,It,$t){var Lt,Ut,Xt=0;0<At.level?(At.strm.data_type===2&&(At.strm.data_type=function(Vt){var Yt,Zt=4093624447;for(Yt=0;Yt<=31;Yt++,Zt>>>=1)if(1&Zt&&Vt.dyn_ltree[2*Yt]!==0)return ht;if(Vt.dyn_ltree[18]!==0||Vt.dyn_ltree[20]!==0||Vt.dyn_ltree[26]!==0)return rt;for(Yt=32;Yt<ct;Yt++)if(Vt.dyn_ltree[2*Yt]!==0)return rt;return ht}(At)),Ot(At,At.l_desc),Ot(At,At.d_desc),Xt=function(Vt){var Yt;for(U(Vt,Vt.dyn_ltree,Vt.l_desc.max_code),U(Vt,Vt.dyn_dtree,Vt.d_desc.max_code),Ot(Vt,Vt.bl_desc),Yt=E-1;3<=Yt&&Vt.bl_tree[2*bt[Yt]+1]===0;Yt--);return Vt.opt_len+=3*(Yt+1)+5+5+4,Yt}(At),Lt=At.opt_len+3+7>>>3,(Ut=At.static_len+3+7>>>3)<=Lt&&(Lt=Ut)):Lt=Ut=It+5,It+4<=Lt&&Rt!==-1?wt(At,Rt,It,$t):At.strategy===4||Ut===Lt?(gt(At,2+($t?1:0),3),Nt(At,Tt,st)):(gt(At,4+($t?1:0),3),function(Vt,Yt,Zt,Jt){var re;for(gt(Vt,Yt-257,5),gt(Vt,Zt-1,5),gt(Vt,Jt-4,4),re=0;re<Jt;re++)gt(Vt,Vt.bl_tree[2*bt[re]+1],3);kt(Vt,Vt.dyn_ltree,Yt-1),kt(Vt,Vt.dyn_dtree,Zt-1)}(At,At.l_desc.max_code+1,At.d_desc.max_code+1,Xt+1),Nt(At,At.dyn_ltree,At.dyn_dtree)),_t(At),$t&&mt(At)},yt._tr_tally=function(At,Rt,It){return At.pending_buf[At.d_buf+2*At.last_lit]=Rt>>>8&255,At.pending_buf[At.d_buf+2*At.last_lit+1]=255&Rt,At.pending_buf[At.l_buf+At.last_lit]=255&It,At.last_lit++,Rt===0?At.dyn_ltree[2*It]++:(At.matches++,Rt--,At.dyn_ltree[2*(X[It]+ct+1)]++,At.dyn_dtree[2*G(Rt)]++),At.last_lit===At.lit_bufsize-1},yt._tr_align=function(At){gt(At,2,3),A(At,K,Tt),function(Rt){Rt.bi_valid===16?(tt(Rt,Rt.bi_buf),Rt.bi_buf=0,Rt.bi_valid=0):8<=Rt.bi_valid&&(Rt.pending_buf[Rt.pending++]=255&Rt.bi_buf,Rt.bi_buf>>=8,Rt.bi_valid-=8)}(At)}},{"../utils/common":41}],53:[function(Z,W,yt){W.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(Z,W,yt){(function(J){(function(ht,rt){if(!ht.setImmediate){var it,Y,V,ct,lt=1,D={},E=!1,R=ht.document,B=Object.getPrototypeOf&&Object.getPrototypeOf(ht);B=B&&B.setTimeout?B:ht,it={}.toString.call(ht.process)==="[object process]"?function(ft){process.nextTick(function(){et(ft)})}:function(){if(ht.postMessage&&!ht.importScripts){var ft=!0,pt=ht.onmessage;return ht.onmessage=function(){ft=!1},ht.postMessage("","*"),ht.onmessage=pt,ft}}()?(ct="setImmediate$"+Math.random()+"$",ht.addEventListener?ht.addEventListener("message",K,!1):ht.attachEvent("onmessage",K),function(ft){ht.postMessage(ct+ft,"*")}):ht.MessageChannel?((V=new MessageChannel).port1.onmessage=function(ft){et(ft.data)},function(ft){V.port2.postMessage(ft)}):R&&"onreadystatechange"in R.createElement("script")?(Y=R.documentElement,function(ft){var pt=R.createElement("script");pt.onreadystatechange=function(){et(ft),pt.onreadystatechange=null,Y.removeChild(pt),pt=null},Y.appendChild(pt)}):function(ft){setTimeout(et,0,ft)},B.setImmediate=function(ft){typeof ft!="function"&&(ft=new Function(""+ft));for(var pt=new Array(arguments.length-1),St=0;St<pt.length;St++)pt[St]=arguments[St+1];var xt={callback:ft,args:pt};return D[lt]=xt,it(lt),lt++},B.clearImmediate=q}function q(ft){delete D[ft]}function et(ft){if(E)setTimeout(et,0,ft);else{var pt=D[ft];if(pt){E=!0;try{(function(St){var xt=St.callback,ot=St.args;switch(ot.length){case 0:xt();break;case 1:xt(ot[0]);break;case 2:xt(ot[0],ot[1]);break;case 3:xt(ot[0],ot[1],ot[2]);break;default:xt.apply(rt,ot)}})(pt)}finally{q(ft),E=!1}}}}function K(ft){ft.source===ht&&typeof ft.data=="string"&&ft.data.indexOf(ct)===0&&et(+ft.data.slice(ct.length))}})(typeof self=="undefined"?J===void 0?this:J:self)}).call(this,typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(jszip_min);var JSZip=jszip_min.exports,FileSaver_min={exports:{}};(function(vt,nt){(function(Z,W){W()})(commonjsGlobal,function(){function Z(Y,V){return typeof V=="undefined"?V={autoBom:!1}:typeof V!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),V={autoBom:!V}),V.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Y.type)?new Blob(["\uFEFF",Y],{type:Y.type}):Y}function W(Y,V,ct){var lt=new XMLHttpRequest;lt.open("GET",Y),lt.responseType="blob",lt.onload=function(){it(lt.response,V,ct)},lt.onerror=function(){console.error("could not download file")},lt.send()}function yt(Y){var V=new XMLHttpRequest;V.open("HEAD",Y,!1);try{V.send()}catch{}return 200<=V.status&&299>=V.status}function J(Y){try{Y.dispatchEvent(new MouseEvent("click"))}catch{var V=document.createEvent("MouseEvents");V.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Y.dispatchEvent(V)}}var ht=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,rt=ht.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),it=ht.saveAs||(typeof window!="object"||window!==ht?function(){}:"download"in HTMLAnchorElement.prototype&&!rt?function(Y,V,ct){var lt=ht.URL||ht.webkitURL,D=document.createElement("a");V=V||Y.name||"download",D.download=V,D.rel="noopener",typeof Y=="string"?(D.href=Y,D.origin===location.origin?J(D):yt(D.href)?W(Y,V,ct):J(D,D.target="_blank")):(D.href=lt.createObjectURL(Y),setTimeout(function(){lt.revokeObjectURL(D.href)},4e4),setTimeout(function(){J(D)},0))}:"msSaveOrOpenBlob"in navigator?function(Y,V,ct){if(V=V||Y.name||"download",typeof Y!="string")navigator.msSaveOrOpenBlob(Z(Y,ct),V);else if(yt(Y))W(Y,V,ct);else{var lt=document.createElement("a");lt.href=Y,lt.target="_blank",setTimeout(function(){J(lt)})}}:function(Y,V,ct,lt){if(lt=lt||open("","_blank"),lt&&(lt.document.title=lt.document.body.innerText="downloading..."),typeof Y=="string")return W(Y,V,ct);var D=Y.type==="application/octet-stream",E=/constructor/i.test(ht.HTMLElement)||ht.safari,R=/CriOS\/[\d]+/.test(navigator.userAgent);if((R||D&&E||rt)&&typeof FileReader!="undefined"){var B=new FileReader;B.onloadend=function(){var K=B.result;K=R?K:K.replace(/^data:[^;]*;/,"data:attachment/file;"),lt?lt.location.href=K:location=K,lt=null},B.readAsDataURL(Y)}else{var q=ht.URL||ht.webkitURL,et=q.createObjectURL(Y);lt?lt.location=et:location.href=et,lt=null,setTimeout(function(){q.revokeObjectURL(et)},4e4)}});ht.saveAs=it.saveAs=it,vt.exports=it})})(FileSaver_min);var pdf={exports:{}},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(nt,Z){module.exports=Z()})(commonjsGlobal,()=>(()=>{var __webpack_modules__=[,(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.VerbosityLevel=nt.Util=nt.UnknownErrorException=nt.UnexpectedResponseException=nt.UNSUPPORTED_FEATURES=nt.TextRenderingMode=nt.StreamType=nt.RenderingIntentFlag=nt.PermissionFlag=nt.PasswordResponses=nt.PasswordException=nt.PageActionEventType=nt.OPS=nt.MissingPDFException=nt.InvalidPDFException=nt.ImageKind=nt.IDENTITY_MATRIX=nt.FormatError=nt.FontType=nt.FeatureTest=nt.FONT_IDENTITY_MATRIX=nt.DocumentActionEventType=nt.CMapCompressionType=nt.BaseException=nt.AnnotationType=nt.AnnotationStateModelType=nt.AnnotationReviewState=nt.AnnotationReplyType=nt.AnnotationMode=nt.AnnotationMarkedState=nt.AnnotationFlag=nt.AnnotationFieldFlag=nt.AnnotationBorderStyleType=nt.AnnotationActionEventType=nt.AbortException=void 0,nt.arrayByteLength=Nt,nt.arraysToBytes=Ot,nt.assert=Ht,nt.bytesToString=Ct,nt.createPromiseCapability=ie,nt.createValidAbsoluteUrl=Gt,nt.escapeString=Xt,nt.getModificationDate=oe,nt.getVerbosityLevel=X,nt.info=Mt,nt.isArrayBuffer=re,nt.isArrayEqual=se,nt.isAscii=Vt,nt.objectFromMap=Pt,nt.objectSize=kt,nt.setVerbosityLevel=Et,nt.shadow=ut,nt.string32=U,nt.stringToBytes=Ft,nt.stringToPDFString=Ut,nt.stringToUTF16BEString=Yt,nt.stringToUTF8String=Zt,nt.unreachable=Dt,nt.utf8StringToString=Jt,nt.warn=qt,Z(2);const W=[1,0,0,1,0,0];nt.IDENTITY_MATRIX=W;const yt=[.001,0,0,.001,0,0];nt.FONT_IDENTITY_MATRIX=yt;const J={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};nt.RenderingIntentFlag=J;const ht={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};nt.AnnotationMode=ht;const rt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};nt.PermissionFlag=rt;const it={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};nt.TextRenderingMode=it;const Y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};nt.ImageKind=Y;const V={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};nt.AnnotationType=V;const ct={MARKED:"Marked",REVIEW:"Review"};nt.AnnotationStateModelType=ct;const lt={MARKED:"Marked",UNMARKED:"Unmarked"};nt.AnnotationMarkedState=lt;const D={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};nt.AnnotationReviewState=D;const E={GROUP:"Group",REPLY:"R"};nt.AnnotationReplyType=E;const R={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};nt.AnnotationFlag=R;const B={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};nt.AnnotationFieldFlag=B;const q={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};nt.AnnotationBorderStyleType=q;const et={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};nt.AnnotationActionEventType=et;const K={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};nt.DocumentActionEventType=K;const ft={O:"PageOpen",C:"PageClose"};nt.PageActionEventType=ft;const pt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};nt.StreamType=pt;const St={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};nt.FontType=St;const xt={ERRORS:0,WARNINGS:1,INFOS:5};nt.VerbosityLevel=xt;const ot={NONE:0,BINARY:1,STREAM:2};nt.CMapCompressionType=ot;const at={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};nt.OPS=at;const bt={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};nt.UNSUPPORTED_FEATURES=bt;const Tt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};nt.PasswordResponses=Tt;let st=xt.WARNINGS;function Et(Wt){Number.isInteger(Wt)&&(st=Wt)}function X(){return st}function Mt(Wt){st>=xt.INFOS&&console.log(`Info: ${Wt}`)}function qt(Wt){st>=xt.WARNINGS&&console.log(`Warning: ${Wt}`)}function Dt(Wt){throw new Error(Wt)}function Ht(Wt,Bt){Wt||Dt(Bt)}function jt(Wt){if(!Wt)return!1;switch(Wt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Gt(Wt,Bt=null,zt=null){if(!Wt)return null;try{if(zt&&typeof Wt=="string"){if(zt.addDefaultProtocol&&Wt.startsWith("www.")){const Qt=Wt.match(/\./g);Qt&&Qt.length>=2&&(Wt=`http://${Wt}`)}if(zt.tryConvertEncoding)try{Wt=Zt(Wt)}catch{}}const Kt=Bt?new URL(Wt,Bt):new URL(Wt);if(jt(Kt))return Kt}catch{}return null}function ut(Wt,Bt,zt){return Object.defineProperty(Wt,Bt,{value:zt,enumerable:!0,configurable:!0,writable:!1}),zt}const G=function(){function Bt(zt,Kt){this.constructor===Bt&&Dt("Cannot initialize BaseException."),this.message=zt,this.name=Kt}return Bt.prototype=new Error,Bt.constructor=Bt,Bt}();nt.BaseException=G;class tt extends G{constructor(Bt,zt){super(Bt,"PasswordException"),this.code=zt}}nt.PasswordException=tt;class gt extends G{constructor(Bt,zt){super(Bt,"UnknownErrorException"),this.details=zt}}nt.UnknownErrorException=gt;class A extends G{constructor(Bt){super(Bt,"InvalidPDFException")}}nt.InvalidPDFException=A;class Q extends G{constructor(Bt){super(Bt,"MissingPDFException")}}nt.MissingPDFException=Q;class dt extends G{constructor(Bt,zt){super(Bt,"UnexpectedResponseException"),this.status=zt}}nt.UnexpectedResponseException=dt;class _t extends G{constructor(Bt){super(Bt,"FormatError")}}nt.FormatError=_t;class mt extends G{constructor(Bt){super(Bt,"AbortException")}}nt.AbortException=mt;function Ct(Wt){(typeof Wt!="object"||Wt===null||Wt.length===void 0)&&Dt("Invalid argument for bytesToString");const Bt=Wt.length,zt=8192;if(Bt<zt)return String.fromCharCode.apply(null,Wt);const Kt=[];for(let Qt=0;Qt<Bt;Qt+=zt){const ne=Math.min(Qt+zt,Bt),ee=Wt.subarray(Qt,ne);Kt.push(String.fromCharCode.apply(null,ee))}return Kt.join("")}function Ft(Wt){typeof Wt!="string"&&Dt("Invalid argument for stringToBytes");const Bt=Wt.length,zt=new Uint8Array(Bt);for(let Kt=0;Kt<Bt;++Kt)zt[Kt]=Wt.charCodeAt(Kt)&255;return zt}function Nt(Wt){if(Wt.length!==void 0)return Wt.length;if(Wt.byteLength!==void 0)return Wt.byteLength;Dt("Invalid argument for arrayByteLength")}function Ot(Wt){const Bt=Wt.length;if(Bt===1&&Wt[0]instanceof Uint8Array)return Wt[0];let zt=0;for(let ne=0;ne<Bt;ne++)zt+=Nt(Wt[ne]);let Kt=0;const Qt=new Uint8Array(zt);for(let ne=0;ne<Bt;ne++){let ee=Wt[ne];ee instanceof Uint8Array||(typeof ee=="string"?ee=Ft(ee):ee=new Uint8Array(ee));const de=ee.byteLength;Qt.set(ee,Kt),Kt+=de}return Qt}function U(Wt){return String.fromCharCode(Wt>>24&255,Wt>>16&255,Wt>>8&255,Wt&255)}function kt(Wt){return Object.keys(Wt).length}function Pt(Wt){const Bt=Object.create(null);for(const[zt,Kt]of Wt)Bt[zt]=Kt;return Bt}function wt(){const Wt=new Uint8Array(4);return Wt[0]=1,new Uint32Array(Wt.buffer,0,1)[0]===1}function At(){try{return new Function(""),!0}catch{return!1}}class Rt{static get isLittleEndian(){return ut(this,"isLittleEndian",wt())}static get isEvalSupported(){return ut(this,"isEvalSupported",At())}static get isOffscreenCanvasSupported(){return ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas!="undefined")}}nt.FeatureTest=Rt;const It=[...Array(256).keys()].map(Wt=>Wt.toString(16).padStart(2,"0"));class $t{static makeHexColor(Bt,zt,Kt){return`#${It[Bt]}${It[zt]}${It[Kt]}`}static scaleMinMax(Bt,zt){let Kt;Bt[0]?(Bt[0]<0&&(Kt=zt[0],zt[0]=zt[1],zt[1]=Kt),zt[0]*=Bt[0],zt[1]*=Bt[0],Bt[3]<0&&(Kt=zt[2],zt[2]=zt[3],zt[3]=Kt),zt[2]*=Bt[3],zt[3]*=Bt[3]):(Kt=zt[0],zt[0]=zt[2],zt[2]=Kt,Kt=zt[1],zt[1]=zt[3],zt[3]=Kt,Bt[1]<0&&(Kt=zt[2],zt[2]=zt[3],zt[3]=Kt),zt[2]*=Bt[1],zt[3]*=Bt[1],Bt[2]<0&&(Kt=zt[0],zt[0]=zt[1],zt[1]=Kt),zt[0]*=Bt[2],zt[1]*=Bt[2]),zt[0]+=Bt[4],zt[1]+=Bt[4],zt[2]+=Bt[5],zt[3]+=Bt[5]}static transform(Bt,zt){return[Bt[0]*zt[0]+Bt[2]*zt[1],Bt[1]*zt[0]+Bt[3]*zt[1],Bt[0]*zt[2]+Bt[2]*zt[3],Bt[1]*zt[2]+Bt[3]*zt[3],Bt[0]*zt[4]+Bt[2]*zt[5]+Bt[4],Bt[1]*zt[4]+Bt[3]*zt[5]+Bt[5]]}static applyTransform(Bt,zt){const Kt=Bt[0]*zt[0]+Bt[1]*zt[2]+zt[4],Qt=Bt[0]*zt[1]+Bt[1]*zt[3]+zt[5];return[Kt,Qt]}static applyInverseTransform(Bt,zt){const Kt=zt[0]*zt[3]-zt[1]*zt[2],Qt=(Bt[0]*zt[3]-Bt[1]*zt[2]+zt[2]*zt[5]-zt[4]*zt[3])/Kt,ne=(-Bt[0]*zt[1]+Bt[1]*zt[0]+zt[4]*zt[1]-zt[5]*zt[0])/Kt;return[Qt,ne]}static getAxialAlignedBoundingBox(Bt,zt){const Kt=$t.applyTransform(Bt,zt),Qt=$t.applyTransform(Bt.slice(2,4),zt),ne=$t.applyTransform([Bt[0],Bt[3]],zt),ee=$t.applyTransform([Bt[2],Bt[1]],zt);return[Math.min(Kt[0],Qt[0],ne[0],ee[0]),Math.min(Kt[1],Qt[1],ne[1],ee[1]),Math.max(Kt[0],Qt[0],ne[0],ee[0]),Math.max(Kt[1],Qt[1],ne[1],ee[1])]}static inverseTransform(Bt){const zt=Bt[0]*Bt[3]-Bt[1]*Bt[2];return[Bt[3]/zt,-Bt[1]/zt,-Bt[2]/zt,Bt[0]/zt,(Bt[2]*Bt[5]-Bt[4]*Bt[3])/zt,(Bt[4]*Bt[1]-Bt[5]*Bt[0])/zt]}static apply3dTransform(Bt,zt){return[Bt[0]*zt[0]+Bt[1]*zt[1]+Bt[2]*zt[2],Bt[3]*zt[0]+Bt[4]*zt[1]+Bt[5]*zt[2],Bt[6]*zt[0]+Bt[7]*zt[1]+Bt[8]*zt[2]]}static singularValueDecompose2dScale(Bt){const zt=[Bt[0],Bt[2],Bt[1],Bt[3]],Kt=Bt[0]*zt[0]+Bt[1]*zt[2],Qt=Bt[0]*zt[1]+Bt[1]*zt[3],ne=Bt[2]*zt[0]+Bt[3]*zt[2],ee=Bt[2]*zt[1]+Bt[3]*zt[3],de=(Kt+ee)/2,fe=Math.sqrt((Kt+ee)**2-4*(Kt*ee-ne*Qt))/2,ce=de+fe||1,ae=de-fe||1;return[Math.sqrt(ce),Math.sqrt(ae)]}static normalizeRect(Bt){const zt=Bt.slice(0);return Bt[0]>Bt[2]&&(zt[0]=Bt[2],zt[2]=Bt[0]),Bt[1]>Bt[3]&&(zt[1]=Bt[3],zt[3]=Bt[1]),zt}static intersect(Bt,zt){const Kt=Math.max(Math.min(Bt[0],Bt[2]),Math.min(zt[0],zt[2])),Qt=Math.min(Math.max(Bt[0],Bt[2]),Math.max(zt[0],zt[2]));if(Kt>Qt)return null;const ne=Math.max(Math.min(Bt[1],Bt[3]),Math.min(zt[1],zt[3])),ee=Math.min(Math.max(Bt[1],Bt[3]),Math.max(zt[1],zt[3]));return ne>ee?null:[Kt,ne,Qt,ee]}static bezierBoundingBox(Bt,zt,Kt,Qt,ne,ee,de,fe){const ce=[],ae=[[],[]];let _e,ge,Ae,le,ve,we,ke,xe;for(let Ce=0;Ce<2;++Ce){if(Ce===0?(ge=6*Bt-12*Kt+6*ne,_e=-3*Bt+9*Kt-9*ne+3*de,Ae=3*Kt-3*Bt):(ge=6*zt-12*Qt+6*ee,_e=-3*zt+9*Qt-9*ee+3*fe,Ae=3*Qt-3*zt),Math.abs(_e)<1e-12){if(Math.abs(ge)<1e-12)continue;le=-Ae/ge,0<le&&le<1&&ce.push(le);continue}ke=ge*ge-4*Ae*_e,xe=Math.sqrt(ke),!(ke<0)&&(ve=(-ge+xe)/(2*_e),0<ve&&ve<1&&ce.push(ve),we=(-ge-xe)/(2*_e),0<we&&we<1&&ce.push(we))}let me=ce.length,he;const be=me;for(;me--;)le=ce[me],he=1-le,ae[0][me]=he*he*he*Bt+3*he*he*le*Kt+3*he*le*le*ne+le*le*le*de,ae[1][me]=he*he*he*zt+3*he*he*le*Qt+3*he*le*le*ee+le*le*le*fe;return ae[0][be]=Bt,ae[1][be]=zt,ae[0][be+1]=de,ae[1][be+1]=fe,ae[0].length=ae[1].length=be+2,[Math.min(...ae[0]),Math.min(...ae[1]),Math.max(...ae[0]),Math.max(...ae[1])]}}nt.Util=$t;const Lt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ut(Wt){if(Wt[0]>="\xEF"){let zt;if(Wt[0]==="\xFE"&&Wt[1]==="\xFF"?zt="utf-16be":Wt[0]==="\xFF"&&Wt[1]==="\xFE"?zt="utf-16le":Wt[0]==="\xEF"&&Wt[1]==="\xBB"&&Wt[2]==="\xBF"&&(zt="utf-8"),zt)try{const Kt=new TextDecoder(zt,{fatal:!0}),Qt=Ft(Wt);return Kt.decode(Qt)}catch(Kt){qt(`stringToPDFString: "${Kt}".`)}}const Bt=[];for(let zt=0,Kt=Wt.length;zt<Kt;zt++){const Qt=Lt[Wt.charCodeAt(zt)];Bt.push(Qt?String.fromCharCode(Qt):Wt.charAt(zt))}return Bt.join("")}function Xt(Wt){return Wt.replace(/([()\\\n\r])/g,Bt=>Bt===`
`?"\\n":Bt==="\r"?"\\r":`\\${Bt}`)}function Vt(Wt){return/^[\x00-\x7F]*$/.test(Wt)}function Yt(Wt){const Bt=["\xFE\xFF"];for(let zt=0,Kt=Wt.length;zt<Kt;zt++){const Qt=Wt.charCodeAt(zt);Bt.push(String.fromCharCode(Qt>>8&255),String.fromCharCode(Qt&255))}return Bt.join("")}function Zt(Wt){return decodeURIComponent(escape(Wt))}function Jt(Wt){return unescape(encodeURIComponent(Wt))}function re(Wt){return typeof Wt=="object"&&Wt!==null&&Wt.byteLength!==void 0}function se(Wt,Bt){if(Wt.length!==Bt.length)return!1;for(let zt=0,Kt=Wt.length;zt<Kt;zt++)if(Wt[zt]!==Bt[zt])return!1;return!0}function oe(Wt=new Date){return[Wt.getUTCFullYear().toString(),(Wt.getUTCMonth()+1).toString().padStart(2,"0"),Wt.getUTCDate().toString().padStart(2,"0"),Wt.getUTCHours().toString().padStart(2,"0"),Wt.getUTCMinutes().toString().padStart(2,"0"),Wt.getUTCSeconds().toString().padStart(2,"0")].join("")}function ie(){const Wt=Object.create(null);let Bt=!1;return Object.defineProperty(Wt,"settled",{get(){return Bt}}),Wt.promise=new Promise(function(zt,Kt){Wt.resolve=function(Qt){Bt=!0,zt(Qt)},Wt.reject=function(Qt){Bt=!0,Kt(Qt)}}),Wt}},(vt,nt,Z)=>{Z(3)},(vt,nt)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.isNodeJS=void 0;const Z=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");nt.isNodeJS=Z},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var vt,Z,W,yt,J,ht,rt,it,Y,Te,ct;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:D,NodeCMapReaderFactory:E,NodeStandardFontDataFactory:R}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=D,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=E,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=R}let createPDFNetworkStream;function setPDFNetworkStreamFactory(D){createPDFNetworkStream=D}function getDocument(D){const E=new PDFDocumentLoadingTask;let R;if(typeof D=="string"||D instanceof URL)R={url:D};else if((0,_util.isArrayBuffer)(D))R={data:D};else if(D instanceof PDFDataRangeTransport)R={range:D};else{if(typeof D!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!D.url&&!D.data&&!D.range)throw new Error("Invalid parameter object: need either .data, .range or .url");R=D}const B=Object.create(null);let q=null,et=null;for(const ft in R){const pt=R[ft];switch(ft){case"url":if(typeof window!="undefined")try{B[ft]=new URL(pt,window.location).href;continue}catch(St){(0,_util.warn)(`Cannot create valid URL: "${St}".`)}else if(typeof pt=="string"||pt instanceof URL){B[ft]=pt.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":q=pt;continue;case"worker":et=pt;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&pt instanceof Buffer)B[ft]=new Uint8Array(pt);else{if(pt instanceof Uint8Array)break;if(typeof pt=="string")B[ft]=(0,_util.stringToBytes)(pt);else if(typeof pt=="object"&&pt!==null&&!isNaN(pt.length))B[ft]=new Uint8Array(pt);else if((0,_util.isArrayBuffer)(pt))B[ft]=new Uint8Array(pt);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}B[ft]=pt}if(B.CMapReaderFactory=B.CMapReaderFactory||DefaultCMapReaderFactory,B.StandardFontDataFactory=B.StandardFontDataFactory||DefaultStandardFontDataFactory,B.ignoreErrors=B.stopAtErrors!==!0,B.fontExtraProperties=B.fontExtraProperties===!0,B.pdfBug=B.pdfBug===!0,B.enableXfa=B.enableXfa===!0,(!Number.isInteger(B.rangeChunkSize)||B.rangeChunkSize<1)&&(B.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof B.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(B.docBaseUrl))&&(B.docBaseUrl=null),(!Number.isInteger(B.maxImageSize)||B.maxImageSize<-1)&&(B.maxImageSize=-1),typeof B.cMapUrl!="string"&&(B.cMapUrl=null),typeof B.standardFontDataUrl!="string"&&(B.standardFontDataUrl=null),typeof B.useWorkerFetch!="boolean"&&(B.useWorkerFetch=B.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&B.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof B.isEvalSupported!="boolean"&&(B.isEvalSupported=!0),typeof B.disableFontFace!="boolean"&&(B.disableFontFace=_is_node.isNodeJS),typeof B.useSystemFonts!="boolean"&&(B.useSystemFonts=!_is_node.isNodeJS&&!B.disableFontFace),(typeof B.ownerDocument!="object"||B.ownerDocument===null)&&(B.ownerDocument=globalThis.document),typeof B.disableRange!="boolean"&&(B.disableRange=!1),typeof B.disableStream!="boolean"&&(B.disableStream=!1),typeof B.disableAutoFetch!="boolean"&&(B.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(B.verbosity),!et){const ft={verbosity:B.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};et=ft.port?PDFWorker.fromPort(ft):new PDFWorker(ft),E._worker=et}const K=E.docId;return et.promise.then(function(){if(E.destroyed)throw new Error("Loading aborted");const ft=_fetchDocument(et,B,q,K),pt=new Promise(function(St){let xt;q?xt=new _transport_stream.PDFDataTransportStream({length:B.length,initialData:B.initialData,progressiveDone:B.progressiveDone,contentDispositionFilename:B.contentDispositionFilename,disableRange:B.disableRange,disableStream:B.disableStream},q):B.data||(xt=createPDFNetworkStream({url:B.url,length:B.length,httpHeaders:B.httpHeaders,withCredentials:B.withCredentials,rangeChunkSize:B.rangeChunkSize,disableRange:B.disableRange,disableStream:B.disableStream})),St(xt)});return Promise.all([ft,pt]).then(function([St,xt]){if(E.destroyed)throw new Error("Loading aborted");const ot=new _message_handler.MessageHandler(K,St,et.port),at=new WorkerTransport(ot,E,xt,B);E._transport=at,ot.send("Ready",null)})}).catch(E._capability.reject),E}async function _fetchDocument(D,E,R,B){if(D.destroyed)throw new Error("Worker was destroyed");R&&(E.length=R.length,E.initialData=R.initialData,E.progressiveDone=R.progressiveDone,E.contentDispositionFilename=R.contentDispositionFilename);const q=await D.messageHandler.sendWithPromise("GetDocRequest",{docId:B,apiVersion:"2.14.305",source:{data:E.data,url:E.url,password:E.password,disableAutoFetch:E.disableAutoFetch,rangeChunkSize:E.rangeChunkSize,length:E.length},maxImageSize:E.maxImageSize,disableFontFace:E.disableFontFace,docBaseUrl:E.docBaseUrl,ignoreErrors:E.ignoreErrors,isEvalSupported:E.isEvalSupported,fontExtraProperties:E.fontExtraProperties,enableXfa:E.enableXfa,useSystemFonts:E.useSystemFonts,cMapUrl:E.useWorkerFetch?E.cMapUrl:null,standardFontDataUrl:E.useWorkerFetch?E.standardFontDataUrl:null});if(D.destroyed)throw new Error("Worker was destroyed");return q}const nt=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Fe(nt,vt)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var E;this.destroyed=!0,await((E=this._transport)==null?void 0:E.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=nt;vt=new WeakMap,ue(PDFDocumentLoadingTask,vt,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(E,R,B=!1,q=null){this.length=E,this.initialData=R,this.progressiveDone=B,this.contentDispositionFilename=q,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(E){this._rangeListeners.push(E)}addProgressListener(E){this._progressListeners.push(E)}addProgressiveReadListener(E){this._progressiveReadListeners.push(E)}addProgressiveDoneListener(E){this._progressiveDoneListeners.push(E)}onDataRange(E,R){for(const B of this._rangeListeners)B(E,R)}onDataProgress(E,R){this._readyCapability.promise.then(()=>{for(const B of this._progressListeners)B(E,R)})}onDataProgressiveRead(E){this._readyCapability.promise.then(()=>{for(const R of this._progressiveReadListeners)R(E)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const E of this._progressiveDoneListeners)E()})}transportReady(){this._readyCapability.resolve()}requestDataRange(E,R){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(E,R){this._pdfInfo=E,this._transport=R,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(E){return this._transport.getPage(E)}getPageIndex(E){return this._transport.getPageIndex(E)}getDestinations(){return this._transport.getDestinations()}getDestination(E){return this._transport.getDestination(E)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(E=!1){return this._transport.startCleanup(E||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(E,R,B,q,et=!1){this._pageIndex=E,this._pageInfo=R,this._ownerDocument=q,this._transport=B,this._stats=et?new _display_utils.StatTimer:null,this._pdfBug=et,this.commonObjs=B.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:E,rotation:R=this.rotate,offsetX:B=0,offsetY:q=0,dontFlip:et=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:E,rotation:R,offsetX:B,offsetY:q,dontFlip:et})}getAnnotations({intent:E="display"}={}){const R=this._transport.getRenderingIntent(E);let B=this._annotationPromises.get(R.cacheKey);return B||(B=this._transport.getAnnotations(this._pageIndex,R.renderingIntent),this._annotationPromises.set(R.cacheKey,B),B=B.then(q=>{for(const et of q)et.titleObj!==void 0&&Object.defineProperty(et,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),et.titleObj.str}}),et.contentsObj!==void 0&&Object.defineProperty(et,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),et.contentsObj.str}});return q})),B}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var E;return((E=this._transport._htmlForXfa)==null?void 0:E.children[this._pageIndex])||null}render({canvasContext:E,viewport:R,intent:B="display",annotationMode:q=_util.AnnotationMode.ENABLE,transform:et=null,imageLayer:K=null,canvasFactory:ft=null,background:pt=null,optionalContentConfigPromise:St=null,annotationCanvasMap:xt=null,pageColors:ot=null}){var qt,Dt;((qt=arguments[0])==null?void 0:qt.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&q===_util.AnnotationMode.ENABLE&&(q=_util.AnnotationMode.ENABLE_FORMS)),((Dt=arguments[0])==null?void 0:Dt.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&q===_util.AnnotationMode.ENABLE&&(q=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const at=this._transport.getRenderingIntent(B,q);this.pendingCleanup=!1,St||(St=this._transport.getOptionalContentConfig());let bt=this._intentStates.get(at.cacheKey);bt||(bt=Object.create(null),this._intentStates.set(at.cacheKey,bt)),bt.streamReaderCancelTimeout&&(clearTimeout(bt.streamReaderCancelTimeout),bt.streamReaderCancelTimeout=null);const Tt=ft||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),st=!!(at.renderingIntent&_util.RenderingIntentFlag.PRINT);bt.displayReadyCapability||(bt.displayReadyCapability=(0,_util.createPromiseCapability)(),bt.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(at));const Et=Ht=>{bt.renderTasks.delete(X),(this.cleanupAfterRender||st)&&(this.pendingCleanup=!0),this._tryCleanup(),Ht?(X.capability.reject(Ht),this._abortOperatorList({intentState:bt,reason:Ht instanceof Error?Ht:new Error(Ht)})):X.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},X=new InternalRenderTask({callback:Et,params:{canvasContext:E,viewport:R,transform:et,imageLayer:K,background:pt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:xt,operatorList:bt.operatorList,pageIndex:this._pageIndex,canvasFactory:Tt,useRequestAnimationFrame:!st,pdfBug:this._pdfBug,pageColors:ot});(bt.renderTasks||(bt.renderTasks=new Set)).add(X);const Mt=X.task;return Promise.all([bt.displayReadyCapability.promise,St]).then(([Ht,jt])=>{if(this.pendingCleanup){Et();return}this._stats&&this._stats.time("Rendering"),X.initializeGraphics({transparency:Ht,optionalContentConfig:jt}),X.operatorListChanged()}).catch(Et),Mt}getOperatorList({intent:E="display",annotationMode:R=_util.AnnotationMode.ENABLE}={}){function B(){et.operatorList.lastChunk&&(et.opListReadCapability.resolve(et.operatorList),et.renderTasks.delete(K))}const q=this._transport.getRenderingIntent(E,R,!0);let et=this._intentStates.get(q.cacheKey);et||(et=Object.create(null),this._intentStates.set(q.cacheKey,et));let K;return et.opListReadCapability||(K=Object.create(null),K.operatorListChanged=B,et.opListReadCapability=(0,_util.createPromiseCapability)(),(et.renderTasks||(et.renderTasks=new Set)).add(K),et.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(q)),et.opListReadCapability.promise}streamTextContent({disableCombineTextItems:E=!1,includeMarkedContent:R=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:E!==!0,includeMarkedContent:R===!0},{highWaterMark:100,size(q){return q.items.length}})}getTextContent(E={}){if(this._transport._htmlForXfa)return this.getXfa().then(B=>_xfa_text.XfaText.textContent(B));const R=this.streamTextContent(E);return new Promise(function(B,q){function et(){K.read().then(function({value:pt,done:St}){if(St){B(ft);return}Object.assign(ft.styles,pt.styles),ft.items.push(...pt.items),et()},q)}const K=R.getReader(),ft={items:[],styles:Object.create(null)};et()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const E=[];for(const R of this._intentStates.values())if(this._abortOperatorList({intentState:R,reason:new Error("Page was destroyed."),force:!0}),!R.opListReadCapability)for(const B of R.renderTasks)E.push(B.completed),B.cancel();this.objs.clear();for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(E)}cleanup(E=!1){return this.pendingCleanup=!0,this._tryCleanup(E)}_tryCleanup(E=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:R,operatorList:B}of this._intentStates.values())if(R.size>0||!B.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,E&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(E,R){const B=this._intentStates.get(R);!B||(this._stats&&this._stats.timeEnd("Page Request"),B.displayReadyCapability&&B.displayReadyCapability.resolve(E))}_renderPageChunk(E,R){for(let B=0,q=E.length;B<q;B++)R.operatorList.fnArray.push(E.fnArray[B]),R.operatorList.argsArray.push(E.argsArray[B]);R.operatorList.lastChunk=E.lastChunk;for(const B of R.renderTasks)B.operatorListChanged();E.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:E,cacheKey:R}){const q=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:E,cacheKey:R,annotationStorage:E&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),et=this._intentStates.get(R);et.streamReader=q;const K=()=>{q.read().then(({value:ft,done:pt})=>{if(pt){et.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ft,et),K())},ft=>{if(et.streamReader=null,!this._transport.destroyed){if(et.operatorList){et.operatorList.lastChunk=!0;for(const pt of et.renderTasks)pt.operatorListChanged();this._tryCleanup()}if(et.displayReadyCapability)et.displayReadyCapability.reject(ft);else if(et.opListReadCapability)et.opListReadCapability.reject(ft);else throw ft}})};K()}_abortOperatorList({intentState:E,reason:R,force:B=!1}){if(!!E.streamReader){if(!B){if(E.renderTasks.size>0)return;if(R instanceof _display_utils.RenderingCancelledException){E.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:E,reason:R,force:!0}),E.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(E.streamReader.cancel(new _util.AbortException(R.message)).catch(()=>{}),E.streamReader=null,!this._transport.destroyed){for(const[q,et]of this._intentStates)if(et===E){this._intentStates.delete(q);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(E,R){const B={data:structuredClone(E,R)};this._deferred.then(()=>{for(const q of this._listeners)q.call(this,B)})}addEventListener(E,R){this._listeners.push(R)}removeEventListener(E,R){const B=this._listeners.indexOf(R);this._listeners.splice(B,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const D=(Z=document==null?void 0:document.currentScript)==null?void 0:Z.src;D&&(PDFWorkerUtil.fallbackWorkerSrc=D.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(D,E){let R;try{if(R=new URL(D),!R.origin||R.origin==="null")return!1}catch{return!1}const B=new URL(E,R);return R.origin===B.origin},PDFWorkerUtil.createCDNWrapper=function(D){const E=`importScripts("${D}");`;return URL.createObjectURL(new Blob([E]))}}const _PDFWorker=class{constructor({name:D=null,port:E=null,verbosity:R=(0,_util.getVerbosityLevel)()}={}){if(E&&te(_PDFWorker,W).has(E))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=D,this.destroyed=!1,this.verbosity=R,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,E){te(_PDFWorker,W).set(E,this),this._initializeFromPort(E);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(D){this._port=D,this._messageHandler=new _message_handler.MessageHandler("main","worker",D),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker!="undefined"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let D=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,D)||(D=PDFWorkerUtil.createCDNWrapper(new URL(D,window.location).href));const E=new Worker(D),R=new _message_handler.MessageHandler("main","worker",E),B=()=>{E.removeEventListener("error",q),R.destroy(),E.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},q=()=>{this._webWorker||B()};E.addEventListener("error",q),R.on("test",K=>{if(E.removeEventListener("error",q),this.destroyed){B();return}K?(this._messageHandler=R,this._port=E,this._webWorker=E,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),R.destroy(),E.terminate())}),R.on("ready",K=>{if(E.removeEventListener("error",q),this.destroyed){B();return}try{et()}catch{this._setupFakeWorker()}});const et=()=>{const K=new Uint8Array;R.send("test",K,[K.buffer])};et();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(D=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const E=new LoopbackPort;this._port=E;const R=`fake${PDFWorkerUtil.fakeWorkerId++}`,B=new _message_handler.MessageHandler(R+"_worker",R,E);D.setup(B,E);const q=new _message_handler.MessageHandler(R,R+"_worker",E);this._messageHandler=q,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})}).catch(D=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${D.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),te(_PDFWorker,W).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(D){if(!(D!=null&&D.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return te(this,W).has(D.port)?te(this,W).get(D.port):new _PDFWorker(D)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var D;try{return((D=globalThis.pdfjsWorker)==null?void 0:D.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;W=new WeakMap,ue(PDFWorker,W,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(E,R,B,q){ue(this,yt,null);ue(this,J,new Map);ue(this,ht,new Map);ue(this,rt,null);this.messageHandler=E,this.loadingTask=R,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:R.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:q.ownerDocument,styleElement:q.styleElement}),this._params=q,q.useWorkerFetch||(this.CMapReaderFactory=new q.CMapReaderFactory({baseUrl:q.cMapUrl,isCompressed:q.cMapPacked}),this.StandardFontDataFactory=new q.StandardFontDataFactory({baseUrl:q.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=B,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return te(this,yt)}getRenderingIntent(E,R=_util.AnnotationMode.ENABLE,B=!1){let q=_util.RenderingIntentFlag.DISPLAY,et="";switch(E){case"any":q=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":q=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${E}`)}switch(R){case _util.AnnotationMode.DISABLE:q+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:q+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:q+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,et=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${R}`)}return B&&(q+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:q,cacheKey:`${q}_${et}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const E=[];for(const B of te(this,J).values())E.push(B._destroy());te(this,J).clear(),te(this,ht).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const R=this.messageHandler.sendWithPromise("Terminate",null);return E.push(R),Promise.all(E).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),pe(this,rt,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:E,loadingTask:R}=this;E.on("GetReader",(B,q)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=et=>{this._lastProgress={loaded:et.loaded,total:et.total}},q.onPull=()=>{this._fullReader.read().then(function({value:et,done:K}){if(K){q.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(et),"GetReader - expected an ArrayBuffer."),q.enqueue(new Uint8Array(et),1,[et])}).catch(et=>{q.error(et)})},q.onCancel=et=>{this._fullReader.cancel(et),q.ready.catch(K=>{if(!this.destroyed)throw K})}}),E.on("ReaderHeadersReady",B=>{const q=(0,_util.createPromiseCapability)(),et=this._fullReader;return et.headersReady.then(()=>{var K;(!et.isStreamingSupported||!et.isRangeSupported)&&(this._lastProgress&&((K=R.onProgress)==null||K.call(R,this._lastProgress)),et.onProgress=ft=>{var pt;(pt=R.onProgress)==null||pt.call(R,{loaded:ft.loaded,total:ft.total})}),q.resolve({isStreamingSupported:et.isStreamingSupported,isRangeSupported:et.isRangeSupported,contentLength:et.contentLength})},q.reject),q.promise}),E.on("GetRangeReader",(B,q)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const et=this._networkStream.getRangeReader(B.begin,B.end);if(!et){q.close();return}q.onPull=()=>{et.read().then(function({value:K,done:ft}){if(ft){q.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(K),"GetRangeReader - expected an ArrayBuffer."),q.enqueue(new Uint8Array(K),1,[K])}).catch(K=>{q.error(K)})},q.onCancel=K=>{et.cancel(K),q.ready.catch(ft=>{if(!this.destroyed)throw ft})}}),E.on("GetDoc",({pdfInfo:B})=>{this._numPages=B.numPages,this._htmlForXfa=B.htmlForXfa,delete B.htmlForXfa,R._capability.resolve(new PDFDocumentProxy(B,this))}),E.on("DocException",function(B){let q;switch(B.name){case"PasswordException":q=new _util.PasswordException(B.message,B.code);break;case"InvalidPDFException":q=new _util.InvalidPDFException(B.message);break;case"MissingPDFException":q=new _util.MissingPDFException(B.message);break;case"UnexpectedResponseException":q=new _util.UnexpectedResponseException(B.message,B.status);break;case"UnknownErrorException":q=new _util.UnknownErrorException(B.message,B.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}R._capability.reject(q)}),E.on("PasswordRequest",B=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),R.onPassword){const q=et=>{et instanceof Error?this._passwordCapability.reject(et):this._passwordCapability.resolve({password:et})};try{R.onPassword(q,B.code)}catch(et){this._passwordCapability.reject(et)}}else this._passwordCapability.reject(new _util.PasswordException(B.message,B.code));return this._passwordCapability.promise}),E.on("DataLoaded",B=>{var q;(q=R.onProgress)==null||q.call(R,{loaded:B.length,total:B.length}),this.downloadInfoCapability.resolve(B)}),E.on("StartRenderPage",B=>{if(this.destroyed)return;te(this,J).get(B.pageIndex)._startRenderPage(B.transparency,B.cacheKey)}),E.on("commonobj",([B,q,et])=>{var K;if(!this.destroyed&&!this.commonObjs.has(B))switch(q){case"Font":const ft=this._params;if("error"in et){const xt=et.error;(0,_util.warn)(`Error during font loading: ${xt}`),this.commonObjs.resolve(B,xt);break}let pt=null;ft.pdfBug&&((K=globalThis.FontInspector)==null?void 0:K.enabled)&&(pt={registerFont(xt,ot){globalThis.FontInspector.fontAdded(xt,ot)}});const St=new _font_loader.FontFaceObject(et,{isEvalSupported:ft.isEvalSupported,disableFontFace:ft.disableFontFace,ignoreErrors:ft.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:pt});this.fontLoader.bind(St).catch(xt=>E.sendWithPromise("FontFallback",{id:B})).finally(()=>{!ft.fontExtraProperties&&St.data&&(St.data=null),this.commonObjs.resolve(B,St)});break;case"FontPath":case"Image":this.commonObjs.resolve(B,et);break;default:throw new Error(`Got unknown common object type ${q}`)}}),E.on("obj",([B,q,et,K])=>{var pt;if(this.destroyed)return;const ft=te(this,J).get(q);if(!ft.objs.has(B))switch(et){case"Image":ft.objs.resolve(B,K);const St=8e6;if(K){let xt;if(K.bitmap){const{bitmap:ot,width:at,height:bt}=K;xt=at*bt*4,ft._bitmaps.add(ot)}else xt=((pt=K.data)==null?void 0:pt.length)||0;xt>St&&(ft.cleanupAfterRender=!0)}break;case"Pattern":ft.objs.resolve(B,K);break;default:throw new Error(`Got unknown object type ${et}`)}}),E.on("DocProgress",B=>{var q;this.destroyed||(q=R.onProgress)==null||q.call(R,{loaded:B.loaded,total:B.total})}),E.on("DocStats",B=>{this.destroyed||pe(this,yt,Object.freeze({streamTypes:Object.freeze(B.streamTypes),fontTypes:Object.freeze(B.fontTypes)}))}),E.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),E.on("FetchBuiltInCMap",B=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(B):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),E.on("FetchStandardFontData",B=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(B):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:E}){var R,B;this.destroyed||(B=(R=this.loadingTask).onUnsupportedFeature)==null||B.call(R,E)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(E){if(!Number.isInteger(E)||E<=0||E>this._numPages)return Promise.reject(new Error("Invalid page request."));const R=E-1,B=te(this,ht).get(R);if(B)return B;const q=this.messageHandler.sendWithPromise("GetPage",{pageIndex:R}).then(et=>{if(this.destroyed)throw new Error("Transport destroyed");const K=new PDFPageProxy(R,et,this,this._params.ownerDocument,this._params.pdfBug);return te(this,J).set(R,K),K});return te(this,ht).set(R,q),q}getPageIndex(E){return typeof E!="object"||E===null||!Number.isInteger(E.num)||E.num<0||!Number.isInteger(E.gen)||E.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:E.num,gen:E.gen})}getAnnotations(E,R){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:E,intent:R})}saveDocument(){var E,R;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(R=(E=this._fullReader)==null?void 0:E.filename)!=null?R:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(E){return typeof E!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:E})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(E){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:E})}getStructTree(E){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:E})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(E=>new _optional_content_config.OptionalContentConfig(E))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return te(this,rt)||pe(this,rt,this.messageHandler.sendWithPromise("GetMetadata",null).then(E=>{var R,B,q,et;return{info:E[0],metadata:E[1]?new _metadata.Metadata(E[1]):null,contentDispositionFilename:(B=(R=this._fullReader)==null?void 0:R.filename)!=null?B:null,contentLength:(et=(q=this._fullReader)==null?void 0:q.contentLength)!=null?et:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(E=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const R of te(this,J).values())if(!R.cleanup())throw new Error(`startCleanup: Page ${R.pageNumber} is currently rendering.`);this.commonObjs.clear(),E||this.fontLoader.clear(),pe(this,rt,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const E=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:E.disableAutoFetch,enableXfa:E.enableXfa})}}yt=new WeakMap,J=new WeakMap,ht=new WeakMap,rt=new WeakMap;class PDFObjects{constructor(){ue(this,Y);ue(this,it,Object.create(null))}get(E,R=null){if(R){const q=ye(this,Y,Te).call(this,E);return q.capability.promise.then(()=>R(q.data)),null}const B=te(this,it)[E];if(!(B!=null&&B.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${E}.`);return B.data}has(E){const R=te(this,it)[E];return(R==null?void 0:R.capability.settled)||!1}resolve(E,R=null){const B=ye(this,Y,Te).call(this,E);B.data=R,B.capability.resolve()}clear(){pe(this,it,Object.create(null))}}it=new WeakMap,Y=new WeakSet,Te=function(E){const R=te(this,it)[E];return R||(te(this,it)[E]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(E){this._internalRenderTask=E,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const lt=class{constructor({callback:E,params:R,objs:B,commonObjs:q,annotationCanvasMap:et,operatorList:K,pageIndex:ft,canvasFactory:pt,useRequestAnimationFrame:St=!1,pdfBug:xt=!1,pageColors:ot=null}){this.callback=E,this.params=R,this.objs=B,this.commonObjs=q,this.annotationCanvasMap=et,this.operatorListIdx=null,this.operatorList=K,this._pageIndex=ft,this.canvasFactory=pt,this._pdfBug=xt,this.pageColors=ot,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=St===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=R.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:E=!1,optionalContentConfig:R}){var pt;if(this.cancelled)return;if(this._canvas){if(te(lt,ct).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");te(lt,ct).add(this._canvas)}this._pdfBug&&((pt=globalThis.StepperManager)==null?void 0:pt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:B,viewport:q,transform:et,imageLayer:K,background:ft}=this.params;this.gfx=new _canvas.CanvasGraphics(B,this.commonObjs,this.objs,this.canvasFactory,K,R,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:et,viewport:q,transparency:E,background:ft}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(E=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&te(lt,ct).delete(this._canvas),this.callback(E||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&te(lt,ct).delete(this._canvas),this.callback())))}};let InternalRenderTask=lt;ct=new WeakMap,ue(InternalRenderTask,ct,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.StatTimer=nt.RenderingCancelledException=nt.PixelsPerInch=nt.PageViewport=nt.PDFDateString=nt.DOMStandardFontDataFactory=nt.DOMSVGFactory=nt.DOMCanvasFactory=nt.DOMCMapReaderFactory=void 0,nt.deprecated=pt,nt.getFilenameFromUrl=B,nt.getPdfFilenameFromUrl=q,nt.getXfaPageViewport=ot,nt.isDataScheme=E,nt.isPdfFile=R,nt.isValidFetchUrl=K,nt.loadScript=ft;var W=Z(6),yt=Z(1);const J="http://www.w3.org/2000/svg",at=class{};let ht=at;Se(ht,"CSS",96),Se(ht,"PDF",72),Se(ht,"PDF_TO_CSS_UNITS",at.CSS/at.PDF),nt.PixelsPerInch=ht;class rt extends W.BaseCanvasFactory{constructor({ownerDocument:Tt=globalThis.document}={}){super(),this._document=Tt}_createCanvas(Tt,st){const Et=this._document.createElement("canvas");return Et.width=Tt,Et.height=st,Et}}nt.DOMCanvasFactory=rt;async function it(bt,Tt=!1){if(K(bt,document.baseURI)){const st=await fetch(bt);if(!st.ok)throw new Error(st.statusText);return Tt?new Uint8Array(await st.arrayBuffer()):(0,yt.stringToBytes)(await st.text())}return new Promise((st,Et)=>{const X=new XMLHttpRequest;X.open("GET",bt,!0),Tt&&(X.responseType="arraybuffer"),X.onreadystatechange=()=>{if(X.readyState===XMLHttpRequest.DONE){if(X.status===200||X.status===0){let Mt;if(Tt&&X.response?Mt=new Uint8Array(X.response):!Tt&&X.responseText&&(Mt=(0,yt.stringToBytes)(X.responseText)),Mt){st(Mt);return}}Et(new Error(X.statusText))}},X.send(null)})}class Y extends W.BaseCMapReaderFactory{_fetchData(Tt,st){return it(Tt,this.isCompressed).then(Et=>({cMapData:Et,compressionType:st}))}}nt.DOMCMapReaderFactory=Y;class V extends W.BaseStandardFontDataFactory{_fetchData(Tt){return it(Tt,!0)}}nt.DOMStandardFontDataFactory=V;class ct extends W.BaseSVGFactory{_createSVG(Tt){return document.createElementNS(J,Tt)}}nt.DOMSVGFactory=ct;class lt{constructor({viewBox:Tt,scale:st,rotation:Et,offsetX:X=0,offsetY:Mt=0,dontFlip:qt=!1}){this.viewBox=Tt,this.scale=st,this.rotation=Et,this.offsetX=X,this.offsetY=Mt;const Dt=(Tt[2]+Tt[0])/2,Ht=(Tt[3]+Tt[1])/2;let jt,Gt,ut,G;switch(Et%=360,Et<0&&(Et+=360),Et){case 180:jt=-1,Gt=0,ut=0,G=1;break;case 90:jt=0,Gt=1,ut=1,G=0;break;case 270:jt=0,Gt=-1,ut=-1,G=0;break;case 0:jt=1,Gt=0,ut=0,G=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}qt&&(ut=-ut,G=-G);let tt,gt,A,Q;jt===0?(tt=Math.abs(Ht-Tt[1])*st+X,gt=Math.abs(Dt-Tt[0])*st+Mt,A=Math.abs(Tt[3]-Tt[1])*st,Q=Math.abs(Tt[2]-Tt[0])*st):(tt=Math.abs(Dt-Tt[0])*st+X,gt=Math.abs(Ht-Tt[1])*st+Mt,A=Math.abs(Tt[2]-Tt[0])*st,Q=Math.abs(Tt[3]-Tt[1])*st),this.transform=[jt*st,Gt*st,ut*st,G*st,tt-jt*st*Dt-ut*st*Ht,gt-Gt*st*Dt-G*st*Ht],this.width=A,this.height=Q}clone({scale:Tt=this.scale,rotation:st=this.rotation,offsetX:Et=this.offsetX,offsetY:X=this.offsetY,dontFlip:Mt=!1}={}){return new lt({viewBox:this.viewBox.slice(),scale:Tt,rotation:st,offsetX:Et,offsetY:X,dontFlip:Mt})}convertToViewportPoint(Tt,st){return yt.Util.applyTransform([Tt,st],this.transform)}convertToViewportRectangle(Tt){const st=yt.Util.applyTransform([Tt[0],Tt[1]],this.transform),Et=yt.Util.applyTransform([Tt[2],Tt[3]],this.transform);return[st[0],st[1],Et[0],Et[1]]}convertToPdfPoint(Tt,st){return yt.Util.applyInverseTransform([Tt,st],this.transform)}}nt.PageViewport=lt;class D extends yt.BaseException{constructor(Tt,st){super(Tt,"RenderingCancelledException"),this.type=st}}nt.RenderingCancelledException=D;function E(bt){const Tt=bt.length;let st=0;for(;st<Tt&&bt[st].trim()==="";)st++;return bt.substring(st,st+5).toLowerCase()==="data:"}function R(bt){return typeof bt=="string"&&/\.pdf$/i.test(bt)}function B(bt){const Tt=bt.indexOf("#"),st=bt.indexOf("?"),Et=Math.min(Tt>0?Tt:bt.length,st>0?st:bt.length);return bt.substring(bt.lastIndexOf("/",Et)+1,Et)}function q(bt,Tt="document.pdf"){if(typeof bt!="string")return Tt;if(E(bt))return(0,yt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Tt;const st=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Et=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,X=st.exec(bt);let Mt=Et.exec(X[1])||Et.exec(X[2])||Et.exec(X[3]);if(Mt&&(Mt=Mt[0],Mt.includes("%")))try{Mt=Et.exec(decodeURIComponent(Mt))[0]}catch{}return Mt||Tt}class et{constructor(){this.started=Object.create(null),this.times=[]}time(Tt){Tt in this.started&&(0,yt.warn)(`Timer is already running for ${Tt}`),this.started[Tt]=Date.now()}timeEnd(Tt){Tt in this.started||(0,yt.warn)(`Timer has not been started for ${Tt}`),this.times.push({name:Tt,start:this.started[Tt],end:Date.now()}),delete this.started[Tt]}toString(){const Tt=[];let st=0;for(const Et of this.times){const X=Et.name;X.length>st&&(st=X.length)}for(const Et of this.times){const X=Et.end-Et.start;Tt.push(`${Et.name.padEnd(st)} ${X}ms
`)}return Tt.join("")}}nt.StatTimer=et;function K(bt,Tt){try{const{protocol:st}=Tt?new URL(bt,Tt):new URL(bt);return st==="http:"||st==="https:"}catch{return!1}}function ft(bt,Tt=!1){return new Promise((st,Et)=>{const X=document.createElement("script");X.src=bt,X.onload=function(Mt){Tt&&X.remove(),st(Mt)},X.onerror=function(){Et(new Error(`Cannot load script at: ${X.src}`))},(document.head||document.documentElement).appendChild(X)})}function pt(bt){console.log("Deprecated API usage: "+bt)}let St;class xt{static toDateObject(Tt){if(!Tt||typeof Tt!="string")return null;St||(St=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const st=St.exec(Tt);if(!st)return null;const Et=parseInt(st[1],10);let X=parseInt(st[2],10);X=X>=1&&X<=12?X-1:0;let Mt=parseInt(st[3],10);Mt=Mt>=1&&Mt<=31?Mt:1;let qt=parseInt(st[4],10);qt=qt>=0&&qt<=23?qt:0;let Dt=parseInt(st[5],10);Dt=Dt>=0&&Dt<=59?Dt:0;let Ht=parseInt(st[6],10);Ht=Ht>=0&&Ht<=59?Ht:0;const jt=st[7]||"Z";let Gt=parseInt(st[8],10);Gt=Gt>=0&&Gt<=23?Gt:0;let ut=parseInt(st[9],10)||0;return ut=ut>=0&&ut<=59?ut:0,jt==="-"?(qt+=Gt,Dt+=ut):jt==="+"&&(qt-=Gt,Dt-=ut),new Date(Date.UTC(Et,X,Mt,qt,Dt,Ht))}}nt.PDFDateString=xt;function ot(bt,{scale:Tt=1,rotation:st=0}){const{width:Et,height:X}=bt.attributes.style,Mt=[0,0,parseInt(Et),parseInt(X)];return new lt({viewBox:Mt,scale:Tt,rotation:st})}},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.BaseStandardFontDataFactory=nt.BaseSVGFactory=nt.BaseCanvasFactory=nt.BaseCMapReaderFactory=void 0;var W=Z(1);class yt{constructor(){this.constructor===yt&&(0,W.unreachable)("Cannot initialize BaseCanvasFactory.")}create(Y,V){if(Y<=0||V<=0)throw new Error("Invalid canvas size");const ct=this._createCanvas(Y,V);return{canvas:ct,context:ct.getContext("2d")}}reset(Y,V,ct){if(!Y.canvas)throw new Error("Canvas is not specified");if(V<=0||ct<=0)throw new Error("Invalid canvas size");Y.canvas.width=V,Y.canvas.height=ct}destroy(Y){if(!Y.canvas)throw new Error("Canvas is not specified");Y.canvas.width=0,Y.canvas.height=0,Y.canvas=null,Y.context=null}_createCanvas(Y,V){(0,W.unreachable)("Abstract method `_createCanvas` called.")}}nt.BaseCanvasFactory=yt;class J{constructor({baseUrl:Y=null,isCompressed:V=!1}){this.constructor===J&&(0,W.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=Y,this.isCompressed=V}async fetch({name:Y}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!Y)throw new Error("CMap name must be specified.");const V=this.baseUrl+Y+(this.isCompressed?".bcmap":""),ct=this.isCompressed?W.CMapCompressionType.BINARY:W.CMapCompressionType.NONE;return this._fetchData(V,ct).catch(lt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${V}`)})}_fetchData(Y,V){(0,W.unreachable)("Abstract method `_fetchData` called.")}}nt.BaseCMapReaderFactory=J;class ht{constructor({baseUrl:Y=null}){this.constructor===ht&&(0,W.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=Y}async fetch({filename:Y}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!Y)throw new Error("Font filename must be specified.");const V=`${this.baseUrl}${Y}`;return this._fetchData(V).catch(ct=>{throw new Error(`Unable to load font data at: ${V}`)})}_fetchData(Y){(0,W.unreachable)("Abstract method `_fetchData` called.")}}nt.BaseStandardFontDataFactory=ht;class rt{constructor(){this.constructor===rt&&(0,W.unreachable)("Cannot initialize BaseSVGFactory.")}create(Y,V){if(Y<=0||V<=0)throw new Error("Invalid SVG dimensions");const ct=this._createSVG("svg:svg");return ct.setAttribute("version","1.1"),ct.setAttribute("width",`${Y}px`),ct.setAttribute("height",`${V}px`),ct.setAttribute("preserveAspectRatio","none"),ct.setAttribute("viewBox",`0 0 ${Y} ${V}`),ct}createElement(Y){if(typeof Y!="string")throw new Error("Invalid SVG element type");return this._createSVG(Y)}_createSVG(Y){(0,W.unreachable)("Abstract method `_createSVG` called.")}}nt.BaseSVGFactory=rt},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.FontLoader=nt.FontFaceObject=void 0;var W=Z(1);class yt{constructor({docId:it,onUnsupportedFeature:Y,ownerDocument:V=globalThis.document,styleElement:ct=null}){this.constructor===yt&&(0,W.unreachable)("Cannot initialize BaseFontLoader."),this.docId=it,this._onUnsupportedFeature=Y,this._document=V,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(it){this.nativeFontFaces.push(it),this._document.fonts.add(it)}insertRule(it){let Y=this.styleElement;Y||(Y=this.styleElement=this._document.createElement("style"),Y.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(Y));const V=Y.sheet;V.insertRule(it,V.cssRules.length)}clear(){for(const it of this.nativeFontFaces)this._document.fonts.delete(it);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(it){if(it.attached||it.missingFile)return;if(it.attached=!0,this.isFontLoadingAPISupported){const V=it.createNativeFontFace();if(V){this.addNativeFontFace(V);try{await V.loaded}catch(ct){throw this._onUnsupportedFeature({featureId:W.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,W.warn)(`Failed to load font '${V.family}': '${ct}'.`),it.disableFontFace=!0,ct}}return}const Y=it.createFontFaceRule();if(Y){if(this.insertRule(Y),this.isSyncFontLoadingSupported)return;await new Promise(V=>{const ct=this._queueLoadingCallback(V);this._prepareFontLoadEvent([Y],[it],ct)})}}_queueLoadingCallback(it){(0,W.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var Y;const it=!!((Y=this._document)!=null&&Y.fonts);return(0,W.shadow)(this,"isFontLoadingAPISupported",it)}get isSyncFontLoadingSupported(){(0,W.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,W.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(it,Y,V){(0,W.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let J;nt.FontLoader=J,nt.FontLoader=J=class extends yt{constructor(it){super(it),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let it=!1;if(typeof navigator=="undefined")it=!0;else{const Y=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(Y==null?void 0:Y[1])>=14&&(it=!0)}return(0,W.shadow)(this,"isSyncFontLoadingSupported",it)}_queueLoadingCallback(it){function Y(){for((0,W.assert)(!ct.done,"completeRequest() cannot be called twice."),ct.done=!0;V.requests.length>0&&V.requests[0].done;){const lt=V.requests.shift();setTimeout(lt.callback,0)}}const V=this.loadingContext,ct={id:`pdfjs-font-loading-${V.nextRequestId++}`,done:!1,complete:Y,callback:it};return V.requests.push(ct),ct}get _loadTestFont(){const it=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,W.shadow)(this,"_loadTestFont",it())}_prepareFontLoadEvent(it,Y,V){function ct(Et,X){return Et.charCodeAt(X)<<24|Et.charCodeAt(X+1)<<16|Et.charCodeAt(X+2)<<8|Et.charCodeAt(X+3)&255}function lt(Et,X,Mt,qt){const Dt=Et.substring(0,X),Ht=Et.substring(X+Mt);return Dt+qt+Ht}let D,E;const R=this._document.createElement("canvas");R.width=1,R.height=1;const B=R.getContext("2d");let q=0;function et(Et,X){if(q++,q>30){(0,W.warn)("Load test font never loaded."),X();return}if(B.font="30px "+Et,B.fillText(".",0,20),B.getImageData(0,0,1,1).data[3]>0){X();return}setTimeout(et.bind(null,Et,X))}const K=`lt${Date.now()}${this.loadTestFontId++}`;let ft=this._loadTestFont;ft=lt(ft,976,K.length,K);const St=16,xt=1482184792;let ot=ct(ft,St);for(D=0,E=K.length-3;D<E;D+=4)ot=ot-xt+ct(K,D)|0;D<K.length&&(ot=ot-xt+ct(K+"XXX",D)|0),ft=lt(ft,St,4,(0,W.string32)(ot));const at=`url(data:font/opentype;base64,${btoa(ft)});`,bt=`@font-face {font-family:"${K}";src:${at}}`;this.insertRule(bt);const Tt=[];for(const Et of Y)Tt.push(Et.loadedName);Tt.push(K);const st=this._document.createElement("div");st.style.visibility="hidden",st.style.width=st.style.height="10px",st.style.position="absolute",st.style.top=st.style.left="0px";for(const Et of Tt){const X=this._document.createElement("span");X.textContent="Hi",X.style.fontFamily=Et,st.appendChild(X)}this._document.body.appendChild(st),et(K,()=>{st.remove(),V.complete()})}};class ht{constructor(it,{isEvalSupported:Y=!0,disableFontFace:V=!1,ignoreErrors:ct=!1,onUnsupportedFeature:lt,fontRegistry:D=null}){this.compiledGlyphs=Object.create(null);for(const E in it)this[E]=it[E];this.isEvalSupported=Y!==!1,this.disableFontFace=V===!0,this.ignoreErrors=ct===!0,this._onUnsupportedFeature=lt,this.fontRegistry=D}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let it;if(!this.cssFontInfo)it=new FontFace(this.loadedName,this.data,{});else{const Y={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Y.style=`oblique ${this.cssFontInfo.italicAngle}deg`),it=new FontFace(this.cssFontInfo.fontFamily,this.data,Y)}return this.fontRegistry&&this.fontRegistry.registerFont(this),it}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const it=(0,W.bytesToString)(this.data),Y=`url(data:${this.mimetype};base64,${btoa(it)});`;let V;if(!this.cssFontInfo)V=`@font-face {font-family:"${this.loadedName}";src:${Y}}`;else{let ct=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ct+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),V=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ct}src:${Y}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,Y),V}getPathGenerator(it,Y){if(this.compiledGlyphs[Y]!==void 0)return this.compiledGlyphs[Y];let V;try{V=it.get(this.loadedName+"_path_"+Y)}catch(ct){if(!this.ignoreErrors)throw ct;return this._onUnsupportedFeature({featureId:W.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,W.warn)(`getPathGenerator - ignoring character: "${ct}".`),this.compiledGlyphs[Y]=function(lt,D){}}if(this.isEvalSupported&&W.FeatureTest.isEvalSupported){const ct=[];for(const lt of V){const D=lt.args!==void 0?lt.args.join(","):"";ct.push("c.",lt.cmd,"(",D,`);
`)}return this.compiledGlyphs[Y]=new Function("c","size",ct.join(""))}return this.compiledGlyphs[Y]=function(ct,lt){for(const D of V)D.cmd==="scale"&&(D.args=[lt,-lt]),ct[D.cmd].apply(ct,D.args)}}}nt.FontFaceObject=ht},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.AnnotationStorage=void 0;var W=Z(9),yt=Z(1);class J{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(rt,it){const Y=this._storage.get(rt);return Y===void 0?it:Object.assign(it,Y)}getRawValue(rt){return this._storage.get(rt)}setValue(rt,it){const Y=this._storage.get(rt);let V=!1;if(Y!==void 0)for(const[ct,lt]of Object.entries(it))Y[ct]!==lt&&(V=!0,Y[ct]=lt);else V=!0,this._storage.set(rt,it);V&&this._setModified()}getAll(){return this._storage.size>0?(0,yt.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const rt=new W.MurmurHash3_64;for(const[it,Y]of this._storage)rt.update(`${it}:${JSON.stringify(Y)}`);return rt.hexdigest()}}nt.AnnotationStorage=J},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.MurmurHash3_64=void 0;var W=Z(1);const yt=3285377520,J=4294901760,ht=65535;class rt{constructor(Y){this.h1=Y?Y&4294967295:yt,this.h2=Y?Y&4294967295:yt}update(Y){let V,ct;if(typeof Y=="string"){V=new Uint8Array(Y.length*2),ct=0;for(let xt=0,ot=Y.length;xt<ot;xt++){const at=Y.charCodeAt(xt);at<=255?V[ct++]=at:(V[ct++]=at>>>8,V[ct++]=at&255)}}else if((0,W.isArrayBuffer)(Y))V=Y.slice(),ct=V.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const lt=ct>>2,D=ct-lt*4,E=new Uint32Array(V.buffer,0,lt);let R=0,B=0,q=this.h1,et=this.h2;const K=3432918353,ft=461845907,pt=K&ht,St=ft&ht;for(let xt=0;xt<lt;xt++)xt&1?(R=E[xt],R=R*K&J|R*pt&ht,R=R<<15|R>>>17,R=R*ft&J|R*St&ht,q^=R,q=q<<13|q>>>19,q=q*5+3864292196):(B=E[xt],B=B*K&J|B*pt&ht,B=B<<15|B>>>17,B=B*ft&J|B*St&ht,et^=B,et=et<<13|et>>>19,et=et*5+3864292196);switch(R=0,D){case 3:R^=V[lt*4+2]<<16;case 2:R^=V[lt*4+1]<<8;case 1:R^=V[lt*4],R=R*K&J|R*pt&ht,R=R<<15|R>>>17,R=R*ft&J|R*St&ht,lt&1?q^=R:et^=R}this.h1=q,this.h2=et}hexdigest(){let Y=this.h1,V=this.h2;Y^=V>>>1,Y=Y*3981806797&J|Y*36045&ht,V=V*4283543511&J|((V<<16|Y>>>16)*2950163797&J)>>>16,Y^=V>>>1,Y=Y*444984403&J|Y*60499&ht,V=V*3301882366&J|((V<<16|Y>>>16)*3120437893&J)>>>16,Y^=V>>>1;const ct=(Y>>>0).toString(16),lt=(V>>>0).toString(16);return ct.padStart(8,"0")+lt.padStart(8,"0")}}nt.MurmurHash3_64=rt},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.CanvasGraphics=void 0;var W=Z(1),yt=Z(11),J=Z(12),ht=Z(3),rt=Z(5);const it=16,Y=100,V=4096,ct=15,lt=10,D=1e3,E=16,R=1.000001;function B(ut,G){if(ut._removeMirroring)throw new Error("Context is already forwarding operations.");ut.__originalSave=ut.save,ut.__originalRestore=ut.restore,ut.__originalRotate=ut.rotate,ut.__originalScale=ut.scale,ut.__originalTranslate=ut.translate,ut.__originalTransform=ut.transform,ut.__originalSetTransform=ut.setTransform,ut.__originalResetTransform=ut.resetTransform,ut.__originalClip=ut.clip,ut.__originalMoveTo=ut.moveTo,ut.__originalLineTo=ut.lineTo,ut.__originalBezierCurveTo=ut.bezierCurveTo,ut.__originalRect=ut.rect,ut.__originalClosePath=ut.closePath,ut.__originalBeginPath=ut.beginPath,ut._removeMirroring=()=>{ut.save=ut.__originalSave,ut.restore=ut.__originalRestore,ut.rotate=ut.__originalRotate,ut.scale=ut.__originalScale,ut.translate=ut.__originalTranslate,ut.transform=ut.__originalTransform,ut.setTransform=ut.__originalSetTransform,ut.resetTransform=ut.__originalResetTransform,ut.clip=ut.__originalClip,ut.moveTo=ut.__originalMoveTo,ut.lineTo=ut.__originalLineTo,ut.bezierCurveTo=ut.__originalBezierCurveTo,ut.rect=ut.__originalRect,ut.closePath=ut.__originalClosePath,ut.beginPath=ut.__originalBeginPath,delete ut._removeMirroring},ut.save=function(){G.save(),this.__originalSave()},ut.restore=function(){G.restore(),this.__originalRestore()},ut.translate=function(gt,A){G.translate(gt,A),this.__originalTranslate(gt,A)},ut.scale=function(gt,A){G.scale(gt,A),this.__originalScale(gt,A)},ut.transform=function(gt,A,Q,dt,_t,mt){G.transform(gt,A,Q,dt,_t,mt),this.__originalTransform(gt,A,Q,dt,_t,mt)},ut.setTransform=function(gt,A,Q,dt,_t,mt){G.setTransform(gt,A,Q,dt,_t,mt),this.__originalSetTransform(gt,A,Q,dt,_t,mt)},ut.resetTransform=function(){G.resetTransform(),this.__originalResetTransform()},ut.rotate=function(gt){G.rotate(gt),this.__originalRotate(gt)},ut.clip=function(gt){G.clip(gt),this.__originalClip(gt)},ut.moveTo=function(tt,gt){G.moveTo(tt,gt),this.__originalMoveTo(tt,gt)},ut.lineTo=function(tt,gt){G.lineTo(tt,gt),this.__originalLineTo(tt,gt)},ut.bezierCurveTo=function(tt,gt,A,Q,dt,_t){G.bezierCurveTo(tt,gt,A,Q,dt,_t),this.__originalBezierCurveTo(tt,gt,A,Q,dt,_t)},ut.rect=function(tt,gt,A,Q){G.rect(tt,gt,A,Q),this.__originalRect(tt,gt,A,Q)},ut.closePath=function(){G.closePath(),this.__originalClosePath()},ut.beginPath=function(){G.beginPath(),this.__originalBeginPath()}}function q(ut){if(ut._transformStack&&(ut._transformStack=[]),!ut.mozCurrentTransform){ut._originalSave=ut.save,ut._originalRestore=ut.restore,ut._originalRotate=ut.rotate,ut._originalScale=ut.scale,ut._originalTranslate=ut.translate,ut._originalTransform=ut.transform,ut._originalSetTransform=ut.setTransform,ut._originalResetTransform=ut.resetTransform,ut._transformMatrix=ut._transformMatrix||[1,0,0,1,0,0],ut._transformStack=[];try{const G=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ut),"lineWidth");ut._setLineWidth=G.set,ut._getLineWidth=G.get,Object.defineProperty(ut,"lineWidth",{set:function(gt){this._setLineWidth(gt*R)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(ut,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ut,"mozCurrentTransformInverse",{get:function(){const[tt,gt,A,Q,dt,_t]=this._transformMatrix,mt=tt*Q-gt*A,Ct=gt*A-tt*Q;return[Q/mt,gt/Ct,A/Ct,tt/mt,(Q*dt-A*_t)/Ct,(gt*dt-tt*_t)/mt]}}),ut.save=function(){const tt=this._transformMatrix;this._transformStack.push(tt),this._transformMatrix=tt.slice(0,6),this._originalSave()},ut.restore=function(){this._transformStack.length===0&&(0,W.warn)("Tried to restore a ctx when the stack was already empty.");const tt=this._transformStack.pop();tt&&(this._transformMatrix=tt,this._originalRestore())},ut.translate=function(tt,gt){const A=this._transformMatrix;A[4]=A[0]*tt+A[2]*gt+A[4],A[5]=A[1]*tt+A[3]*gt+A[5],this._originalTranslate(tt,gt)},ut.scale=function(tt,gt){const A=this._transformMatrix;A[0]*=tt,A[1]*=tt,A[2]*=gt,A[3]*=gt,this._originalScale(tt,gt)},ut.transform=function(tt,gt,A,Q,dt,_t){const mt=this._transformMatrix;this._transformMatrix=[mt[0]*tt+mt[2]*gt,mt[1]*tt+mt[3]*gt,mt[0]*A+mt[2]*Q,mt[1]*A+mt[3]*Q,mt[0]*dt+mt[2]*_t+mt[4],mt[1]*dt+mt[3]*_t+mt[5]],ut._originalTransform(tt,gt,A,Q,dt,_t)},ut.setTransform=function(tt,gt,A,Q,dt,_t){this._transformMatrix=[tt,gt,A,Q,dt,_t],ut._originalSetTransform(tt,gt,A,Q,dt,_t)},ut.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],ut._originalResetTransform()},ut.rotate=function(tt){const gt=Math.cos(tt),A=Math.sin(tt),Q=this._transformMatrix;this._transformMatrix=[Q[0]*gt+Q[2]*A,Q[1]*gt+Q[3]*A,Q[0]*-A+Q[2]*gt,Q[1]*-A+Q[3]*gt,Q[4],Q[5]],this._originalRotate(tt)}}}class et{constructor(G){this.canvasFactory=G,this.cache=Object.create(null)}getCanvas(G,tt,gt,A){let Q;return this.cache[G]!==void 0?(Q=this.cache[G],this.canvasFactory.reset(Q,tt,gt),Q.context.setTransform(1,0,0,1,0,0)):(Q=this.canvasFactory.create(tt,gt),this.cache[G]=Q),A&&q(Q.context),Q}delete(G){delete this.cache[G]}clear(){for(const G in this.cache){const tt=this.cache[G];this.canvasFactory.destroy(tt),delete this.cache[G]}}}function K(ut,G,tt,gt,A,Q,dt,_t,mt,Ct){const[Ft,Nt,Ot,U,kt,Pt]=ut.mozCurrentTransform;if(Nt===0&&Ot===0){const Rt=dt*Ft+kt,It=Math.round(Rt),$t=_t*U+Pt,Lt=Math.round($t),Ut=(dt+mt)*Ft+kt,Xt=Math.abs(Math.round(Ut)-It)||1,Vt=(_t+Ct)*U+Pt,Yt=Math.abs(Math.round(Vt)-Lt)||1;return ut.setTransform(Math.sign(Ft),0,0,Math.sign(U),It,Lt),ut.drawImage(G,tt,gt,A,Q,0,0,Xt,Yt),ut.setTransform(Ft,Nt,Ot,U,kt,Pt),[Xt,Yt]}if(Ft===0&&U===0){const Rt=_t*Ot+kt,It=Math.round(Rt),$t=dt*Nt+Pt,Lt=Math.round($t),Ut=(_t+Ct)*Ot+kt,Xt=Math.abs(Math.round(Ut)-It)||1,Vt=(dt+mt)*Nt+Pt,Yt=Math.abs(Math.round(Vt)-Lt)||1;return ut.setTransform(0,Math.sign(Nt),Math.sign(Ot),0,It,Lt),ut.drawImage(G,tt,gt,A,Q,0,0,Yt,Xt),ut.setTransform(Ft,Nt,Ot,U,kt,Pt),[Yt,Xt]}ut.drawImage(G,tt,gt,A,Q,dt,_t,mt,Ct);const wt=Math.hypot(Ft,Nt),At=Math.hypot(Ot,U);return[wt*mt,At*Ct]}function ft(ut){const{width:G,height:tt}=ut;if(G>D||tt>D)return null;const gt=1e3,A=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Q=G+1;let dt=new Uint8Array(Q*(tt+1)),_t,mt,Ct;const Ft=G+7&-8;let Nt=new Uint8Array(Ft*tt),Ot=0;for(const It of ut.data){let $t=128;for(;$t>0;)Nt[Ot++]=It&$t?0:255,$t>>=1}let U=0;for(Ot=0,Nt[Ot]!==0&&(dt[0]=1,++U),mt=1;mt<G;mt++)Nt[Ot]!==Nt[Ot+1]&&(dt[mt]=Nt[Ot]?2:1,++U),Ot++;for(Nt[Ot]!==0&&(dt[mt]=2,++U),_t=1;_t<tt;_t++){Ot=_t*Ft,Ct=_t*Q,Nt[Ot-Ft]!==Nt[Ot]&&(dt[Ct]=Nt[Ot]?1:8,++U);let It=(Nt[Ot]?4:0)+(Nt[Ot-Ft]?8:0);for(mt=1;mt<G;mt++)It=(It>>2)+(Nt[Ot+1]?4:0)+(Nt[Ot-Ft+1]?8:0),A[It]&&(dt[Ct+mt]=A[It],++U),Ot++;if(Nt[Ot-Ft]!==Nt[Ot]&&(dt[Ct+mt]=Nt[Ot]?2:4,++U),U>gt)return null}for(Ot=Ft*(tt-1),Ct=_t*Q,Nt[Ot]!==0&&(dt[Ct]=8,++U),mt=1;mt<G;mt++)Nt[Ot]!==Nt[Ot+1]&&(dt[Ct+mt]=Nt[Ot]?4:8,++U),Ot++;if(Nt[Ot]!==0&&(dt[Ct+mt]=4,++U),U>gt)return null;const kt=new Int32Array([0,Q,-1,0,-Q,0,0,0,1]);let Pt,wt,At;for(ht.isNodeJS?wt=[]:Pt=new Path2D,_t=0;U&&_t<=tt;_t++){let It=_t*Q;const $t=It+G;for(;It<$t&&!dt[It];)It++;if(It===$t)continue;Pt?Pt.moveTo(It%Q,_t):At=[It%Q,_t];const Lt=It;let Ut=dt[It];do{const Xt=kt[Ut];do It+=Xt;while(!dt[It]);const Vt=dt[It];Vt!==5&&Vt!==10?(Ut=Vt,dt[It]=0):(Ut=Vt&51*Ut>>4,dt[It]&=Ut>>2|Ut<<2),Pt?Pt.lineTo(It%Q,It/Q|0):At.push(It%Q,It/Q|0),dt[It]||--U}while(Lt!==It);Pt||wt.push(At),--_t}return Nt=null,dt=null,function(It){if(It.save(),It.scale(1/G,-1/tt),It.translate(0,-tt),Pt)It.fill(Pt);else{It.beginPath();for(const $t of wt){It.moveTo($t[0],$t[1]);for(let Lt=2,Ut=$t.length;Lt<Ut;Lt+=2)It.lineTo($t[Lt],$t[Lt+1])}It.fill()}It.beginPath(),It.restore()}}class pt{constructor(G,tt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=W.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=W.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=W.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,G,tt])}clone(){const G=Object.create(this);return G.clipBox=this.clipBox.slice(),G}setCurrentPoint(G,tt){this.x=G,this.y=tt}updatePathMinMax(G,tt,gt){[tt,gt]=W.Util.applyTransform([tt,gt],G),this.minX=Math.min(this.minX,tt),this.minY=Math.min(this.minY,gt),this.maxX=Math.max(this.maxX,tt),this.maxY=Math.max(this.maxY,gt)}updateRectMinMax(G,tt){const gt=W.Util.applyTransform(tt,G),A=W.Util.applyTransform(tt.slice(2),G);this.minX=Math.min(this.minX,gt[0],A[0]),this.minY=Math.min(this.minY,gt[1],A[1]),this.maxX=Math.max(this.maxX,gt[0],A[0]),this.maxY=Math.max(this.maxY,gt[1],A[1])}updateScalingPathMinMax(G,tt){W.Util.scaleMinMax(G,tt),this.minX=Math.min(this.minX,tt[0]),this.maxX=Math.max(this.maxX,tt[1]),this.minY=Math.min(this.minY,tt[2]),this.maxY=Math.max(this.maxY,tt[3])}updateCurvePathMinMax(G,tt,gt,A,Q,dt,_t,mt,Ct,Ft){const Nt=W.Util.bezierBoundingBox(tt,gt,A,Q,dt,_t,mt,Ct);if(Ft){Ft[0]=Math.min(Ft[0],Nt[0],Nt[2]),Ft[1]=Math.max(Ft[1],Nt[0],Nt[2]),Ft[2]=Math.min(Ft[2],Nt[1],Nt[3]),Ft[3]=Math.max(Ft[3],Nt[1],Nt[3]);return}this.updateRectMinMax(G,Nt)}getPathBoundingBox(G=yt.PathType.FILL,tt=null){const gt=[this.minX,this.minY,this.maxX,this.maxY];if(G===yt.PathType.STROKE){tt||(0,W.unreachable)("Stroke bounding box must include transform.");const A=W.Util.singularValueDecompose2dScale(tt),Q=A[0]*this.lineWidth/2,dt=A[1]*this.lineWidth/2;gt[0]-=Q,gt[1]-=dt,gt[2]+=Q,gt[3]+=dt}return gt}updateClipFromPath(){const G=W.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(G||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(G){this.clipBox=G,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(G=yt.PathType.FILL,tt=null){return W.Util.intersect(this.clipBox,this.getPathBoundingBox(G,tt))}}function St(ut,G,tt=null){if(typeof ImageData!="undefined"&&G instanceof ImageData){ut.putImageData(G,0,0);return}const gt=G.height,A=G.width,Q=gt%E,dt=(gt-Q)/E,_t=Q===0?dt:dt+1,mt=ut.createImageData(A,E);let Ct=0,Ft;const Nt=G.data,Ot=mt.data;let U,kt,Pt,wt,At,Rt,It,$t;if(tt)switch(tt.length){case 1:At=tt[0],Rt=tt[0],It=tt[0],$t=tt[0];break;case 4:At=tt[0],Rt=tt[1],It=tt[2],$t=tt[3];break}if(G.kind===W.ImageKind.GRAYSCALE_1BPP){const Lt=Nt.byteLength,Ut=new Uint32Array(Ot.buffer,0,Ot.byteLength>>2),Xt=Ut.length,Vt=A+7>>3;let Yt=4294967295,Zt=W.FeatureTest.isLittleEndian?4278190080:255;for($t&&$t[0]===255&&$t[255]===0&&([Yt,Zt]=[Zt,Yt]),U=0;U<_t;U++){for(Pt=U<dt?E:Q,Ft=0,kt=0;kt<Pt;kt++){const Jt=Lt-Ct;let re=0;const se=Jt>Vt?A:Jt*8-7,oe=se&-8;let ie=0,Wt=0;for(;re<oe;re+=8)Wt=Nt[Ct++],Ut[Ft++]=Wt&128?Yt:Zt,Ut[Ft++]=Wt&64?Yt:Zt,Ut[Ft++]=Wt&32?Yt:Zt,Ut[Ft++]=Wt&16?Yt:Zt,Ut[Ft++]=Wt&8?Yt:Zt,Ut[Ft++]=Wt&4?Yt:Zt,Ut[Ft++]=Wt&2?Yt:Zt,Ut[Ft++]=Wt&1?Yt:Zt;for(;re<se;re++)ie===0&&(Wt=Nt[Ct++],ie=128),Ut[Ft++]=Wt&ie?Yt:Zt,ie>>=1}for(;Ft<Xt;)Ut[Ft++]=0;ut.putImageData(mt,0,U*E)}}else if(G.kind===W.ImageKind.RGBA_32BPP){const Lt=!!(At||Rt||It);for(kt=0,wt=A*E*4,U=0;U<dt;U++){if(Ot.set(Nt.subarray(Ct,Ct+wt)),Ct+=wt,Lt)for(let Ut=0;Ut<wt;Ut+=4)At&&(Ot[Ut+0]=At[Ot[Ut+0]]),Rt&&(Ot[Ut+1]=Rt[Ot[Ut+1]]),It&&(Ot[Ut+2]=It[Ot[Ut+2]]);ut.putImageData(mt,0,kt),kt+=E}if(U<_t){if(wt=A*Q*4,Ot.set(Nt.subarray(Ct,Ct+wt)),Lt)for(let Ut=0;Ut<wt;Ut+=4)At&&(Ot[Ut+0]=At[Ot[Ut+0]]),Rt&&(Ot[Ut+1]=Rt[Ot[Ut+1]]),It&&(Ot[Ut+2]=It[Ot[Ut+2]]);ut.putImageData(mt,0,kt)}}else if(G.kind===W.ImageKind.RGB_24BPP){const Lt=!!(At||Rt||It);for(Pt=E,wt=A*Pt,U=0;U<_t;U++){for(U>=dt&&(Pt=Q,wt=A*Pt),Ft=0,kt=wt;kt--;)Ot[Ft++]=Nt[Ct++],Ot[Ft++]=Nt[Ct++],Ot[Ft++]=Nt[Ct++],Ot[Ft++]=255;if(Lt)for(let Ut=0;Ut<Ft;Ut+=4)At&&(Ot[Ut+0]=At[Ot[Ut+0]]),Rt&&(Ot[Ut+1]=Rt[Ot[Ut+1]]),It&&(Ot[Ut+2]=It[Ot[Ut+2]]);ut.putImageData(mt,0,U*E)}}else throw new Error(`bad image kind: ${G.kind}`)}function xt(ut,G){if(G.bitmap){ut.drawImage(G.bitmap,0,0);return}const tt=G.height,gt=G.width,A=tt%E,Q=(tt-A)/E,dt=A===0?Q:Q+1,_t=ut.createImageData(gt,E);let mt=0;const Ct=G.data,Ft=_t.data;for(let Nt=0;Nt<dt;Nt++){const Ot=Nt<Q?E:A;({srcPos:mt}=(0,J.applyMaskImageData)({src:Ct,srcPos:mt,dest:Ft,width:gt,height:Ot})),ut.putImageData(_t,0,Nt*E)}}function ot(ut,G){const tt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let gt=0,A=tt.length;gt<A;gt++){const Q=tt[gt];ut[Q]!==void 0&&(G[Q]=ut[Q])}ut.setLineDash!==void 0&&(G.setLineDash(ut.getLineDash()),G.lineDashOffset=ut.lineDashOffset)}function at(ut,G){ut.strokeStyle=ut.fillStyle=G||"#000000",ut.fillRule="nonzero",ut.globalAlpha=1,ut.lineWidth=1,ut.lineCap="butt",ut.lineJoin="miter",ut.miterLimit=10,ut.globalCompositeOperation="source-over",ut.font="10px sans-serif",ut.setLineDash!==void 0&&(ut.setLineDash([]),ut.lineDashOffset=0)}function bt(ut,G,tt,gt){const A=ut.length;for(let Q=3;Q<A;Q+=4){const dt=ut[Q];if(dt===0)ut[Q-3]=G,ut[Q-2]=tt,ut[Q-1]=gt;else if(dt<255){const _t=255-dt;ut[Q-3]=ut[Q-3]*dt+G*_t>>8,ut[Q-2]=ut[Q-2]*dt+tt*_t>>8,ut[Q-1]=ut[Q-1]*dt+gt*_t>>8}}}function Tt(ut,G,tt){const gt=ut.length,A=1/255;for(let Q=3;Q<gt;Q+=4){const dt=tt?tt[ut[Q]]:ut[Q];G[Q]=G[Q]*dt*A|0}}function st(ut,G,tt){const gt=ut.length;for(let A=3;A<gt;A+=4){const Q=ut[A-3]*77+ut[A-2]*152+ut[A-1]*28;G[A]=tt?G[A]*tt[Q>>8]>>8:G[A]*Q>>16}}function Et(ut,G,tt,gt,A,Q,dt,_t,mt,Ct,Ft){const Nt=!!Q,Ot=Nt?Q[0]:0,U=Nt?Q[1]:0,kt=Nt?Q[2]:0;let Pt;A==="Luminosity"?Pt=st:Pt=Tt;const At=Math.min(gt,Math.ceil(1048576/tt));for(let Rt=0;Rt<gt;Rt+=At){const It=Math.min(At,gt-Rt),$t=ut.getImageData(_t-Ct,Rt+(mt-Ft),tt,It),Lt=G.getImageData(_t,Rt+mt,tt,It);Nt&&bt($t.data,Ot,U,kt),Pt($t.data,Lt.data,dt),G.putImageData(Lt,_t,Rt+mt)}}function X(ut,G,tt,gt){const A=gt[0],Q=gt[1],dt=gt[2]-A,_t=gt[3]-Q;dt===0||_t===0||(Et(G.context,tt,dt,_t,G.subtype,G.backdrop,G.transferMap,A,Q,G.offsetX,G.offsetY),ut.save(),ut.globalAlpha=1,ut.globalCompositeOperation="source-over",ut.setTransform(1,0,0,1,0,0),ut.drawImage(tt.canvas,0,0),ut.restore())}function Mt(ut,G){const tt=W.Util.singularValueDecompose2dScale(ut);tt[0]=Math.fround(tt[0]),tt[1]=Math.fround(tt[1]);const gt=Math.fround((globalThis.devicePixelRatio||1)*rt.PixelsPerInch.PDF_TO_CSS_UNITS);return G!==void 0?G:tt[0]<=gt||tt[1]<=gt}const qt=["butt","round","square"],Dt=["miter","round","bevel"],Ht={},jt={};class Gt{constructor(G,tt,gt,A,Q,dt,_t,mt){this.ctx=G,this.current=new pt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=tt,this.objs=gt,this.canvasFactory=A,this.imageLayer=Q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=dt,this.cachedCanvases=new et(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=_t,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(mt==null?void 0:mt.background)||null,this.foregroundColor=(mt==null?void 0:mt.foreground)||null,G&&q(G),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(G,tt=null){return typeof G=="string"?G.startsWith("g_")?this.commonObjs.get(G):this.objs.get(G):tt}beginDrawing({transform:G,viewport:tt,transparency:gt=!1,background:A=null}){const Q=this.ctx.canvas.width,dt=this.ctx.canvas.height,_t=A||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const mt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Ct=this.backgroundColor=this.ctx.fillStyle;let Ft=!0,Nt=_t;if(this.ctx.fillStyle=_t,Nt=this.ctx.fillStyle,Ft=typeof Nt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Nt),mt==="#000000"&&Ct==="#ffffff"||mt===Ct||!Ft)this.foregroundColor=this.backgroundColor=null;else{const Ot=parseInt(Nt.slice(1),16),U=(Ot&&16711680)>>16,kt=(Ot&&65280)>>8,Pt=Ot&&255,wt=Rt=>(Rt/=255,Rt<=.03928?Rt/12.92:((Rt+.055)/1.055)**2.4),At=Math.round(.2126*wt(U)+.7152*wt(kt)+.0722*wt(Pt));this.selectColor=(Rt,It,$t)=>{const Lt=.2126*wt(Rt)+.7152*wt(It)+.0722*wt($t);return Math.round(Lt)===At?Ct:mt}}}if(this.ctx.fillStyle=this.backgroundColor||_t,this.ctx.fillRect(0,0,Q,dt),this.ctx.restore(),gt){const mt=this.cachedCanvases.getCanvas("transparent",Q,dt,!0);this.compositeCtx=this.ctx,this.transparentCanvas=mt.canvas,this.ctx=mt.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),at(this.ctx,this.foregroundColor),G&&(this.ctx.transform.apply(this.ctx,G),this.outputScaleX=G[0],this.outputScaleY=G[0]),this.ctx.transform.apply(this.ctx,tt.transform),this.viewportScale=tt.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(G,tt,gt,A){const Q=G.argsArray,dt=G.fnArray;let _t=tt||0;const mt=Q.length;if(mt===_t)return _t;const Ct=mt-_t>lt&&typeof gt=="function",Ft=Ct?Date.now()+ct:0;let Nt=0;const Ot=this.commonObjs,U=this.objs;let kt;for(;;){if(A!==void 0&&_t===A.nextBreakPoint)return A.breakIt(_t,gt),_t;if(kt=dt[_t],kt!==W.OPS.dependency)this[kt].apply(this,Q[_t]);else for(const Pt of Q[_t]){const wt=Pt.startsWith("g_")?Ot:U;if(!wt.has(Pt))return wt.get(Pt,gt),_t}if(_t++,_t===mt)return _t;if(Ct&&++Nt>lt){if(Date.now()>Ft)return gt(),_t;Nt=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const G of this._cachedBitmapsMap.values()){for(const tt of G.values())typeof HTMLCanvasElement!="undefined"&&tt instanceof HTMLCanvasElement&&(tt.width=tt.height=0);G.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(G,tt){const gt=G.width,A=G.height;let Q=Math.max(Math.hypot(tt[0],tt[1]),1),dt=Math.max(Math.hypot(tt[2],tt[3]),1),_t=gt,mt=A,Ct="prescale1",Ft,Nt;for(;Q>2&&_t>1||dt>2&&mt>1;){let Ot=_t,U=mt;Q>2&&_t>1&&(Ot=Math.ceil(_t/2),Q/=_t/Ot),dt>2&&mt>1&&(U=Math.ceil(mt/2),dt/=mt/U),Ft=this.cachedCanvases.getCanvas(Ct,Ot,U,!1),Nt=Ft.context,Nt.clearRect(0,0,Ot,U),Nt.drawImage(G,0,0,_t,mt,0,0,Ot,U),G=Ft.canvas,_t=Ot,mt=U,Ct=Ct==="prescale1"?"prescale2":"prescale1"}return{img:G,paintWidth:_t,paintHeight:mt}}_createMaskCanvas(G){const tt=this.ctx,{width:gt,height:A}=G,Q=this.current.fillColor,dt=this.current.patternFill,_t=tt.mozCurrentTransform;let mt,Ct,Ft,Nt;if((G.bitmap||G.data)&&G.count>1){const Xt=G.bitmap||G.data.buffer,Vt=_t.slice(0,4);Ct=JSON.stringify(dt?Vt:[Vt,Q]),mt=this._cachedBitmapsMap.get(Xt),mt||(mt=new Map,this._cachedBitmapsMap.set(Xt,mt));const Yt=mt.get(Ct);if(Yt&&!dt){const Zt=Math.round(Math.min(_t[0],_t[2])+_t[4]),Jt=Math.round(Math.min(_t[1],_t[3])+_t[5]);return{canvas:Yt,offsetX:Zt,offsetY:Jt}}Ft=Yt}Ft||(Nt=this.cachedCanvases.getCanvas("maskCanvas",gt,A,!1),xt(Nt.context,G));let Ot=W.Util.transform(_t,[1/gt,0,0,-1/A,0,0]);Ot=W.Util.transform(Ot,[1,0,0,1,0,-A]);const U=W.Util.applyTransform([0,0],Ot),kt=W.Util.applyTransform([gt,A],Ot),Pt=W.Util.normalizeRect([U[0],U[1],kt[0],kt[1]]),wt=Math.round(Pt[2]-Pt[0])||1,At=Math.round(Pt[3]-Pt[1])||1,Rt=this.cachedCanvases.getCanvas("fillCanvas",wt,At,!0),It=Rt.context,$t=Math.min(U[0],kt[0]),Lt=Math.min(U[1],kt[1]);It.translate(-$t,-Lt),It.transform.apply(It,Ot),Ft||(Ft=this._scaleImage(Nt.canvas,It.mozCurrentTransformInverse),Ft=Ft.img,mt&&dt&&mt.set(Ct,Ft)),It.imageSmoothingEnabled=Mt(It.mozCurrentTransform,G.interpolate),K(It,Ft,0,0,Ft.width,Ft.height,0,0,gt,A),It.globalCompositeOperation="source-in";const Ut=W.Util.transform(It.mozCurrentTransformInverse,[1,0,0,1,-$t,-Lt]);return It.fillStyle=dt?Q.getPattern(tt,this,Ut,yt.PathType.FILL):Q,It.fillRect(0,0,gt,A),mt&&!dt&&(this.cachedCanvases.delete("fillCanvas"),mt.set(Ct,Rt.canvas)),{canvas:Rt.canvas,offsetX:Math.round($t),offsetY:Math.round(Lt)}}setLineWidth(G){G!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=G,this.ctx.lineWidth=G}setLineCap(G){this.ctx.lineCap=qt[G]}setLineJoin(G){this.ctx.lineJoin=Dt[G]}setMiterLimit(G){this.ctx.miterLimit=G}setDash(G,tt){const gt=this.ctx;gt.setLineDash!==void 0&&(gt.setLineDash(G),gt.lineDashOffset=tt)}setRenderingIntent(G){}setFlatness(G){}setGState(G){for(let tt=0,gt=G.length;tt<gt;tt++){const A=G[tt],Q=A[0],dt=A[1];switch(Q){case"LW":this.setLineWidth(dt);break;case"LC":this.setLineCap(dt);break;case"LJ":this.setLineJoin(dt);break;case"ML":this.setMiterLimit(dt);break;case"D":this.setDash(dt[0],dt[1]);break;case"RI":this.setRenderingIntent(dt);break;case"FL":this.setFlatness(dt);break;case"Font":this.setFont(dt[0],dt[1]);break;case"CA":this.current.strokeAlpha=A[1];break;case"ca":this.current.fillAlpha=A[1],this.ctx.globalAlpha=A[1];break;case"BM":this.ctx.globalCompositeOperation=dt;break;case"SMask":this.current.activeSMask=dt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=dt}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const G=this.inSMaskMode;this.current.activeSMask&&!G?this.beginSMaskMode():!this.current.activeSMask&&G&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const G=this.ctx.canvas.width,tt=this.ctx.canvas.height,gt="smaskGroupAt"+this.groupLevel,A=this.cachedCanvases.getCanvas(gt,G,tt,!0);this.suspendedCtx=this.ctx,this.ctx=A.context;const Q=this.ctx;Q.setTransform.apply(Q,this.suspendedCtx.mozCurrentTransform),ot(this.suspendedCtx,Q),B(Q,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ot(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(G){if(!this.current.activeSMask)return;G?(G[0]=Math.floor(G[0]),G[1]=Math.floor(G[1]),G[2]=Math.ceil(G[2]),G[3]=Math.ceil(G[3])):G=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const tt=this.current.activeSMask,gt=this.suspendedCtx;X(gt,tt,this.ctx,G),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ot(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const G=this.current;this.stateStack.push(G),this.current=G.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ot(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(G,tt,gt,A,Q,dt){this.ctx.transform(G,tt,gt,A,Q,dt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(G,tt,gt){const A=this.ctx,Q=this.current;let dt=Q.x,_t=Q.y,mt,Ct;const Ft=A.mozCurrentTransform,Nt=Ft[0]===0&&Ft[3]===0||Ft[1]===0&&Ft[2]===0,Ot=Nt?gt.slice(0):null;for(let U=0,kt=0,Pt=G.length;U<Pt;U++)switch(G[U]|0){case W.OPS.rectangle:dt=tt[kt++],_t=tt[kt++];const wt=tt[kt++],At=tt[kt++],Rt=dt+wt,It=_t+At;A.moveTo(dt,_t),wt===0||At===0?A.lineTo(Rt,It):(A.lineTo(Rt,_t),A.lineTo(Rt,It),A.lineTo(dt,It)),Nt||Q.updateRectMinMax(Ft,[dt,_t,Rt,It]),A.closePath();break;case W.OPS.moveTo:dt=tt[kt++],_t=tt[kt++],A.moveTo(dt,_t),Nt||Q.updatePathMinMax(Ft,dt,_t);break;case W.OPS.lineTo:dt=tt[kt++],_t=tt[kt++],A.lineTo(dt,_t),Nt||Q.updatePathMinMax(Ft,dt,_t);break;case W.OPS.curveTo:mt=dt,Ct=_t,dt=tt[kt+4],_t=tt[kt+5],A.bezierCurveTo(tt[kt],tt[kt+1],tt[kt+2],tt[kt+3],dt,_t),Q.updateCurvePathMinMax(Ft,mt,Ct,tt[kt],tt[kt+1],tt[kt+2],tt[kt+3],dt,_t,Ot),kt+=6;break;case W.OPS.curveTo2:mt=dt,Ct=_t,A.bezierCurveTo(dt,_t,tt[kt],tt[kt+1],tt[kt+2],tt[kt+3]),Q.updateCurvePathMinMax(Ft,mt,Ct,dt,_t,tt[kt],tt[kt+1],tt[kt+2],tt[kt+3],Ot),dt=tt[kt+2],_t=tt[kt+3],kt+=4;break;case W.OPS.curveTo3:mt=dt,Ct=_t,dt=tt[kt+2],_t=tt[kt+3],A.bezierCurveTo(tt[kt],tt[kt+1],dt,_t,dt,_t),Q.updateCurvePathMinMax(Ft,mt,Ct,tt[kt],tt[kt+1],dt,_t,dt,_t,Ot),kt+=4;break;case W.OPS.closePath:A.closePath();break}Nt&&Q.updateScalingPathMinMax(Ft,Ot),Q.setCurrentPoint(dt,_t)}closePath(){this.ctx.closePath()}stroke(G){G=typeof G!="undefined"?G:!0;const tt=this.ctx,gt=this.current.strokeColor;tt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof gt=="object"&&(gt==null?void 0:gt.getPattern)?(tt.save(),tt.strokeStyle=gt.getPattern(tt,this,tt.mozCurrentTransformInverse,yt.PathType.STROKE),this.rescaleAndStroke(!1),tt.restore()):this.rescaleAndStroke(!0)),G&&this.consumePath(this.current.getClippedPathBoundingBox()),tt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(G){G=typeof G!="undefined"?G:!0;const tt=this.ctx,gt=this.current.fillColor,A=this.current.patternFill;let Q=!1;A&&(tt.save(),tt.fillStyle=gt.getPattern(tt,this,tt.mozCurrentTransformInverse,yt.PathType.FILL),Q=!0);const dt=this.current.getClippedPathBoundingBox();this.contentVisible&&dt!==null&&(this.pendingEOFill?(tt.fill("evenodd"),this.pendingEOFill=!1):tt.fill()),Q&&tt.restore(),G&&this.consumePath(dt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ht}eoClip(){this.pendingClip=jt}beginText(){this.current.textMatrix=W.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const G=this.pendingTextPaths,tt=this.ctx;if(G===void 0){tt.beginPath();return}tt.save(),tt.beginPath();for(let gt=0;gt<G.length;gt++){const A=G[gt];tt.setTransform.apply(tt,A.transform),tt.translate(A.x,A.y),A.addToPath(tt,A.fontSize)}tt.restore(),tt.clip(),tt.beginPath(),delete this.pendingTextPaths}setCharSpacing(G){this.current.charSpacing=G}setWordSpacing(G){this.current.wordSpacing=G}setHScale(G){this.current.textHScale=G/100}setLeading(G){this.current.leading=-G}setFont(G,tt){const gt=this.commonObjs.get(G),A=this.current;if(!gt)throw new Error(`Can't find font for ${G}`);if(A.fontMatrix=gt.fontMatrix||W.FONT_IDENTITY_MATRIX,(A.fontMatrix[0]===0||A.fontMatrix[3]===0)&&(0,W.warn)("Invalid font matrix for font "+G),tt<0?(tt=-tt,A.fontDirection=-1):A.fontDirection=1,this.current.font=gt,this.current.fontSize=tt,gt.isType3Font)return;const Q=gt.loadedName||"sans-serif";let dt="normal";gt.black?dt="900":gt.bold&&(dt="bold");const _t=gt.italic?"italic":"normal",mt=`"${Q}", ${gt.fallbackName}`;let Ct=tt;tt<it?Ct=it:tt>Y&&(Ct=Y),this.current.fontSizeScale=tt/Ct,this.ctx.font=`${_t} ${dt} ${Ct}px ${mt}`}setTextRenderingMode(G){this.current.textRenderingMode=G}setTextRise(G){this.current.textRise=G}moveText(G,tt){this.current.x=this.current.lineX+=G,this.current.y=this.current.lineY+=tt}setLeadingMoveText(G,tt){this.setLeading(-tt),this.moveText(G,tt)}setTextMatrix(G,tt,gt,A,Q,dt){this.current.textMatrix=[G,tt,gt,A,Q,dt],this.current.textMatrixScale=Math.hypot(G,tt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(G,tt,gt,A){const Q=this.ctx,dt=this.current,_t=dt.font,mt=dt.textRenderingMode,Ct=dt.fontSize/dt.fontSizeScale,Ft=mt&W.TextRenderingMode.FILL_STROKE_MASK,Nt=!!(mt&W.TextRenderingMode.ADD_TO_PATH_FLAG),Ot=dt.patternFill&&!_t.missingFile;let U;(_t.disableFontFace||Nt||Ot)&&(U=_t.getPathGenerator(this.commonObjs,G)),_t.disableFontFace||Ot?(Q.save(),Q.translate(tt,gt),Q.beginPath(),U(Q,Ct),A&&Q.setTransform.apply(Q,A),(Ft===W.TextRenderingMode.FILL||Ft===W.TextRenderingMode.FILL_STROKE)&&Q.fill(),(Ft===W.TextRenderingMode.STROKE||Ft===W.TextRenderingMode.FILL_STROKE)&&Q.stroke(),Q.restore()):((Ft===W.TextRenderingMode.FILL||Ft===W.TextRenderingMode.FILL_STROKE)&&Q.fillText(G,tt,gt),(Ft===W.TextRenderingMode.STROKE||Ft===W.TextRenderingMode.FILL_STROKE)&&Q.strokeText(G,tt,gt)),Nt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Q.mozCurrentTransform,x:tt,y:gt,fontSize:Ct,addToPath:U})}get isFontSubpixelAAEnabled(){const{context:G}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);G.scale(1.5,1),G.fillText("I",0,10);const tt=G.getImageData(0,0,10,10).data;let gt=!1;for(let A=3;A<tt.length;A+=4)if(tt[A]>0&&tt[A]<255){gt=!0;break}return(0,W.shadow)(this,"isFontSubpixelAAEnabled",gt)}showText(G){const tt=this.current,gt=tt.font;if(gt.isType3Font)return this.showType3Text(G);const A=tt.fontSize;if(A===0)return;const Q=this.ctx,dt=tt.fontSizeScale,_t=tt.charSpacing,mt=tt.wordSpacing,Ct=tt.fontDirection,Ft=tt.textHScale*Ct,Nt=G.length,Ot=gt.vertical,U=Ot?1:-1,kt=gt.defaultVMetrics,Pt=A*tt.fontMatrix[0],wt=tt.textRenderingMode===W.TextRenderingMode.FILL&&!gt.disableFontFace&&!tt.patternFill;Q.save(),Q.transform.apply(Q,tt.textMatrix),Q.translate(tt.x,tt.y+tt.textRise),Ct>0?Q.scale(Ft,-1):Q.scale(Ft,1);let At;if(tt.patternFill){Q.save();const Ut=tt.fillColor.getPattern(Q,this,Q.mozCurrentTransformInverse,yt.PathType.FILL);At=Q.mozCurrentTransform,Q.restore(),Q.fillStyle=Ut}let Rt=tt.lineWidth;const It=tt.textMatrixScale;if(It===0||Rt===0){const Ut=tt.textRenderingMode&W.TextRenderingMode.FILL_STROKE_MASK;(Ut===W.TextRenderingMode.STROKE||Ut===W.TextRenderingMode.FILL_STROKE)&&(Rt=this.getSinglePixelWidth())}else Rt/=It;dt!==1&&(Q.scale(dt,dt),Rt/=dt),Q.lineWidth=Rt;let $t=0,Lt;for(Lt=0;Lt<Nt;++Lt){const Ut=G[Lt];if(typeof Ut=="number"){$t+=U*Ut*A/1e3;continue}let Xt=!1;const Vt=(Ut.isSpace?mt:0)+_t,Yt=Ut.fontChar,Zt=Ut.accent;let Jt,re,se=Ut.width;if(Ot){const ie=Ut.vmetric||kt,Wt=-(Ut.vmetric?ie[1]:se*.5)*Pt,Bt=ie[2]*Pt;se=ie?-ie[0]:se,Jt=Wt/dt,re=($t+Bt)/dt}else Jt=$t/dt,re=0;if(gt.remeasure&&se>0){const ie=Q.measureText(Yt).width*1e3/A*dt;if(se<ie&&this.isFontSubpixelAAEnabled){const Wt=se/ie;Xt=!0,Q.save(),Q.scale(Wt,1),Jt/=Wt}else se!==ie&&(Jt+=(se-ie)/2e3*A/dt)}if(this.contentVisible&&(Ut.isInFont||gt.missingFile)){if(wt&&!Zt)Q.fillText(Yt,Jt,re);else if(this.paintChar(Yt,Jt,re,At),Zt){const ie=Jt+A*Zt.offset.x/dt,Wt=re-A*Zt.offset.y/dt;this.paintChar(Zt.fontChar,ie,Wt,At)}}let oe;Ot?oe=se*Pt-Vt*Ct:oe=se*Pt+Vt*Ct,$t+=oe,Xt&&Q.restore()}Ot?tt.y-=$t:tt.x+=$t*Ft,Q.restore(),this.compose()}showType3Text(G){const tt=this.ctx,gt=this.current,A=gt.font,Q=gt.fontSize,dt=gt.fontDirection,_t=A.vertical?1:-1,mt=gt.charSpacing,Ct=gt.wordSpacing,Ft=gt.textHScale*dt,Nt=gt.fontMatrix||W.FONT_IDENTITY_MATRIX,Ot=G.length,U=gt.textRenderingMode===W.TextRenderingMode.INVISIBLE;let kt,Pt,wt,At;if(!(U||Q===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,tt.save(),tt.transform.apply(tt,gt.textMatrix),tt.translate(gt.x,gt.y),tt.scale(Ft,dt),kt=0;kt<Ot;++kt){if(Pt=G[kt],typeof Pt=="number"){At=_t*Pt*Q/1e3,this.ctx.translate(At,0),gt.x+=At*Ft;continue}const Rt=(Pt.isSpace?Ct:0)+mt,It=A.charProcOperatorList[Pt.operatorListId];if(!It){(0,W.warn)(`Type3 character "${Pt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Pt,this.save(),tt.scale(Q,Q),tt.transform.apply(tt,Nt),this.executeOperatorList(It),this.restore()),wt=W.Util.applyTransform([Pt.width,0],Nt)[0]*Q+Rt,tt.translate(wt,0),gt.x+=wt*Ft}tt.restore(),this.processingType3=null}}setCharWidth(G,tt){}setCharWidthAndBounds(G,tt,gt,A,Q,dt){this.ctx.rect(gt,A,Q-gt,dt-A),this.ctx.clip(),this.endPath()}getColorN_Pattern(G){let tt;if(G[0]==="TilingPattern"){const gt=G[1],A=this.baseTransform||this.ctx.mozCurrentTransform.slice(),Q={createCanvasGraphics:dt=>new Gt(dt,this.commonObjs,this.objs,this.canvasFactory)};tt=new yt.TilingPattern(G,gt,this.ctx,Q,A)}else tt=this._getPattern(G[1],G[2]);return tt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(G,tt,gt){var Q;const A=((Q=this.selectColor)==null?void 0:Q.call(this,G,tt,gt))||W.Util.makeHexColor(G,tt,gt);this.ctx.strokeStyle=A,this.current.strokeColor=A}setFillRGBColor(G,tt,gt){var Q;const A=((Q=this.selectColor)==null?void 0:Q.call(this,G,tt,gt))||W.Util.makeHexColor(G,tt,gt);this.ctx.fillStyle=A,this.current.fillColor=A,this.current.patternFill=!1}_getPattern(G,tt=null){let gt;return this.cachedPatterns.has(G)?gt=this.cachedPatterns.get(G):(gt=(0,yt.getShadingPattern)(this.objs.get(G)),this.cachedPatterns.set(G,gt)),tt&&(gt.matrix=tt),gt}shadingFill(G){if(!this.contentVisible)return;const tt=this.ctx;this.save();const gt=this._getPattern(G);tt.fillStyle=gt.getPattern(tt,this,tt.mozCurrentTransformInverse,yt.PathType.SHADING);const A=tt.mozCurrentTransformInverse;if(A){const Q=tt.canvas,dt=Q.width,_t=Q.height,mt=W.Util.applyTransform([0,0],A),Ct=W.Util.applyTransform([0,_t],A),Ft=W.Util.applyTransform([dt,0],A),Nt=W.Util.applyTransform([dt,_t],A),Ot=Math.min(mt[0],Ct[0],Ft[0],Nt[0]),U=Math.min(mt[1],Ct[1],Ft[1],Nt[1]),kt=Math.max(mt[0],Ct[0],Ft[0],Nt[0]),Pt=Math.max(mt[1],Ct[1],Ft[1],Nt[1]);this.ctx.fillRect(Ot,U,kt-Ot,Pt-U)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,W.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,W.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(G,tt){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(G)&&G.length===6&&this.transform.apply(this,G),this.baseTransform=this.ctx.mozCurrentTransform,tt)){const gt=tt[2]-tt[0],A=tt[3]-tt[1];this.ctx.rect(tt[0],tt[1],gt,A),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,tt),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(G){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const tt=this.ctx;G.isolated||(0,W.info)("TODO: Support non-isolated groups."),G.knockout&&(0,W.warn)("Knockout groups not supported.");const gt=tt.mozCurrentTransform;if(G.matrix&&tt.transform.apply(tt,G.matrix),!G.bbox)throw new Error("Bounding box is required.");let A=W.Util.getAxialAlignedBoundingBox(G.bbox,tt.mozCurrentTransform);const Q=[0,0,tt.canvas.width,tt.canvas.height];A=W.Util.intersect(A,Q)||[0,0,0,0];const dt=Math.floor(A[0]),_t=Math.floor(A[1]);let mt=Math.max(Math.ceil(A[2])-dt,1),Ct=Math.max(Math.ceil(A[3])-_t,1),Ft=1,Nt=1;mt>V&&(Ft=mt/V,mt=V),Ct>V&&(Nt=Ct/V,Ct=V),this.current.startNewPathAndClipBox([0,0,mt,Ct]);let Ot="groupAt"+this.groupLevel;G.smask&&(Ot+="_smask_"+this.smaskCounter++%2);const U=this.cachedCanvases.getCanvas(Ot,mt,Ct,!0),kt=U.context;kt.scale(1/Ft,1/Nt),kt.translate(-dt,-_t),kt.transform.apply(kt,gt),G.smask?this.smaskStack.push({canvas:U.canvas,context:kt,offsetX:dt,offsetY:_t,scaleX:Ft,scaleY:Nt,subtype:G.smask.subtype,backdrop:G.smask.backdrop,transferMap:G.smask.transferMap||null,startTransformInverse:null}):(tt.setTransform(1,0,0,1,0,0),tt.translate(dt,_t),tt.scale(Ft,Nt),tt.save()),ot(tt,kt),this.ctx=kt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(tt),this.groupLevel++}endGroup(G){if(!this.contentVisible)return;this.groupLevel--;const tt=this.ctx,gt=this.groupStack.pop();if(this.ctx=gt,this.ctx.imageSmoothingEnabled=!1,G.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const A=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,A);const Q=W.Util.getAxialAlignedBoundingBox([0,0,tt.canvas.width,tt.canvas.height],A);this.ctx.drawImage(tt.canvas,0,0),this.ctx.restore(),this.compose(Q)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(G,tt,gt,A,Q){if(this.save(),Array.isArray(tt)&&tt.length===4){const dt=tt[2]-tt[0],_t=tt[3]-tt[1];if(Q&&this.annotationCanvasMap){gt=gt.slice(),gt[4]-=tt[0],gt[5]-=tt[1],tt=tt.slice(),tt[0]=tt[1]=0,tt[2]=dt,tt[3]=_t;const[mt,Ct]=W.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:Ft}=this,Nt=Math.ceil(dt*this.outputScaleX*Ft),Ot=Math.ceil(_t*this.outputScaleY*Ft);this.annotationCanvas=this.canvasFactory.create(Nt,Ot);const{canvas:U,context:kt}=this.annotationCanvas,Pt=`var(--zoom-factor) * ${rt.PixelsPerInch.PDF_TO_CSS_UNITS}`;U.style.width=`calc(${dt}px * ${Pt})`,U.style.height=`calc(${_t}px * ${Pt})`,this.annotationCanvasMap.set(G,U),this.annotationCanvas.savedCtx=this.ctx,this.ctx=kt,this.ctx.setTransform(mt,0,0,-Ct,0,_t*Ct),q(this.ctx),at(this.ctx,this.foregroundColor)}else at(this.ctx,this.foregroundColor),this.ctx.rect(tt[0],tt[1],dt,_t),this.ctx.clip(),this.endPath()}this.current=new pt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,gt),this.transform.apply(this,A)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(G){if(!this.contentVisible)return;const tt=G.count;G=this.getObject(G.data,G),G.count=tt;const gt=this.ctx,A=this.processingType3;if(A&&(A.compiled===void 0&&(A.compiled=ft(G)),A.compiled)){A.compiled(gt);return}const Q=this._createMaskCanvas(G),dt=Q.canvas;gt.save(),gt.setTransform(1,0,0,1,0,0),gt.drawImage(dt,Q.offsetX,Q.offsetY),gt.restore(),this.compose()}paintImageMaskXObjectRepeat(G,tt,gt=0,A=0,Q,dt){if(!this.contentVisible)return;G=this.getObject(G.data,G);const _t=this.ctx;_t.save();const mt=_t.mozCurrentTransform;_t.transform(tt,gt,A,Q,0,0);const Ct=this._createMaskCanvas(G);_t.setTransform(1,0,0,1,0,0);for(let Ft=0,Nt=dt.length;Ft<Nt;Ft+=2){const Ot=W.Util.transform(mt,[tt,gt,A,Q,dt[Ft],dt[Ft+1]]),[U,kt]=W.Util.applyTransform([0,0],Ot);_t.drawImage(Ct.canvas,U,kt)}_t.restore(),this.compose()}paintImageMaskXObjectGroup(G){if(!this.contentVisible)return;const tt=this.ctx,gt=this.current.fillColor,A=this.current.patternFill;for(let Q=0,dt=G.length;Q<dt;Q++){const _t=G[Q],mt=_t.width,Ct=_t.height,Ft=this.cachedCanvases.getCanvas("maskCanvas",mt,Ct,!1),Nt=Ft.context;Nt.save(),xt(Nt,_t),Nt.globalCompositeOperation="source-in",Nt.fillStyle=A?gt.getPattern(Nt,this,tt.mozCurrentTransformInverse,yt.PathType.FILL):gt,Nt.fillRect(0,0,mt,Ct),Nt.restore(),tt.save(),tt.transform.apply(tt,_t.transform),tt.scale(1,-1),K(tt,Ft.canvas,0,0,mt,Ct,0,-1,1,1),tt.restore()}this.compose()}paintImageXObject(G){if(!this.contentVisible)return;const tt=this.getObject(G);if(!tt){(0,W.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(tt)}paintImageXObjectRepeat(G,tt,gt,A){if(!this.contentVisible)return;const Q=this.getObject(G);if(!Q){(0,W.warn)("Dependent image isn't ready yet");return}const dt=Q.width,_t=Q.height,mt=[];for(let Ct=0,Ft=A.length;Ct<Ft;Ct+=2)mt.push({transform:[tt,0,0,gt,A[Ct],A[Ct+1]],x:0,y:0,w:dt,h:_t});this.paintInlineImageXObjectGroup(Q,mt)}paintInlineImageXObject(G){if(!this.contentVisible)return;const tt=G.width,gt=G.height,A=this.ctx;this.save(),A.scale(1/tt,-1/gt);let Q;if(typeof HTMLElement=="function"&&G instanceof HTMLElement||!G.data)Q=G;else{const Ct=this.cachedCanvases.getCanvas("inlineImage",tt,gt,!1),Ft=Ct.context;St(Ft,G,this.current.transferMaps),Q=Ct.canvas}const dt=this._scaleImage(Q,A.mozCurrentTransformInverse);A.imageSmoothingEnabled=Mt(A.mozCurrentTransform,G.interpolate);const[_t,mt]=K(A,dt.img,0,0,dt.paintWidth,dt.paintHeight,0,-gt,tt,gt);if(this.imageLayer){const Ct=this.getCanvasPosition(0,-gt);this.imageLayer.appendImage({imgData:G,left:Ct[0],top:Ct[1],width:_t,height:mt})}this.compose(),this.restore()}paintInlineImageXObjectGroup(G,tt){if(!this.contentVisible)return;const gt=this.ctx,A=G.width,Q=G.height,dt=this.cachedCanvases.getCanvas("inlineImage",A,Q,!1),_t=dt.context;St(_t,G,this.current.transferMaps);for(let mt=0,Ct=tt.length;mt<Ct;mt++){const Ft=tt[mt];if(gt.save(),gt.transform.apply(gt,Ft.transform),gt.scale(1,-1),K(gt,dt.canvas,Ft.x,Ft.y,Ft.w,Ft.h,0,-1,1,1),this.imageLayer){const Nt=this.getCanvasPosition(Ft.x,Ft.y);this.imageLayer.appendImage({imgData:G,left:Nt[0],top:Nt[1],width:A,height:Q})}gt.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(G){}markPointProps(G,tt){}beginMarkedContent(G){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(G,tt){G==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(tt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(G){const tt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(G);const gt=this.ctx;this.pendingClip&&(tt||(this.pendingClip===jt?gt.clip("evenodd"):gt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),gt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const G=this.ctx.mozCurrentTransform;if(G[1]===0&&G[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(G[0]),Math.abs(G[3]));else{const tt=Math.abs(G[0]*G[3]-G[2]*G[1]),gt=Math.hypot(G[0],G[2]),A=Math.hypot(G[1],G[3]);this._cachedGetSinglePixelWidth=Math.max(gt,A)/tt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:G}=this.current,tt=this.ctx.mozCurrentTransform;let gt,A;if(tt[1]===0&&tt[2]===0){const Q=Math.abs(tt[0]),dt=Math.abs(tt[3]);if(G===0)gt=1/Q,A=1/dt;else{const _t=Q*G,mt=dt*G;gt=_t<1?1/_t:1,A=mt<1?1/mt:1}}else{const Q=Math.abs(tt[0]*tt[3]-tt[2]*tt[1]),dt=Math.hypot(tt[0],tt[1]),_t=Math.hypot(tt[2],tt[3]);if(G===0)gt=_t/Q,A=dt/Q;else{const mt=G*Q;gt=_t>mt?_t/mt:1,A=dt>mt?dt/mt:1}}this._cachedScaleForStroking=[gt,A]}return this._cachedScaleForStroking}rescaleAndStroke(G){const{ctx:tt}=this,{lineWidth:gt}=this.current,[A,Q]=this.getScaleForStroking();if(tt.lineWidth=gt||1,A===1&&Q===1){tt.stroke();return}let dt,_t,mt;G&&(dt=tt.mozCurrentTransform.slice(),_t=tt.getLineDash().slice(),mt=tt.lineDashOffset),tt.scale(A,Q);const Ct=Math.max(A,Q);tt.setLineDash(tt.getLineDash().map(Ft=>Ft/Ct)),tt.lineDashOffset/=Ct,tt.stroke(),G&&(tt.setTransform(...dt),tt.setLineDash(_t),tt.lineDashOffset=mt)}getCanvasPosition(G,tt){const gt=this.ctx.mozCurrentTransform;return[gt[0]*G+gt[2]*tt+gt[4],gt[1]*G+gt[3]*tt+gt[5]]}isContentVisible(){for(let G=this.markedContentStack.length-1;G>=0;G--)if(!this.markedContentStack[G].visible)return!1;return!0}}nt.CanvasGraphics=Gt;for(const ut in W.OPS)Gt.prototype[ut]!==void 0&&(Gt.prototype[W.OPS[ut]]=Gt.prototype[ut])},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.TilingPattern=nt.PathType=void 0,nt.getShadingPattern=D;var W=Z(1),yt=Z(3);const J={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};nt.PathType=J;function ht(B,q){if(!q||yt.isNodeJS)return;const et=q[2]-q[0],K=q[3]-q[1],ft=new Path2D;ft.rect(q[0],q[1],et,K),B.clip(ft)}class rt{constructor(){this.constructor===rt&&(0,W.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,W.unreachable)("Abstract method `getPattern` called.")}}class it extends rt{constructor(q){super(),this._type=q[1],this._bbox=q[2],this._colorStops=q[3],this._p0=q[4],this._p1=q[5],this._r0=q[6],this._r1=q[7],this.matrix=null}_createGradient(q){let et;this._type==="axial"?et=q.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(et=q.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const K of this._colorStops)et.addColorStop(K[0],K[1]);return et}getPattern(q,et,K,ft){let pt;if(ft===J.STROKE||ft===J.FILL){const St=et.current.getClippedPathBoundingBox(ft,q.mozCurrentTransform)||[0,0,0,0],xt=Math.ceil(St[2]-St[0])||1,ot=Math.ceil(St[3]-St[1])||1,at=et.cachedCanvases.getCanvas("pattern",xt,ot,!0),bt=at.context;bt.clearRect(0,0,bt.canvas.width,bt.canvas.height),bt.beginPath(),bt.rect(0,0,bt.canvas.width,bt.canvas.height),bt.translate(-St[0],-St[1]),K=W.Util.transform(K,[1,0,0,1,St[0],St[1]]),bt.transform.apply(bt,et.baseTransform),this.matrix&&bt.transform.apply(bt,this.matrix),ht(bt,this._bbox),bt.fillStyle=this._createGradient(bt),bt.fill(),pt=q.createPattern(at.canvas,"no-repeat");const Tt=new DOMMatrix(K);try{pt.setTransform(Tt)}catch(st){(0,W.warn)(`RadialAxialShadingPattern.getPattern: "${st==null?void 0:st.message}".`)}}else ht(q,this._bbox),pt=this._createGradient(q);return pt}}function Y(B,q,et,K,ft,pt,St,xt){const ot=q.coords,at=q.colors,bt=B.data,Tt=B.width*4;let st;ot[et+1]>ot[K+1]&&(st=et,et=K,K=st,st=pt,pt=St,St=st),ot[K+1]>ot[ft+1]&&(st=K,K=ft,ft=st,st=St,St=xt,xt=st),ot[et+1]>ot[K+1]&&(st=et,et=K,K=st,st=pt,pt=St,St=st);const Et=(ot[et]+q.offsetX)*q.scaleX,X=(ot[et+1]+q.offsetY)*q.scaleY,Mt=(ot[K]+q.offsetX)*q.scaleX,qt=(ot[K+1]+q.offsetY)*q.scaleY,Dt=(ot[ft]+q.offsetX)*q.scaleX,Ht=(ot[ft+1]+q.offsetY)*q.scaleY;if(X>=Ht)return;const jt=at[pt],Gt=at[pt+1],ut=at[pt+2],G=at[St],tt=at[St+1],gt=at[St+2],A=at[xt],Q=at[xt+1],dt=at[xt+2],_t=Math.round(X),mt=Math.round(Ht);let Ct,Ft,Nt,Ot,U,kt,Pt,wt;for(let At=_t;At<=mt;At++){if(At<qt){let Ut;At<X?Ut=0:Ut=(X-At)/(X-qt),Ct=Et-(Et-Mt)*Ut,Ft=jt-(jt-G)*Ut,Nt=Gt-(Gt-tt)*Ut,Ot=ut-(ut-gt)*Ut}else{let Ut;At>Ht?Ut=1:qt===Ht?Ut=0:Ut=(qt-At)/(qt-Ht),Ct=Mt-(Mt-Dt)*Ut,Ft=G-(G-A)*Ut,Nt=tt-(tt-Q)*Ut,Ot=gt-(gt-dt)*Ut}let Rt;At<X?Rt=0:At>Ht?Rt=1:Rt=(X-At)/(X-Ht),U=Et-(Et-Dt)*Rt,kt=jt-(jt-A)*Rt,Pt=Gt-(Gt-Q)*Rt,wt=ut-(ut-dt)*Rt;const It=Math.round(Math.min(Ct,U)),$t=Math.round(Math.max(Ct,U));let Lt=Tt*At+It*4;for(let Ut=It;Ut<=$t;Ut++)Rt=(Ct-Ut)/(Ct-U),Rt<0?Rt=0:Rt>1&&(Rt=1),bt[Lt++]=Ft-(Ft-kt)*Rt|0,bt[Lt++]=Nt-(Nt-Pt)*Rt|0,bt[Lt++]=Ot-(Ot-wt)*Rt|0,bt[Lt++]=255}}function V(B,q,et){const K=q.coords,ft=q.colors;let pt,St;switch(q.type){case"lattice":const xt=q.verticesPerRow,ot=Math.floor(K.length/xt)-1,at=xt-1;for(pt=0;pt<ot;pt++){let bt=pt*xt;for(let Tt=0;Tt<at;Tt++,bt++)Y(B,et,K[bt],K[bt+1],K[bt+xt],ft[bt],ft[bt+1],ft[bt+xt]),Y(B,et,K[bt+xt+1],K[bt+1],K[bt+xt],ft[bt+xt+1],ft[bt+1],ft[bt+xt])}break;case"triangles":for(pt=0,St=K.length;pt<St;pt+=3)Y(B,et,K[pt],K[pt+1],K[pt+2],ft[pt],ft[pt+1],ft[pt+2]);break;default:throw new Error("illegal figure")}}class ct extends rt{constructor(q){super(),this._coords=q[2],this._colors=q[3],this._figures=q[4],this._bounds=q[5],this._bbox=q[7],this._background=q[8],this.matrix=null}_createMeshCanvas(q,et,K){const xt=Math.floor(this._bounds[0]),ot=Math.floor(this._bounds[1]),at=Math.ceil(this._bounds[2])-xt,bt=Math.ceil(this._bounds[3])-ot,Tt=Math.min(Math.ceil(Math.abs(at*q[0]*1.1)),3e3),st=Math.min(Math.ceil(Math.abs(bt*q[1]*1.1)),3e3),Et=at/Tt,X=bt/st,Mt={coords:this._coords,colors:this._colors,offsetX:-xt,offsetY:-ot,scaleX:1/Et,scaleY:1/X},qt=Tt+2*2,Dt=st+2*2,Ht=K.getCanvas("mesh",qt,Dt,!1),jt=Ht.context,Gt=jt.createImageData(Tt,st);if(et){const G=Gt.data;for(let tt=0,gt=G.length;tt<gt;tt+=4)G[tt]=et[0],G[tt+1]=et[1],G[tt+2]=et[2],G[tt+3]=255}for(const G of this._figures)V(Gt,G,Mt);return jt.putImageData(Gt,2,2),{canvas:Ht.canvas,offsetX:xt-2*Et,offsetY:ot-2*X,scaleX:Et,scaleY:X}}getPattern(q,et,K,ft){ht(q,this._bbox);let pt;if(ft===J.SHADING)pt=W.Util.singularValueDecompose2dScale(q.mozCurrentTransform);else if(pt=W.Util.singularValueDecompose2dScale(et.baseTransform),this.matrix){const xt=W.Util.singularValueDecompose2dScale(this.matrix);pt=[pt[0]*xt[0],pt[1]*xt[1]]}const St=this._createMeshCanvas(pt,ft===J.SHADING?null:this._background,et.cachedCanvases);return ft!==J.SHADING&&(q.setTransform.apply(q,et.baseTransform),this.matrix&&q.transform.apply(q,this.matrix)),q.translate(St.offsetX,St.offsetY),q.scale(St.scaleX,St.scaleY),q.createPattern(St.canvas,"no-repeat")}}class lt extends rt{getPattern(){return"hotpink"}}function D(B){switch(B[0]){case"RadialAxial":return new it(B);case"Mesh":return new ct(B);case"Dummy":return new lt}throw new Error(`Unknown IR type: ${B[0]}`)}const E={COLORED:1,UNCOLORED:2};class R{static get MAX_PATTERN_SIZE(){return(0,W.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(q,et,K,ft,pt){this.operatorList=q[2],this.matrix=q[3]||[1,0,0,1,0,0],this.bbox=q[4],this.xstep=q[5],this.ystep=q[6],this.paintType=q[7],this.tilingType=q[8],this.color=et,this.ctx=K,this.canvasGraphicsFactory=ft,this.baseTransform=pt}createPatternCanvas(q){const et=this.operatorList,K=this.bbox,ft=this.xstep,pt=this.ystep,St=this.paintType,xt=this.tilingType,ot=this.color,at=this.canvasGraphicsFactory;(0,W.info)("TilingType: "+xt);const bt=K[0],Tt=K[1],st=K[2],Et=K[3],X=W.Util.singularValueDecompose2dScale(this.matrix),Mt=W.Util.singularValueDecompose2dScale(this.baseTransform),qt=[X[0]*Mt[0],X[1]*Mt[1]],Dt=this.getSizeAndScale(ft,this.ctx.canvas.width,qt[0]),Ht=this.getSizeAndScale(pt,this.ctx.canvas.height,qt[1]),jt=q.cachedCanvases.getCanvas("pattern",Dt.size,Ht.size,!0),Gt=jt.context,ut=at.createCanvasGraphics(Gt);ut.groupLevel=q.groupLevel,this.setFillAndStrokeStyleToContext(ut,St,ot);let G=bt,tt=Tt,gt=st,A=Et;return bt<0&&(G=0,gt+=Math.abs(bt)),Tt<0&&(tt=0,A+=Math.abs(Tt)),Gt.translate(-(Dt.scale*G),-(Ht.scale*tt)),ut.transform(Dt.scale,0,0,Ht.scale,0,0),Gt.save(),this.clipBbox(ut,G,tt,gt,A),ut.baseTransform=ut.ctx.mozCurrentTransform.slice(),ut.executeOperatorList(et),ut.endDrawing(),{canvas:jt.canvas,scaleX:Dt.scale,scaleY:Ht.scale,offsetX:G,offsetY:tt}}getSizeAndScale(q,et,K){q=Math.abs(q);const ft=Math.max(R.MAX_PATTERN_SIZE,et);let pt=Math.ceil(q*K);return pt>=ft?pt=ft:K=pt/q,{scale:K,size:pt}}clipBbox(q,et,K,ft,pt){const St=ft-et,xt=pt-K;q.ctx.rect(et,K,St,xt),q.current.updateRectMinMax(q.ctx.mozCurrentTransform,[et,K,ft,pt]),q.clip(),q.endPath()}setFillAndStrokeStyleToContext(q,et,K){const ft=q.ctx,pt=q.current;switch(et){case E.COLORED:const St=this.ctx;ft.fillStyle=St.fillStyle,ft.strokeStyle=St.strokeStyle,pt.fillColor=St.fillStyle,pt.strokeColor=St.strokeStyle;break;case E.UNCOLORED:const xt=W.Util.makeHexColor(K[0],K[1],K[2]);ft.fillStyle=xt,ft.strokeStyle=xt,pt.fillColor=xt,pt.strokeColor=xt;break;default:throw new W.FormatError(`Unsupported paint type: ${et}`)}}getPattern(q,et,K,ft){let pt=K;ft!==J.SHADING&&(pt=W.Util.transform(pt,et.baseTransform),this.matrix&&(pt=W.Util.transform(pt,this.matrix)));const St=this.createPatternCanvas(et);let xt=new DOMMatrix(pt);xt=xt.translate(St.offsetX,St.offsetY),xt=xt.scale(1/St.scaleX,1/St.scaleY);const ot=q.createPattern(St.canvas,"repeat");try{ot.setTransform(xt)}catch(at){(0,W.warn)(`TilingPattern.getPattern: "${at==null?void 0:at.message}".`)}return ot}}nt.TilingPattern=R},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.applyMaskImageData=yt;var W=Z(1);function yt({src:J,srcPos:ht=0,dest:rt,destPos:it=0,width:Y,height:V,inverseDecode:ct=!1}){const lt=W.FeatureTest.isLittleEndian?4278190080:255,[D,E]=ct?[0,lt]:[lt,0],R=Y>>3,B=Y&7,q=J.length;rt=new Uint32Array(rt.buffer);for(let et=0;et<V;et++){for(const ft=ht+R;ht<ft;ht++){const pt=ht<q?J[ht]:255;rt[it++]=pt&128?E:D,rt[it++]=pt&64?E:D,rt[it++]=pt&32?E:D,rt[it++]=pt&16?E:D,rt[it++]=pt&8?E:D,rt[it++]=pt&4?E:D,rt[it++]=pt&2?E:D,rt[it++]=pt&1?E:D}if(B===0)continue;const K=ht<q?J[ht++]:255;for(let ft=0;ft<B;ft++)rt[it++]=K&1<<7-ft?E:D}return{srcPos:ht,destPos:it}}},(vt,nt)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.GlobalWorkerOptions=void 0;const Z=Object.create(null);nt.GlobalWorkerOptions=Z,Z.workerPort=Z.workerPort===void 0?null:Z.workerPort,Z.workerSrc=Z.workerSrc===void 0?"":Z.workerSrc},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.MessageHandler=void 0;var W=Z(1);const yt={UNKNOWN:0,DATA:1,ERROR:2},J={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ht(it){switch(it instanceof Error||typeof it=="object"&&it!==null||(0,W.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),it.name){case"AbortException":return new W.AbortException(it.message);case"MissingPDFException":return new W.MissingPDFException(it.message);case"PasswordException":return new W.PasswordException(it.message,it.code);case"UnexpectedResponseException":return new W.UnexpectedResponseException(it.message,it.status);case"UnknownErrorException":return new W.UnknownErrorException(it.message,it.details);default:return new W.UnknownErrorException(it.message,it.toString())}}class rt{constructor(Y,V,ct){this.sourceName=Y,this.targetName=V,this.comObj=ct,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=lt=>{const D=lt.data;if(D.targetName!==this.sourceName)return;if(D.stream){this._processStreamMessage(D);return}if(D.callback){const R=D.callbackId,B=this.callbackCapabilities[R];if(!B)throw new Error(`Cannot resolve callback ${R}`);if(delete this.callbackCapabilities[R],D.callback===yt.DATA)B.resolve(D.data);else if(D.callback===yt.ERROR)B.reject(ht(D.reason));else throw new Error("Unexpected callback case");return}const E=this.actionHandler[D.action];if(!E)throw new Error(`Unknown action from worker: ${D.action}`);if(D.callbackId){const R=this.sourceName,B=D.sourceName;new Promise(function(q){q(E(D.data))}).then(function(q){ct.postMessage({sourceName:R,targetName:B,callback:yt.DATA,callbackId:D.callbackId,data:q})},function(q){ct.postMessage({sourceName:R,targetName:B,callback:yt.ERROR,callbackId:D.callbackId,reason:ht(q)})});return}if(D.streamId){this._createStreamSink(D);return}E(D.data)},ct.addEventListener("message",this._onComObjOnMessage)}on(Y,V){const ct=this.actionHandler;if(ct[Y])throw new Error(`There is already an actionName called "${Y}"`);ct[Y]=V}send(Y,V,ct){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Y,data:V},ct)}sendWithPromise(Y,V,ct){const lt=this.callbackId++,D=(0,W.createPromiseCapability)();this.callbackCapabilities[lt]=D;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Y,callbackId:lt,data:V},ct)}catch(E){D.reject(E)}return D.promise}sendWithStream(Y,V,ct,lt){const D=this.streamId++,E=this.sourceName,R=this.targetName,B=this.comObj;return new ReadableStream({start:q=>{const et=(0,W.createPromiseCapability)();return this.streamControllers[D]={controller:q,startCall:et,pullCall:null,cancelCall:null,isClosed:!1},B.postMessage({sourceName:E,targetName:R,action:Y,streamId:D,data:V,desiredSize:q.desiredSize},lt),et.promise},pull:q=>{const et=(0,W.createPromiseCapability)();return this.streamControllers[D].pullCall=et,B.postMessage({sourceName:E,targetName:R,stream:J.PULL,streamId:D,desiredSize:q.desiredSize}),et.promise},cancel:q=>{(0,W.assert)(q instanceof Error,"cancel must have a valid reason");const et=(0,W.createPromiseCapability)();return this.streamControllers[D].cancelCall=et,this.streamControllers[D].isClosed=!0,B.postMessage({sourceName:E,targetName:R,stream:J.CANCEL,streamId:D,reason:ht(q)}),et.promise}},ct)}_createStreamSink(Y){const V=Y.streamId,ct=this.sourceName,lt=Y.sourceName,D=this.comObj,E=this,R=this.actionHandler[Y.action],B={enqueue(q,et=1,K){if(this.isCancelled)return;const ft=this.desiredSize;this.desiredSize-=et,ft>0&&this.desiredSize<=0&&(this.sinkCapability=(0,W.createPromiseCapability)(),this.ready=this.sinkCapability.promise),D.postMessage({sourceName:ct,targetName:lt,stream:J.ENQUEUE,streamId:V,chunk:q},K)},close(){this.isCancelled||(this.isCancelled=!0,D.postMessage({sourceName:ct,targetName:lt,stream:J.CLOSE,streamId:V}),delete E.streamSinks[V])},error(q){(0,W.assert)(q instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,D.postMessage({sourceName:ct,targetName:lt,stream:J.ERROR,streamId:V,reason:ht(q)}))},sinkCapability:(0,W.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:Y.desiredSize,ready:null};B.sinkCapability.resolve(),B.ready=B.sinkCapability.promise,this.streamSinks[V]=B,new Promise(function(q){q(R(Y.data,B))}).then(function(){D.postMessage({sourceName:ct,targetName:lt,stream:J.START_COMPLETE,streamId:V,success:!0})},function(q){D.postMessage({sourceName:ct,targetName:lt,stream:J.START_COMPLETE,streamId:V,reason:ht(q)})})}_processStreamMessage(Y){const V=Y.streamId,ct=this.sourceName,lt=Y.sourceName,D=this.comObj,E=this.streamControllers[V],R=this.streamSinks[V];switch(Y.stream){case J.START_COMPLETE:Y.success?E.startCall.resolve():E.startCall.reject(ht(Y.reason));break;case J.PULL_COMPLETE:Y.success?E.pullCall.resolve():E.pullCall.reject(ht(Y.reason));break;case J.PULL:if(!R){D.postMessage({sourceName:ct,targetName:lt,stream:J.PULL_COMPLETE,streamId:V,success:!0});break}R.desiredSize<=0&&Y.desiredSize>0&&R.sinkCapability.resolve(),R.desiredSize=Y.desiredSize,new Promise(function(B){B(R.onPull&&R.onPull())}).then(function(){D.postMessage({sourceName:ct,targetName:lt,stream:J.PULL_COMPLETE,streamId:V,success:!0})},function(B){D.postMessage({sourceName:ct,targetName:lt,stream:J.PULL_COMPLETE,streamId:V,reason:ht(B)})});break;case J.ENQUEUE:if((0,W.assert)(E,"enqueue should have stream controller"),E.isClosed)break;E.controller.enqueue(Y.chunk);break;case J.CLOSE:if((0,W.assert)(E,"close should have stream controller"),E.isClosed)break;E.isClosed=!0,E.controller.close(),this._deleteStreamController(E,V);break;case J.ERROR:(0,W.assert)(E,"error should have stream controller"),E.controller.error(ht(Y.reason)),this._deleteStreamController(E,V);break;case J.CANCEL_COMPLETE:Y.success?E.cancelCall.resolve():E.cancelCall.reject(ht(Y.reason)),this._deleteStreamController(E,V);break;case J.CANCEL:if(!R)break;new Promise(function(B){B(R.onCancel&&R.onCancel(ht(Y.reason)))}).then(function(){D.postMessage({sourceName:ct,targetName:lt,stream:J.CANCEL_COMPLETE,streamId:V,success:!0})},function(B){D.postMessage({sourceName:ct,targetName:lt,stream:J.CANCEL_COMPLETE,streamId:V,reason:ht(B)})}),R.sinkCapability.reject(ht(Y.reason)),R.isCancelled=!0,delete this.streamSinks[V];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(Y,V){await Promise.allSettled([Y.startCall&&Y.startCall.promise,Y.pullCall&&Y.pullCall.promise,Y.cancelCall&&Y.cancelCall.promise]),delete this.streamControllers[V]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}nt.MessageHandler=rt},(vt,nt,Z)=>{var J,ht;Object.defineProperty(nt,"__esModule",{value:!0}),nt.Metadata=void 0;var W=Z(1);class yt{constructor({parsedData:it,rawData:Y}){ue(this,J,void 0);ue(this,ht,void 0);pe(this,J,it),pe(this,ht,Y)}getRaw(){return te(this,ht)}get(it){var Y;return(Y=te(this,J).get(it))!=null?Y:null}getAll(){return(0,W.objectFromMap)(te(this,J))}has(it){return te(this,J).has(it)}}J=new WeakMap,ht=new WeakMap,nt.Metadata=yt},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.OptionalContentConfig=void 0;var W=Z(1);class yt{constructor(rt,it){this.visible=!0,this.name=rt,this.intent=it}}class J{constructor(rt){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,rt!==null){this.name=rt.name,this.creator=rt.creator,this._order=rt.order;for(const it of rt.groups)this._groups.set(it.id,new yt(it.name,it.intent));if(rt.baseState==="OFF")for(const it of this._groups)it.visible=!1;for(const it of rt.on)this._groups.get(it).visible=!0;for(const it of rt.off)this._groups.get(it).visible=!1}}_evaluateVisibilityExpression(rt){const it=rt.length;if(it<2)return!0;const Y=rt[0];for(let V=1;V<it;V++){const ct=rt[V];let lt;if(Array.isArray(ct))lt=this._evaluateVisibilityExpression(ct);else if(this._groups.has(ct))lt=this._groups.get(ct).visible;else return(0,W.warn)(`Optional content group not found: ${ct}`),!0;switch(Y){case"And":if(!lt)return!1;break;case"Or":if(lt)return!0;break;case"Not":return!lt;default:return!0}}return Y==="And"}isVisible(rt){if(this._groups.size===0)return!0;if(!rt)return(0,W.warn)("Optional content group not defined."),!0;if(rt.type==="OCG")return this._groups.has(rt.id)?this._groups.get(rt.id).visible:((0,W.warn)(`Optional content group not found: ${rt.id}`),!0);if(rt.type==="OCMD"){if(rt.expression)return this._evaluateVisibilityExpression(rt.expression);if(!rt.policy||rt.policy==="AnyOn"){for(const it of rt.ids){if(!this._groups.has(it))return(0,W.warn)(`Optional content group not found: ${it}`),!0;if(this._groups.get(it).visible)return!0}return!1}else if(rt.policy==="AllOn"){for(const it of rt.ids){if(!this._groups.has(it))return(0,W.warn)(`Optional content group not found: ${it}`),!0;if(!this._groups.get(it).visible)return!1}return!0}else if(rt.policy==="AnyOff"){for(const it of rt.ids){if(!this._groups.has(it))return(0,W.warn)(`Optional content group not found: ${it}`),!0;if(!this._groups.get(it).visible)return!0}return!1}else if(rt.policy==="AllOff"){for(const it of rt.ids){if(!this._groups.has(it))return(0,W.warn)(`Optional content group not found: ${it}`),!0;if(this._groups.get(it).visible)return!1}return!0}return(0,W.warn)(`Unknown optional content policy ${rt.policy}.`),!0}return(0,W.warn)(`Unknown group type ${rt.type}.`),!0}setVisibility(rt,it=!0){if(!this._groups.has(rt)){(0,W.warn)(`Optional content group not found: ${rt}`);return}this._groups.get(rt).visible=!!it}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,W.objectFromMap)(this._groups):null}getGroup(rt){return this._groups.get(rt)||null}}nt.OptionalContentConfig=J},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.PDFDataTransportStream=void 0;var W=Z(1),yt=Z(5);class J{constructor(Y,V){(0,W.assert)(V,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Y.progressiveDone||!1,this._contentDispositionFilename=Y.contentDispositionFilename||null;const ct=Y.initialData;if((ct==null?void 0:ct.length)>0){const lt=new Uint8Array(ct).buffer;this._queuedChunks.push(lt)}this._pdfDataRangeTransport=V,this._isStreamingSupported=!Y.disableStream,this._isRangeSupported=!Y.disableRange,this._contentLength=Y.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((lt,D)=>{this._onReceiveData({begin:lt,chunk:D})}),this._pdfDataRangeTransport.addProgressListener((lt,D)=>{this._onProgress({loaded:lt,total:D})}),this._pdfDataRangeTransport.addProgressiveReadListener(lt=>{this._onReceiveData({chunk:lt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(Y){const V=new Uint8Array(Y.chunk).buffer;if(Y.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(V):this._queuedChunks.push(V);else{const ct=this._rangeReaders.some(function(lt){return lt._begin!==Y.begin?!1:(lt._enqueue(V),!0)});(0,W.assert)(ct,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Y,V;return(V=(Y=this._fullRequestReader)==null?void 0:Y._loaded)!=null?V:0}_onProgress(Y){if(Y.total===void 0){const V=this._rangeReaders[0];V!=null&&V.onProgress&&V.onProgress({loaded:Y.loaded})}else{const V=this._fullRequestReader;V!=null&&V.onProgress&&V.onProgress({loaded:Y.loaded,total:Y.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Y){const V=this._rangeReaders.indexOf(Y);V>=0&&this._rangeReaders.splice(V,1)}getFullReader(){(0,W.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Y=this._queuedChunks;return this._queuedChunks=null,new ht(this,Y,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Y,V){if(V<=this._progressiveDataLength)return null;const ct=new rt(this,Y,V);return this._pdfDataRangeTransport.requestDataRange(Y,V),this._rangeReaders.push(ct),ct}cancelAllRequests(Y){this._fullRequestReader&&this._fullRequestReader.cancel(Y);for(const V of this._rangeReaders.slice(0))V.cancel(Y);this._pdfDataRangeTransport.abort()}}nt.PDFDataTransportStream=J;class ht{constructor(Y,V,ct=!1,lt=null){this._stream=Y,this._done=ct||!1,this._filename=(0,yt.isPdfFile)(lt)?lt:null,this._queuedChunks=V||[],this._loaded=0;for(const D of this._queuedChunks)this._loaded+=D.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Y._fullRequestReader=this,this.onProgress=null}_enqueue(Y){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Y,done:!1}):this._queuedChunks.push(Y),this._loaded+=Y.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Y=(0,W.createPromiseCapability)();return this._requests.push(Y),Y.promise}cancel(Y){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class rt{constructor(Y,V,ct){this._stream=Y,this._begin=V,this._end=ct,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Y){if(!this._done){if(this._requests.length===0)this._queuedChunk=Y;else{this._requests.shift().resolve({value:Y,done:!1});for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const V=this._queuedChunk;return this._queuedChunk=null,{value:V,done:!1}}if(this._done)return{value:void 0,done:!0};const Y=(0,W.createPromiseCapability)();return this._requests.push(Y),Y.promise}cancel(Y){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(vt,nt)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.XfaText=void 0;class Z{static textContent(yt){const J=[],ht={items:J,styles:Object.create(null)};function rt(it){var ct;if(!it)return;let Y=null;const V=it.name;if(V==="#text")Y=it.value;else if(Z.shouldBuildText(V))(ct=it==null?void 0:it.attributes)!=null&&ct.textContent?Y=it.attributes.textContent:it.value&&(Y=it.value);else return;if(Y!==null&&J.push({str:Y}),!!it.children)for(const lt of it.children)rt(lt)}return rt(yt),ht}static shouldBuildText(yt){return!(yt==="textarea"||yt==="input"||yt==="option"||yt==="select")}}nt.XfaText=Z},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.NodeStandardFontDataFactory=nt.NodeCanvasFactory=nt.NodeCMapReaderFactory=void 0;var W=Z(6);const yt=function(it){return new Promise((Y,V)=>{require$$4.readFile(it,(lt,D)=>{if(lt||!D){V(new Error(lt));return}Y(new Uint8Array(D))})})};class J extends W.BaseCanvasFactory{_createCanvas(Y,V){return require$$4.createCanvas(Y,V)}}nt.NodeCanvasFactory=J;class ht extends W.BaseCMapReaderFactory{_fetchData(Y,V){return yt(Y).then(ct=>({cMapData:ct,compressionType:V}))}}nt.NodeCMapReaderFactory=ht;class rt extends W.BaseStandardFontDataFactory{_fetchData(Y){return yt(Y)}}nt.NodeStandardFontDataFactory=rt},(vt,nt,Z)=>{var G,Pe;Object.defineProperty(nt,"__esModule",{value:!0}),nt.AnnotationLayer=void 0;var W=Z(1),yt=Z(5),J=Z(8),ht=Z(21),rt=Z(22);const it=1e3,Y=new WeakSet;function V(gt){return{width:gt[2]-gt[0],height:gt[3]-gt[1]}}class ct{static create(A){switch(A.data.annotationType){case W.AnnotationType.LINK:return new D(A);case W.AnnotationType.TEXT:return new E(A);case W.AnnotationType.WIDGET:switch(A.data.fieldType){case"Tx":return new B(A);case"Btn":return A.data.radioButton?new et(A):A.data.checkBox?new q(A):new K(A);case"Ch":return new ft(A)}return new R(A);case W.AnnotationType.POPUP:return new pt(A);case W.AnnotationType.FREETEXT:return new xt(A);case W.AnnotationType.LINE:return new ot(A);case W.AnnotationType.SQUARE:return new at(A);case W.AnnotationType.CIRCLE:return new bt(A);case W.AnnotationType.POLYLINE:return new Tt(A);case W.AnnotationType.CARET:return new Et(A);case W.AnnotationType.INK:return new X(A);case W.AnnotationType.POLYGON:return new st(A);case W.AnnotationType.HIGHLIGHT:return new Mt(A);case W.AnnotationType.UNDERLINE:return new qt(A);case W.AnnotationType.SQUIGGLY:return new Dt(A);case W.AnnotationType.STRIKEOUT:return new Ht(A);case W.AnnotationType.STAMP:return new jt(A);case W.AnnotationType.FILEATTACHMENT:return new Gt(A);default:return new lt(A)}}}class lt{constructor(A,{isRenderable:Q=!1,ignoreBorder:dt=!1,createQuadrilaterals:_t=!1}={}){this.isRenderable=Q,this.data=A.data,this.layer=A.layer,this.page=A.page,this.viewport=A.viewport,this.linkService=A.linkService,this.downloadManager=A.downloadManager,this.imageResourcesPath=A.imageResourcesPath,this.renderForms=A.renderForms,this.svgFactory=A.svgFactory,this.annotationStorage=A.annotationStorage,this.enableScripting=A.enableScripting,this.hasJSActions=A.hasJSActions,this._fieldObjects=A.fieldObjects,this._mouseState=A.mouseState,Q&&(this.container=this._createContainer(dt)),_t&&(this.quadrilaterals=this._createQuadrilaterals(dt))}_createContainer(A=!1){const Q=this.data,dt=this.page,_t=this.viewport,mt=document.createElement("section");let{width:Ct,height:Ft}=V(Q.rect);mt.setAttribute("data-annotation-id",Q.id);const Nt=W.Util.normalizeRect([Q.rect[0],dt.view[3]-Q.rect[1]+dt.view[1],Q.rect[2],dt.view[3]-Q.rect[3]+dt.view[1]]);if(Q.hasOwnCanvas){const Ot=_t.transform.slice(),[U,kt]=W.Util.singularValueDecompose2dScale(Ot);Ct=Math.ceil(Ct*U),Ft=Math.ceil(Ft*kt),Nt[0]*=U,Nt[1]*=kt;for(let Pt=0;Pt<4;Pt++)Ot[Pt]=Math.sign(Ot[Pt]);mt.style.transform=`matrix(${Ot.join(",")})`}else mt.style.transform=`matrix(${_t.transform.join(",")})`;if(mt.style.transformOrigin=`${-Nt[0]}px ${-Nt[1]}px`,!A&&Q.borderStyle.width>0){mt.style.borderWidth=`${Q.borderStyle.width}px`,Q.borderStyle.style!==W.AnnotationBorderStyleType.UNDERLINE&&(Ct-=2*Q.borderStyle.width,Ft-=2*Q.borderStyle.width);const Ot=Q.borderStyle.horizontalCornerRadius,U=Q.borderStyle.verticalCornerRadius;if(Ot>0||U>0){const Pt=`${Ot}px / ${U}px`;mt.style.borderRadius=Pt}switch(Q.borderStyle.style){case W.AnnotationBorderStyleType.SOLID:mt.style.borderStyle="solid";break;case W.AnnotationBorderStyleType.DASHED:mt.style.borderStyle="dashed";break;case W.AnnotationBorderStyleType.BEVELED:(0,W.warn)("Unimplemented border style: beveled");break;case W.AnnotationBorderStyleType.INSET:(0,W.warn)("Unimplemented border style: inset");break;case W.AnnotationBorderStyleType.UNDERLINE:mt.style.borderBottomStyle="solid";break}Q.borderColor||Q.color||null?mt.style.borderColor=W.Util.makeHexColor(Q.color[0]|0,Q.color[1]|0,Q.color[2]|0):mt.style.borderWidth=0}return mt.style.left=`${Nt[0]}px`,mt.style.top=`${Nt[1]}px`,Q.hasOwnCanvas?mt.style.width=mt.style.height="auto":(mt.style.width=`${Ct}px`,mt.style.height=`${Ft}px`),mt}get _commonActions(){const A=(Q,dt,_t)=>{const mt=_t.detail[Q];_t.target.style[dt]=ht.ColorConverters[`${mt[0]}_HTML`](mt.slice(1))};return(0,W.shadow)(this,"_commonActions",{display:Q=>{const dt=Q.detail.display%2===1;Q.target.style.visibility=dt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:dt,print:Q.detail.display===0||Q.detail.display===3})},print:Q=>{this.annotationStorage.setValue(this.data.id,{print:Q.detail.print})},hidden:Q=>{Q.target.style.visibility=Q.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Q.detail.hidden})},focus:Q=>{setTimeout(()=>Q.target.focus({preventScroll:!1}),0)},userName:Q=>{Q.target.title=Q.detail.userName},readonly:Q=>{Q.detail.readonly?Q.target.setAttribute("readonly",""):Q.target.removeAttribute("readonly")},required:Q=>{Q.detail.required?Q.target.setAttribute("required",""):Q.target.removeAttribute("required")},bgColor:Q=>{A("bgColor","backgroundColor",Q)},fillColor:Q=>{A("fillColor","backgroundColor",Q)},fgColor:Q=>{A("fgColor","color",Q)},textColor:Q=>{A("textColor","color",Q)},borderColor:Q=>{A("borderColor","borderColor",Q)},strokeColor:Q=>{A("strokeColor","borderColor",Q)}})}_dispatchEventFromSandbox(A,Q){const dt=this._commonActions;for(const _t of Object.keys(Q.detail)){const mt=A[_t]||dt[_t];mt&&mt(Q)}}_setDefaultPropertiesFromJS(A){if(!this.enableScripting)return;const Q=this.annotationStorage.getRawValue(this.data.id);if(!Q)return;const dt=this._commonActions;for(const[_t,mt]of Object.entries(Q)){const Ct=dt[_t];Ct&&(Ct({detail:mt,target:A}),delete Q[_t])}}_createQuadrilaterals(A=!1){if(!this.data.quadPoints)return null;const Q=[],dt=this.data.rect;for(const _t of this.data.quadPoints)this.data.rect=[_t[2].x,_t[2].y,_t[1].x,_t[1].y],Q.push(this._createContainer(A));return this.data.rect=dt,Q}_createPopup(A,Q){let dt=this.container;this.quadrilaterals&&(A=A||this.quadrilaterals,dt=this.quadrilaterals[0]),A||(A=document.createElement("div"),A.style.height=dt.style.height,A.style.width=dt.style.width,dt.appendChild(A));const mt=new St({container:dt,trigger:A,color:Q.color,titleObj:Q.titleObj,modificationDate:Q.modificationDate,contentsObj:Q.contentsObj,richText:Q.richText,hideWrapper:!0}).render();mt.style.left=dt.style.width,dt.appendChild(mt)}_renderQuadrilaterals(A){for(const Q of this.quadrilaterals)Q.className=A;return this.quadrilaterals}render(){(0,W.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(A,Q=null){const dt=[];if(this._fieldObjects){const _t=this._fieldObjects[A];if(_t)for(const{page:mt,id:Ct,exportValues:Ft}of _t){if(mt===-1||Ct===Q)continue;const Nt=typeof Ft=="string"?Ft:null,Ot=document.getElementById(Ct);if(Ot&&!Y.has(Ot)){(0,W.warn)(`_getElementsByName - element not allowed: ${Ct}`);continue}dt.push({id:Ct,exportValue:Nt,domElement:Ot})}return dt}for(const _t of document.getElementsByName(A)){const{id:mt,exportValue:Ct}=_t;mt!==Q&&(!Y.has(_t)||dt.push({id:mt,exportValue:Ct,domElement:_t}))}return dt}static get platform(){const A=typeof navigator!="undefined"?navigator.platform:"";return(0,W.shadow)(this,"platform",{isWin:A.includes("Win"),isMac:A.includes("Mac")})}}class D extends lt{constructor(A,Q=null){const dt=!!(A.data.url||A.data.dest||A.data.action||A.data.isTooltipOnly||A.data.resetForm||A.data.actions&&(A.data.actions.Action||A.data.actions["Mouse Up"]||A.data.actions["Mouse Down"]));super(A,{isRenderable:dt,ignoreBorder:!!(Q!=null&&Q.ignoreBorder),createQuadrilaterals:!0})}render(){const{data:A,linkService:Q}=this,dt=document.createElement("a");if(A.url)Q.addLinkAttributes(dt,A.url,A.newWindow);else if(A.action)this._bindNamedAction(dt,A.action);else if(A.dest)this._bindLink(dt,A.dest);else{let _t=!1;A.actions&&(A.actions.Action||A.actions["Mouse Up"]||A.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(_t=!0,this._bindJSAction(dt,A)),A.resetForm?this._bindResetFormAction(dt,A.resetForm):_t||this._bindLink(dt,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((_t,mt)=>{const Ct=mt===0?dt:dt.cloneNode();return _t.appendChild(Ct),_t}):(this.container.className="linkAnnotation",this.container.appendChild(dt),this.container)}_bindLink(A,Q){A.href=this.linkService.getDestinationHash(Q),A.onclick=()=>(Q&&this.linkService.goToDestination(Q),!1),(Q||Q==="")&&(A.className="internalLink")}_bindNamedAction(A,Q){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.linkService.executeNamedAction(Q),!1),A.className="internalLink"}_bindJSAction(A,Q){A.href=this.linkService.getAnchorUrl("");const dt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _t of Object.keys(Q.actions)){const mt=dt.get(_t);!mt||(A[mt]=()=>{var Ct;return(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q.id,name:_t}}),!1})}A.onclick||(A.onclick=()=>!1),A.className="internalLink"}_bindResetFormAction(A,Q){const dt=A.onclick;if(dt||(A.href=this.linkService.getAnchorUrl("")),A.className="internalLink",!this._fieldObjects){(0,W.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),dt||(A.onclick=()=>!1);return}A.onclick=()=>{var U;dt&&dt();const{fields:_t,refs:mt,include:Ct}=Q,Ft=[];if(_t.length!==0||mt.length!==0){const kt=new Set(mt);for(const Pt of _t){const wt=this._fieldObjects[Pt]||[];for(const{id:At}of wt)kt.add(At)}for(const Pt of Object.values(this._fieldObjects))for(const wt of Pt)kt.has(wt.id)===Ct&&Ft.push(wt)}else for(const kt of Object.values(this._fieldObjects))Ft.push(...kt);const Nt=this.annotationStorage,Ot=[];for(const kt of Ft){const{id:Pt}=kt;switch(Ot.push(Pt),kt.type){case"text":{const At=kt.defaultValue||"";Nt.setValue(Pt,{value:At});break}case"checkbox":case"radiobutton":{const At=kt.defaultValue===kt.exportValues;Nt.setValue(Pt,{value:At});break}case"combobox":case"listbox":{const At=kt.defaultValue||"";Nt.setValue(Pt,{value:At});break}default:continue}const wt=document.getElementById(Pt);!wt||!Y.has(wt)||wt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ot,name:"ResetForm"}})),!1}}}class E extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q})}render(){this.container.className="textAnnotation";const A=document.createElement("img");return A.style.height=this.container.style.height,A.style.width=this.container.style.width,A.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",A.alt="[{{type}} Annotation]",A.dataset.l10nId="text_annotation_type",A.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(A,this.data),this.container.appendChild(A),this.container}}class R extends lt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(A){const{isWin:Q,isMac:dt}=lt.platform;return Q&&A.ctrlKey||dt&&A.metaKey}_setEventListener(A,Q,dt,_t){Q.includes("mouse")?A.addEventListener(Q,mt=>{var Ct;(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:dt,value:_t(mt),shift:mt.shiftKey,modifier:this._getKeyModifier(mt)}})}):A.addEventListener(Q,mt=>{var Ct;(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:dt,value:_t(mt)}})})}_setEventListeners(A,Q,dt){var _t;for(const[mt,Ct]of Q)(Ct==="Action"||((_t=this.data.actions)==null?void 0:_t[Ct]))&&this._setEventListener(A,mt,Ct,dt)}_setBackgroundColor(A){const Q=this.data.backgroundColor||null;A.style.backgroundColor=Q===null?"transparent":W.Util.makeHexColor(Q[0],Q[1],Q[2])}}class B extends R{constructor(A){const Q=A.renderForms||!A.data.hasAppearance&&!!A.data.fieldValue;super(A,{isRenderable:Q})}setPropertyOnSiblings(A,Q,dt,_t){const mt=this.annotationStorage;for(const Ct of this._getElementsByName(A.name,A.id))Ct.domElement&&(Ct.domElement[Q]=dt),mt.setValue(Ct.id,{[_t]:dt})}render(){var _t;const A=this.annotationStorage,Q=this.data.id;this.container.className="textWidgetAnnotation";let dt=null;if(this.renderForms){const mt=A.getValue(Q,{value:this.data.fieldValue}),Ct=mt.formattedValue||mt.value||"",Ft={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(dt=document.createElement("textarea"),dt.textContent=Ct):(dt=document.createElement("input"),dt.type="text",dt.setAttribute("value",Ct)),Y.add(dt),dt.disabled=this.data.readOnly,dt.name=this.data.fieldName,dt.tabIndex=it,Ft.userValue=Ct,dt.setAttribute("id",Q),dt.addEventListener("input",Ot=>{A.setValue(Q,{value:Ot.target.value}),this.setPropertyOnSiblings(dt,"value",Ot.target.value,"value")}),dt.addEventListener("resetform",Ot=>{var kt;const U=(kt=this.data.defaultFieldValue)!=null?kt:"";dt.value=Ft.userValue=U,Ft.formattedValue=null});let Nt=Ot=>{const{formattedValue:U}=Ft;U!=null&&(Ot.target.value=U),Ot.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){dt.addEventListener("focus",U=>{Ft.userValue&&(U.target.value=Ft.userValue),Ft.valueOnFocus=U.target.value}),dt.addEventListener("updatefromsandbox",U=>{const kt={value(Pt){var wt;Ft.userValue=(wt=Pt.detail.value)!=null?wt:"",A.setValue(Q,{value:Ft.userValue.toString()}),Pt.target.value=Ft.userValue},formattedValue(Pt){const{formattedValue:wt}=Pt.detail;Ft.formattedValue=wt,wt!=null&&Pt.target!==document.activeElement&&(Pt.target.value=wt),A.setValue(Q,{formattedValue:wt})},selRange(Pt){Pt.target.setSelectionRange(...Pt.detail.selRange)}};this._dispatchEventFromSandbox(kt,U)}),dt.addEventListener("keydown",U=>{var wt;let kt=-1;if(U.key==="Escape"?kt=0:U.key==="Enter"?kt=2:U.key==="Tab"&&(kt=3),kt===-1)return;const{value:Pt}=U.target;Ft.valueOnFocus!==Pt&&(Ft.userValue=Pt,(wt=this.linkService.eventBus)==null||wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:Pt,willCommit:!0,commitKey:kt,selStart:U.target.selectionStart,selEnd:U.target.selectionEnd}}))});const Ot=Nt;Nt=null,dt.addEventListener("blur",U=>{var Pt;const{value:kt}=U.target;Ft.userValue=kt,this._mouseState.isDown&&Ft.valueOnFocus!==kt&&((Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:kt,willCommit:!0,commitKey:1,selStart:U.target.selectionStart,selEnd:U.target.selectionEnd}})),Ot(U)}),(_t=this.data.actions)!=null&&_t.Keystroke&&dt.addEventListener("beforeinput",U=>{var Lt;const{data:kt,target:Pt}=U,{value:wt,selectionStart:At,selectionEnd:Rt}=Pt;let It=At,$t=Rt;switch(U.inputType){case"deleteWordBackward":{const Ut=wt.substring(0,At).match(/\w*[^\w]*$/);Ut&&(It-=Ut[0].length);break}case"deleteWordForward":{const Ut=wt.substring(At).match(/^[^\w]*\w*/);Ut&&($t+=Ut[0].length);break}case"deleteContentBackward":At===Rt&&(It-=1);break;case"deleteContentForward":At===Rt&&($t+=1);break}U.preventDefault(),(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:wt,change:kt||"",willCommit:!1,selStart:It,selEnd:$t}})}),this._setEventListeners(dt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.value)}if(Nt&&dt.addEventListener("blur",Nt),this.data.maxLen!==null&&(dt.maxLength=this.data.maxLen),this.data.comb){const U=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;dt.classList.add("comb"),dt.style.letterSpacing=`calc(${U}px - 1ch)`}}else dt=document.createElement("div"),dt.textContent=this.data.fieldValue,dt.style.verticalAlign="middle",dt.style.display="table-cell";return this._setTextStyle(dt),this._setBackgroundColor(dt),this._setDefaultPropertiesFromJS(dt),this.container.appendChild(dt),this.container}_setTextStyle(A){const Q=["left","center","right"],{fontSize:dt,fontColor:_t}=this.data.defaultAppearanceData,mt=A.style;dt&&(mt.fontSize=`${dt}px`),mt.color=W.Util.makeHexColor(_t[0],_t[1],_t[2]),this.data.textAlignment!==null&&(mt.textAlign=Q[this.data.textAlignment])}}class q extends R{constructor(A){super(A,{isRenderable:A.renderForms})}render(){const A=this.annotationStorage,Q=this.data,dt=Q.id;let _t=A.getValue(dt,{value:Q.exportValue===Q.fieldValue}).value;typeof _t=="string"&&(_t=_t!=="Off",A.setValue(dt,{value:_t})),this.container.className="buttonWidgetAnnotation checkBox";const mt=document.createElement("input");return Y.add(mt),mt.disabled=Q.readOnly,mt.type="checkbox",mt.name=Q.fieldName,_t&&mt.setAttribute("checked",!0),mt.setAttribute("id",dt),mt.setAttribute("exportValue",Q.exportValue),mt.tabIndex=it,mt.addEventListener("change",Ct=>{const{name:Ft,checked:Nt}=Ct.target;for(const Ot of this._getElementsByName(Ft,dt)){const U=Nt&&Ot.exportValue===Q.exportValue;Ot.domElement&&(Ot.domElement.checked=U),A.setValue(Ot.id,{value:U})}A.setValue(dt,{value:Nt})}),mt.addEventListener("resetform",Ct=>{const Ft=Q.defaultFieldValue||"Off";Ct.target.checked=Ft===Q.exportValue}),this.enableScripting&&this.hasJSActions&&(mt.addEventListener("updatefromsandbox",Ct=>{const Ft={value(Nt){Nt.target.checked=Nt.detail.value!=="Off",A.setValue(dt,{value:Nt.target.checked})}};this._dispatchEventFromSandbox(Ft,Ct)}),this._setEventListeners(mt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ct=>Ct.target.checked)),this._setBackgroundColor(mt),this._setDefaultPropertiesFromJS(mt),this.container.appendChild(mt),this.container}}class et extends R{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const A=this.annotationStorage,Q=this.data,dt=Q.id;let _t=A.getValue(dt,{value:Q.fieldValue===Q.buttonValue}).value;typeof _t=="string"&&(_t=_t!==Q.buttonValue,A.setValue(dt,{value:_t}));const mt=document.createElement("input");if(Y.add(mt),mt.disabled=Q.readOnly,mt.type="radio",mt.name=Q.fieldName,_t&&mt.setAttribute("checked",!0),mt.setAttribute("id",dt),mt.tabIndex=it,mt.addEventListener("change",Ct=>{const{name:Ft,checked:Nt}=Ct.target;for(const Ot of this._getElementsByName(Ft,dt))A.setValue(Ot.id,{value:!1});A.setValue(dt,{value:Nt})}),mt.addEventListener("resetform",Ct=>{const Ft=Q.defaultFieldValue;Ct.target.checked=Ft!=null&&Ft===Q.buttonValue}),this.enableScripting&&this.hasJSActions){const Ct=Q.buttonValue;mt.addEventListener("updatefromsandbox",Ft=>{const Nt={value:Ot=>{const U=Ct===Ot.detail.value;for(const kt of this._getElementsByName(Ot.target.name)){const Pt=U&&kt.id===dt;kt.domElement&&(kt.domElement.checked=Pt),A.setValue(kt.id,{value:Pt})}}};this._dispatchEventFromSandbox(Nt,Ft)}),this._setEventListeners(mt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ft=>Ft.target.checked)}return this._setBackgroundColor(mt),this._setDefaultPropertiesFromJS(mt),this.container.appendChild(mt),this.container}}class K extends D{constructor(A){super(A,{ignoreBorder:A.data.hasAppearance})}render(){const A=super.render();return A.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(A.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(A),A}}class ft extends R{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const A=this.annotationStorage,Q=this.data.id,dt=A.getValue(Q,{value:this.data.fieldValue});let{fontSize:_t}=this.data.defaultAppearanceData;_t||(_t=9);const mt=`calc(${_t}px * var(--zoom-factor))`,Ct=document.createElement("select");Y.add(Ct),Ct.disabled=this.data.readOnly,Ct.name=this.data.fieldName,Ct.setAttribute("id",Q),Ct.tabIndex=it,Ct.style.fontSize=`${_t}px`,this.data.combo||(Ct.size=this.data.options.length,this.data.multiSelect&&(Ct.multiple=!0)),Ct.addEventListener("resetform",Ot=>{const U=this.data.defaultFieldValue;for(const kt of Ct.options)kt.selected=kt.value===U});for(const Ot of this.data.options){const U=document.createElement("option");U.textContent=Ot.displayValue,U.value=Ot.exportValue,this.data.combo&&(U.style.fontSize=mt),dt.value.includes(Ot.exportValue)&&U.setAttribute("selected",!0),Ct.appendChild(U)}const Ft=(Ot,U)=>{const kt=U?"value":"textContent",Pt=Ot.target.options;return Ot.target.multiple?Array.prototype.filter.call(Pt,wt=>wt.selected).map(wt=>wt[kt]):Pt.selectedIndex===-1?null:Pt[Pt.selectedIndex][kt]},Nt=Ot=>{const U=Ot.target.options;return Array.prototype.map.call(U,kt=>({displayValue:kt.textContent,exportValue:kt.value}))};return this.enableScripting&&this.hasJSActions?(Ct.addEventListener("updatefromsandbox",Ot=>{const U={value(kt){const Pt=kt.detail.value,wt=new Set(Array.isArray(Pt)?Pt:[Pt]);for(const At of Ct.options)At.selected=wt.has(At.value);A.setValue(Q,{value:Ft(kt,!0)})},multipleSelection(kt){Ct.multiple=!0},remove(kt){const Pt=Ct.options,wt=kt.detail.remove;Pt[wt].selected=!1,Ct.remove(wt),Pt.length>0&&Array.prototype.findIndex.call(Pt,Rt=>Rt.selected)===-1&&(Pt[0].selected=!0),A.setValue(Q,{value:Ft(kt,!0),items:Nt(kt)})},clear(kt){for(;Ct.length!==0;)Ct.remove(0);A.setValue(Q,{value:null,items:[]})},insert(kt){const{index:Pt,displayValue:wt,exportValue:At}=kt.detail.insert,Rt=document.createElement("option");Rt.textContent=wt,Rt.value=At,Ct.insertBefore(Rt,Ct.children[Pt]),A.setValue(Q,{value:Ft(kt,!0),items:Nt(kt)})},items(kt){const{items:Pt}=kt.detail;for(;Ct.length!==0;)Ct.remove(0);for(const wt of Pt){const{displayValue:At,exportValue:Rt}=wt,It=document.createElement("option");It.textContent=At,It.value=Rt,Ct.appendChild(It)}Ct.options.length>0&&(Ct.options[0].selected=!0),A.setValue(Q,{value:Ft(kt,!0),items:Nt(kt)})},indices(kt){const Pt=new Set(kt.detail.indices);for(const wt of kt.target.options)wt.selected=Pt.has(wt.index);A.setValue(Q,{value:Ft(kt,!0)})},editable(kt){kt.target.disabled=!kt.detail.editable}};this._dispatchEventFromSandbox(U,Ot)}),Ct.addEventListener("input",Ot=>{var Pt;const U=Ft(Ot,!0),kt=Ft(Ot,!1);A.setValue(Q,{value:U}),(Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Q,name:"Keystroke",value:kt,changeEx:U,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ct,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Ot=>Ot.target.checked)):Ct.addEventListener("input",function(Ot){A.setValue(Q,{value:Ft(Ot,!0)})}),this._setBackgroundColor(Ct),this._setDefaultPropertiesFromJS(Ct),this.container.appendChild(Ct),this.container}}class pt extends lt{constructor(A){var dt,_t,mt;const Q=!!(((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q})}render(){const A=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",A.includes(this.data.parentType))return this.container;const Q=`[data-annotation-id="${this.data.parentId}"]`,dt=this.layer.querySelectorAll(Q);if(dt.length===0)return this.container;const _t=new St({container:this.container,trigger:Array.from(dt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),mt=this.page,Ct=W.Util.normalizeRect([this.data.parentRect[0],mt.view[3]-this.data.parentRect[1]+mt.view[1],this.data.parentRect[2],mt.view[3]-this.data.parentRect[3]+mt.view[1]]),Ft=Ct[0]+this.data.parentRect[2]-this.data.parentRect[0],Nt=Ct[1];return this.container.style.transformOrigin=`${-Ft}px ${-Nt}px`,this.container.style.left=`${Ft}px`,this.container.style.top=`${Nt}px`,this.container.appendChild(_t.render()),this.container}}class St{constructor(A){this.container=A.container,this.trigger=A.trigger,this.color=A.color,this.titleObj=A.titleObj,this.modificationDate=A.modificationDate,this.contentsObj=A.contentsObj,this.richText=A.richText,this.hideWrapper=A.hideWrapper||!1,this.pinned=!1}render(){var Ft,Nt;const Q=document.createElement("div");Q.className="popupWrapper",this.hideElement=this.hideWrapper?Q:this.container,this.hideElement.hidden=!0;const dt=document.createElement("div");dt.className="popup";const _t=this.color;if(_t){const Ot=.7*(255-_t[0])+_t[0],U=.7*(255-_t[1])+_t[1],kt=.7*(255-_t[2])+_t[2];dt.style.backgroundColor=W.Util.makeHexColor(Ot|0,U|0,kt|0)}const mt=document.createElement("h1");mt.dir=this.titleObj.dir,mt.textContent=this.titleObj.str,dt.appendChild(mt);const Ct=yt.PDFDateString.toDateObject(this.modificationDate);if(Ct){const Ot=document.createElement("span");Ot.className="popupDate",Ot.textContent="{{date}}, {{time}}",Ot.dataset.l10nId="annotation_date_string",Ot.dataset.l10nArgs=JSON.stringify({date:Ct.toLocaleDateString(),time:Ct.toLocaleTimeString()}),dt.appendChild(Ot)}if(((Ft=this.richText)==null?void 0:Ft.str)&&(!((Nt=this.contentsObj)!=null&&Nt.str)||this.contentsObj.str===this.richText.str))rt.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:dt}),dt.lastChild.className="richText popupContent";else{const Ot=this._formatContents(this.contentsObj);dt.appendChild(Ot)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Ot of this.trigger)Ot.addEventListener("click",this._toggle.bind(this)),Ot.addEventListener("mouseover",this._show.bind(this,!1)),Ot.addEventListener("mouseout",this._hide.bind(this,!1));return dt.addEventListener("click",this._hide.bind(this,!0)),Q.appendChild(dt),Q}_formatContents({str:A,dir:Q}){const dt=document.createElement("p");dt.className="popupContent",dt.dir=Q;const _t=A.split(/(?:\r\n?|\n)/);for(let mt=0,Ct=_t.length;mt<Ct;++mt){const Ft=_t[mt];dt.appendChild(document.createTextNode(Ft)),mt<Ct-1&&dt.appendChild(document.createElement("br"))}return dt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(A=!1){A&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(A=!0){A&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class xt extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ot extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const A=this.data,{width:Q,height:dt}=V(A.rect),_t=this.svgFactory.create(Q,dt),mt=this.svgFactory.createElement("svg:line");return mt.setAttribute("x1",A.rect[2]-A.lineCoordinates[0]),mt.setAttribute("y1",A.rect[3]-A.lineCoordinates[1]),mt.setAttribute("x2",A.rect[2]-A.lineCoordinates[2]),mt.setAttribute("y2",A.rect[3]-A.lineCoordinates[3]),mt.setAttribute("stroke-width",A.borderStyle.width||1),mt.setAttribute("stroke","transparent"),mt.setAttribute("fill","transparent"),_t.appendChild(mt),this.container.append(_t),this._createPopup(mt,A),this.container}}class at extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const A=this.data,{width:Q,height:dt}=V(A.rect),_t=this.svgFactory.create(Q,dt),mt=A.borderStyle.width,Ct=this.svgFactory.createElement("svg:rect");return Ct.setAttribute("x",mt/2),Ct.setAttribute("y",mt/2),Ct.setAttribute("width",Q-mt),Ct.setAttribute("height",dt-mt),Ct.setAttribute("stroke-width",mt||1),Ct.setAttribute("stroke","transparent"),Ct.setAttribute("fill","transparent"),_t.appendChild(Ct),this.container.append(_t),this._createPopup(Ct,A),this.container}}class bt extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const A=this.data,{width:Q,height:dt}=V(A.rect),_t=this.svgFactory.create(Q,dt),mt=A.borderStyle.width,Ct=this.svgFactory.createElement("svg:ellipse");return Ct.setAttribute("cx",Q/2),Ct.setAttribute("cy",dt/2),Ct.setAttribute("rx",Q/2-mt/2),Ct.setAttribute("ry",dt/2-mt/2),Ct.setAttribute("stroke-width",mt||1),Ct.setAttribute("stroke","transparent"),Ct.setAttribute("fill","transparent"),_t.appendChild(Ct),this.container.append(_t),this._createPopup(Ct,A),this.container}}class Tt extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const A=this.data,{width:Q,height:dt}=V(A.rect),_t=this.svgFactory.create(Q,dt);let mt=[];for(const Ft of A.vertices){const Nt=Ft.x-A.rect[0],Ot=A.rect[3]-Ft.y;mt.push(Nt+","+Ot)}mt=mt.join(" ");const Ct=this.svgFactory.createElement(this.svgElementName);return Ct.setAttribute("points",mt),Ct.setAttribute("stroke-width",A.borderStyle.width||1),Ct.setAttribute("stroke","transparent"),Ct.setAttribute("fill","transparent"),_t.appendChild(Ct),this.container.append(_t),this._createPopup(Ct,A),this.container}}class st extends Tt{constructor(A){super(A),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Et extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class X extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const A=this.data,{width:Q,height:dt}=V(A.rect),_t=this.svgFactory.create(Q,dt);for(const mt of A.inkLists){let Ct=[];for(const Nt of mt){const Ot=Nt.x-A.rect[0],U=A.rect[3]-Nt.y;Ct.push(`${Ot},${U}`)}Ct=Ct.join(" ");const Ft=this.svgFactory.createElement(this.svgElementName);Ft.setAttribute("points",Ct),Ft.setAttribute("stroke-width",A.borderStyle.width||1),Ft.setAttribute("stroke","transparent"),Ft.setAttribute("fill","transparent"),this._createPopup(Ft,A),_t.appendChild(Ft)}return this.container.append(_t),this.container}}class Mt extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class qt extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Dt extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Ht extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class jt extends lt{constructor(A){var dt,_t,mt;const Q=!!(A.data.hasPopup||((dt=A.data.titleObj)==null?void 0:dt.str)||((_t=A.data.contentsObj)==null?void 0:_t.str)||((mt=A.data.richText)==null?void 0:mt.str));super(A,{isRenderable:Q,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Gt extends lt{constructor(A){var _t;super(A,{isRenderable:!0});const{filename:Q,content:dt}=this.data.file;this.filename=(0,yt.getFilenameFromUrl)(Q),this.content=dt,(_t=this.linkService.eventBus)==null||_t.dispatch("fileattachmentannotation",{source:this,filename:Q,content:dt})}render(){var Q,dt;this.container.className="fileAttachmentAnnotation";const A=document.createElement("div");return A.style.height=this.container.style.height,A.style.width=this.container.style.width,A.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((Q=this.data.titleObj)==null?void 0:Q.str)||((dt=this.data.contentsObj)==null?void 0:dt.str)||this.data.richText)&&this._createPopup(A,this.data),this.container.appendChild(A),this.container}_download(){var A;(A=this.downloadManager)==null||A.openOrDownloadData(this.container,this.content,this.filename)}}class ut{static render(A){const Q=[],dt=[];for(const mt of A.annotations){if(!mt)continue;const{width:Ct,height:Ft}=V(mt.rect);if(!(Ct<=0||Ft<=0)){if(mt.annotationType===W.AnnotationType.POPUP){dt.push(mt);continue}Q.push(mt)}}dt.length&&Q.push(...dt);const _t=A.div;for(const mt of Q){const Ct=ct.create({data:mt,layer:_t,page:A.page,viewport:A.viewport,linkService:A.linkService,downloadManager:A.downloadManager,imageResourcesPath:A.imageResourcesPath||"",renderForms:A.renderForms!==!1,svgFactory:new yt.DOMSVGFactory,annotationStorage:A.annotationStorage||new J.AnnotationStorage,enableScripting:A.enableScripting,hasJSActions:A.hasJSActions,fieldObjects:A.fieldObjects,mouseState:A.mouseState||{isDown:!1}});if(Ct.isRenderable){const Ft=Ct.render();if(mt.hidden&&(Ft.style.visibility="hidden"),Array.isArray(Ft))for(const Nt of Ft)_t.appendChild(Nt);else Ct instanceof pt?_t.prepend(Ft):_t.appendChild(Ft)}}ye(this,G,Pe).call(this,_t,A.annotationCanvasMap)}static update(A){const{page:Q,viewport:dt,annotations:_t,annotationCanvasMap:mt,div:Ct}=A,Ft=dt.transform,Nt=`matrix(${Ft.join(",")})`;let Ot,U;for(const kt of _t){const Pt=Ct.querySelectorAll(`[data-annotation-id="${kt.id}"]`);if(Pt)for(const wt of Pt)if(kt.hasOwnCanvas){const At=W.Util.normalizeRect([kt.rect[0],Q.view[3]-kt.rect[1]+Q.view[1],kt.rect[2],Q.view[3]-kt.rect[3]+Q.view[1]]);if(!U){Ot=Math.abs(Ft[0]||Ft[1]);const $t=Ft.slice();for(let Lt=0;Lt<4;Lt++)$t[Lt]=Math.sign($t[Lt]);U=`matrix(${$t.join(",")})`}const Rt=At[0]*Ot,It=At[1]*Ot;wt.style.left=`${Rt}px`,wt.style.top=`${It}px`,wt.style.transformOrigin=`${-Rt}px ${-It}px`,wt.style.transform=U}else wt.style.transform=Nt}ye(this,G,Pe).call(this,Ct,mt),Ct.hidden=!1}}G=new WeakSet,Pe=function(A,Q){if(!!Q){for(const[dt,_t]of Q){const mt=A.querySelector(`[data-annotation-id="${dt}"]`);if(!mt)continue;const{firstChild:Ct}=mt;Ct.nodeName==="CANVAS"?mt.replaceChild(_t,Ct):mt.insertBefore(_t,Ct)}Q.clear()}},ue(ut,G),nt.AnnotationLayer=ut},(vt,nt)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.ColorConverters=void 0;function Z(yt){return Math.floor(Math.max(0,Math.min(1,yt))*255).toString(16).padStart(2,"0")}class W{static CMYK_G([J,ht,rt,it]){return["G",1-Math.min(1,.3*J+.59*rt+.11*ht+it)]}static G_CMYK([J]){return["CMYK",0,0,0,1-J]}static G_RGB([J]){return["RGB",J,J,J]}static G_HTML([J]){const ht=Z(J);return`#${ht}${ht}${ht}`}static RGB_G([J,ht,rt]){return["G",.3*J+.59*ht+.11*rt]}static RGB_HTML([J,ht,rt]){const it=Z(J),Y=Z(ht),V=Z(rt);return`#${it}${Y}${V}`}static T_HTML(){return"#00000000"}static CMYK_RGB([J,ht,rt,it]){return["RGB",1-Math.min(1,J+it),1-Math.min(1,rt+it),1-Math.min(1,ht+it)]}static CMYK_HTML(J){return this.RGB_HTML(this.CMYK_RGB(J))}static RGB_CMYK([J,ht,rt]){const it=1-J,Y=1-ht,V=1-rt,ct=Math.min(it,Y,V);return["CMYK",it,Y,V,ct]}}nt.ColorConverters=W},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.XfaLayer=void 0;var W=Z(18);class yt{static setupStorage(ht,rt,it,Y,V){const ct=Y.getValue(rt,{value:null});switch(it.name){case"textarea":if(ct.value!==null&&(ht.textContent=ct.value),V==="print")break;ht.addEventListener("input",lt=>{Y.setValue(rt,{value:lt.target.value})});break;case"input":if(it.attributes.type==="radio"||it.attributes.type==="checkbox"){if(ct.value===it.attributes.xfaOn?ht.setAttribute("checked",!0):ct.value===it.attributes.xfaOff&&ht.removeAttribute("checked"),V==="print")break;ht.addEventListener("change",lt=>{Y.setValue(rt,{value:lt.target.checked?lt.target.getAttribute("xfaOn"):lt.target.getAttribute("xfaOff")})})}else{if(ct.value!==null&&ht.setAttribute("value",ct.value),V==="print")break;ht.addEventListener("input",lt=>{Y.setValue(rt,{value:lt.target.value})})}break;case"select":if(ct.value!==null)for(const lt of it.children)lt.attributes.value===ct.value&&(lt.attributes.selected=!0);ht.addEventListener("input",lt=>{const D=lt.target.options,E=D.selectedIndex===-1?"":D[D.selectedIndex].value;Y.setValue(rt,{value:E})});break}}static setAttributes({html:ht,element:rt,storage:it=null,intent:Y,linkService:V}){const{attributes:ct}=rt,lt=ht instanceof HTMLAnchorElement;ct.type==="radio"&&(ct.name=`${ct.name}-${Y}`);for(const[D,E]of Object.entries(ct))if(!(E==null||D==="dataId"))if(D!=="style")if(D==="textContent")ht.textContent=E;else if(D==="class")E.length&&ht.setAttribute(D,E.join(" "));else{if(lt&&(D==="href"||D==="newWindow"))continue;ht.setAttribute(D,E)}else Object.assign(ht.style,E);lt&&V.addLinkAttributes(ht,ct.href,ct.newWindow),it&&ct.dataId&&this.setupStorage(ht,ct.dataId,rt,it)}static render(ht){var R;const rt=ht.annotationStorage,it=ht.linkService,Y=ht.xfaHtml,V=ht.intent||"display",ct=document.createElement(Y.name);Y.attributes&&this.setAttributes({html:ct,element:Y,intent:V,linkService:it});const lt=[[Y,-1,ct]],D=ht.div;if(D.appendChild(ct),ht.viewport){const B=`matrix(${ht.viewport.transform.join(",")})`;D.style.transform=B}V!=="richText"&&D.setAttribute("class","xfaLayer xfaFont");const E=[];for(;lt.length>0;){const[B,q,et]=lt[lt.length-1];if(q+1===B.children.length){lt.pop();continue}const K=B.children[++lt[lt.length-1][1]];if(K===null)continue;const{name:ft}=K;if(ft==="#text"){const St=document.createTextNode(K.value);E.push(St),et.appendChild(St);continue}let pt;if((R=K==null?void 0:K.attributes)!=null&&R.xmlns?pt=document.createElementNS(K.attributes.xmlns,ft):pt=document.createElement(ft),et.appendChild(pt),K.attributes&&this.setAttributes({html:pt,element:K,storage:rt,intent:V,linkService:it}),K.children&&K.children.length>0)lt.push([K,-1,pt]);else if(K.value){const St=document.createTextNode(K.value);W.XfaText.shouldBuildText(ft)&&E.push(St),pt.appendChild(St)}}for(const B of D.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))B.setAttribute("readOnly",!0);return{textDivs:E}}static update(ht){const rt=`matrix(${ht.viewport.transform.join(",")})`;ht.div.style.transform=rt,ht.div.hidden=!1}}nt.XfaLayer=yt},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.renderTextLayer=q;var W=Z(1);const yt=1e5,J=30,ht=.8,rt=new Map,it=/^\s+$/g;function Y(et,K){const ft=rt.get(et);if(ft)return ft;K.save(),K.font=`${J}px ${et}`;const pt=K.measureText("");let St=pt.fontBoundingBoxAscent,xt=Math.abs(pt.fontBoundingBoxDescent);if(St){K.restore();const at=St/(St+xt);return rt.set(et,at),at}K.strokeStyle="red",K.clearRect(0,0,J,J),K.strokeText("g",0,0);let ot=K.getImageData(0,0,J,J).data;xt=0;for(let at=ot.length-1-3;at>=0;at-=4)if(ot[at]>0){xt=Math.ceil(at/4/J);break}K.clearRect(0,0,J,J),K.strokeText("A",0,J),ot=K.getImageData(0,0,J,J).data,St=0;for(let at=0,bt=ot.length;at<bt;at+=4)if(ot[at]>0){St=J-Math.floor(at/4/J);break}if(K.restore(),St){const at=St/(St+xt);return rt.set(et,at),at}return rt.set(et,ht),ht}function V(et,K,ft,pt){const St=document.createElement("span"),xt=et._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:K.str!=="",hasEOL:K.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:K.str!=="",hasEOL:K.hasEOL};et._textDivs.push(St);const ot=W.Util.transform(et._viewport.transform,K.transform);let at=Math.atan2(ot[1],ot[0]);const bt=ft[K.fontName];bt.vertical&&(at+=Math.PI/2);const Tt=Math.hypot(ot[2],ot[3]),st=Tt*Y(bt.fontFamily,pt);let Et,X;at===0?(Et=ot[4],X=ot[5]-st):(Et=ot[4]+st*Math.sin(at),X=ot[5]-st*Math.cos(at)),St.style.left=`${Et}px`,St.style.top=`${X}px`,St.style.fontSize=`${Tt}px`,St.style.fontFamily=bt.fontFamily,St.setAttribute("role","presentation"),St.textContent=K.str,St.dir=K.dir,et._fontInspectorEnabled&&(St.dataset.fontName=K.fontName),at!==0&&(xt.angle=at*(180/Math.PI));let Mt=!1;if(K.str.length>1||et._enhanceTextSelection&&it.test(K.str))Mt=!0;else if(K.str!==" "&&K.transform[0]!==K.transform[3]){const qt=Math.abs(K.transform[0]),Dt=Math.abs(K.transform[3]);qt!==Dt&&Math.max(qt,Dt)/Math.min(qt,Dt)>1.5&&(Mt=!0)}if(Mt&&(bt.vertical?xt.canvasWidth=K.height*et._viewport.scale:xt.canvasWidth=K.width*et._viewport.scale),et._textDivProperties.set(St,xt),et._textContentStream&&et._layoutText(St),et._enhanceTextSelection&&xt.hasText){let qt=1,Dt=0;at!==0&&(qt=Math.cos(at),Dt=Math.sin(at));const Ht=(bt.vertical?K.height:K.width)*et._viewport.scale,jt=Tt;let Gt,ut;at!==0?(Gt=[qt,Dt,-Dt,qt,Et,X],ut=W.Util.getAxialAlignedBoundingBox([0,0,Ht,jt],Gt)):ut=[Et,X,Et+Ht,X+jt],et._bounds.push({left:ut[0],top:ut[1],right:ut[2],bottom:ut[3],div:St,size:[Ht,jt],m:Gt})}}function ct(et){if(et._canceled)return;const K=et._textDivs,ft=et._capability,pt=K.length;if(pt>yt){et._renderingDone=!0,ft.resolve();return}if(!et._textContentStream)for(let St=0;St<pt;St++)et._layoutText(K[St]);et._renderingDone=!0,ft.resolve()}function lt(et,K,ft){let pt=0;for(let St=0;St<ft;St++){const xt=et[K++];xt>0&&(pt=pt?Math.min(xt,pt):xt)}return pt}function D(et){const K=et._bounds,ft=et._viewport,pt=E(ft.width,ft.height,K);for(let St=0;St<pt.length;St++){const xt=K[St].div,ot=et._textDivProperties.get(xt);if(ot.angle===0){ot.paddingLeft=K[St].left-pt[St].left,ot.paddingTop=K[St].top-pt[St].top,ot.paddingRight=pt[St].right-K[St].right,ot.paddingBottom=pt[St].bottom-K[St].bottom,et._textDivProperties.set(xt,ot);continue}const at=pt[St],bt=K[St],Tt=bt.m,st=Tt[0],Et=Tt[1],X=[[0,0],[0,bt.size[1]],[bt.size[0],0],bt.size],Mt=new Float64Array(64);for(let Dt=0,Ht=X.length;Dt<Ht;Dt++){const jt=W.Util.applyTransform(X[Dt],Tt);Mt[Dt+0]=st&&(at.left-jt[0])/st,Mt[Dt+4]=Et&&(at.top-jt[1])/Et,Mt[Dt+8]=st&&(at.right-jt[0])/st,Mt[Dt+12]=Et&&(at.bottom-jt[1])/Et,Mt[Dt+16]=Et&&(at.left-jt[0])/-Et,Mt[Dt+20]=st&&(at.top-jt[1])/st,Mt[Dt+24]=Et&&(at.right-jt[0])/-Et,Mt[Dt+28]=st&&(at.bottom-jt[1])/st,Mt[Dt+32]=st&&(at.left-jt[0])/-st,Mt[Dt+36]=Et&&(at.top-jt[1])/-Et,Mt[Dt+40]=st&&(at.right-jt[0])/-st,Mt[Dt+44]=Et&&(at.bottom-jt[1])/-Et,Mt[Dt+48]=Et&&(at.left-jt[0])/Et,Mt[Dt+52]=st&&(at.top-jt[1])/-st,Mt[Dt+56]=Et&&(at.right-jt[0])/Et,Mt[Dt+60]=st&&(at.bottom-jt[1])/-st}const qt=1+Math.min(Math.abs(st),Math.abs(Et));ot.paddingLeft=lt(Mt,32,16)/qt,ot.paddingTop=lt(Mt,48,16)/qt,ot.paddingRight=lt(Mt,0,16)/qt,ot.paddingBottom=lt(Mt,16,16)/qt,et._textDivProperties.set(xt,ot)}}function E(et,K,ft){const pt=ft.map(function(xt,ot){return{x1:xt.left,y1:xt.top,x2:xt.right,y2:xt.bottom,index:ot,x1New:void 0,x2New:void 0}});R(et,pt);const St=new Array(ft.length);for(const xt of pt){const ot=xt.index;St[ot]={left:xt.x1New,top:0,right:xt.x2New,bottom:0}}ft.map(function(xt,ot){const at=St[ot],bt=pt[ot];bt.x1=xt.top,bt.y1=et-at.right,bt.x2=xt.bottom,bt.y2=et-at.left,bt.index=ot,bt.x1New=void 0,bt.x2New=void 0}),R(K,pt);for(const xt of pt){const ot=xt.index;St[ot].top=xt.x1New,St[ot].bottom=xt.x2New}return St}function R(et,K){K.sort(function(St,xt){return St.x1-xt.x1||St.index-xt.index});const pt=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const St of K){let xt=0;for(;xt<pt.length&&pt[xt].end<=St.y1;)xt++;let ot=pt.length-1;for(;ot>=0&&pt[ot].start>=St.y2;)ot--;let at,bt,Tt,st,Et=-1/0;for(Tt=xt;Tt<=ot;Tt++){at=pt[Tt],bt=at.boundary;let qt;bt.x2>St.x1?qt=bt.index>St.index?bt.x1New:St.x1:bt.x2New===void 0?qt=(bt.x2+St.x1)/2:qt=bt.x2New,qt>Et&&(Et=qt)}for(St.x1New=Et,Tt=xt;Tt<=ot;Tt++)at=pt[Tt],bt=at.boundary,bt.x2New===void 0?bt.x2>St.x1?bt.index>St.index&&(bt.x2New=bt.x2):bt.x2New=Et:bt.x2New>Et&&(bt.x2New=Math.max(Et,bt.x2));const X=[];let Mt=null;for(Tt=xt;Tt<=ot;Tt++){at=pt[Tt],bt=at.boundary;const qt=bt.x2>St.x2?bt:St;Mt===qt?X[X.length-1].end=at.end:(X.push({start:at.start,end:at.end,boundary:qt}),Mt=qt)}for(pt[xt].start<St.y1&&(X[0].start=St.y1,X.unshift({start:pt[xt].start,end:St.y1,boundary:pt[xt].boundary})),St.y2<pt[ot].end&&(X[X.length-1].end=St.y2,X.push({start:St.y2,end:pt[ot].end,boundary:pt[ot].boundary})),Tt=xt;Tt<=ot;Tt++){if(at=pt[Tt],bt=at.boundary,bt.x2New!==void 0)continue;let qt=!1;for(st=xt-1;!qt&&st>=0&&pt[st].start>=bt.y1;st--)qt=pt[st].boundary===bt;for(st=ot+1;!qt&&st<pt.length&&pt[st].end<=bt.y2;st++)qt=pt[st].boundary===bt;for(st=0;!qt&&st<X.length;st++)qt=X[st].boundary===bt;qt||(bt.x2New=Et)}Array.prototype.splice.apply(pt,[xt,ot-xt+1].concat(X))}for(const St of pt){const xt=St.boundary;xt.x2New===void 0&&(xt.x2New=Math.max(et,xt.x2))}}class B{constructor({textContent:K,textContentStream:ft,container:pt,viewport:St,textDivs:xt,textContentItemsStr:ot,enhanceTextSelection:at}){var bt;this._textContent=K,this._textContentStream=ft,this._container=pt,this._document=pt.ownerDocument,this._viewport=St,this._textDivs=xt||[],this._textContentItemsStr=ot||[],this._enhanceTextSelection=!!at,this._fontInspectorEnabled=!!((bt=globalThis.FontInspector)!=null&&bt.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,W.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new W.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(K,ft){for(let pt=0,St=K.length;pt<St;pt++){if(K[pt].str===void 0){if(K[pt].type==="beginMarkedContentProps"||K[pt].type==="beginMarkedContent"){const xt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),K[pt].id!==null&&this._container.setAttribute("id",`${K[pt].id}`),xt.appendChild(this._container)}else K[pt].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(K[pt].str),V(this,K[pt],ft,this._layoutTextCtx)}}_layoutText(K){const ft=this._textDivProperties.get(K);let pt="";if(ft.canvasWidth!==0&&ft.hasText){const{fontSize:St,fontFamily:xt}=K.style;(St!==this._layoutTextLastFontSize||xt!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${St} ${xt}`,this._layoutTextLastFontSize=St,this._layoutTextLastFontFamily=xt);const{width:ot}=this._layoutTextCtx.measureText(K.textContent);if(ot>0){const at=ft.canvasWidth/ot;this._enhanceTextSelection&&(ft.scale=at),pt=`scaleX(${at})`}}if(ft.angle!==0&&(pt=`rotate(${ft.angle}deg) ${pt}`),pt.length>0&&(this._enhanceTextSelection&&(ft.originalTransform=pt),K.style.transform=pt),ft.hasText&&this._container.appendChild(K),ft.hasEOL){const St=document.createElement("br");St.setAttribute("role","presentation"),this._container.appendChild(St)}}_render(K=0){const ft=(0,W.createPromiseCapability)();let pt=Object.create(null);const St=this._document.createElement("canvas");if(St.height=St.width=J,this._layoutTextCtx=St.getContext("2d",{alpha:!1}),this._textContent){const xt=this._textContent.items,ot=this._textContent.styles;this._processItems(xt,ot),ft.resolve()}else if(this._textContentStream){const xt=()=>{this._reader.read().then(({value:ot,done:at})=>{if(at){ft.resolve();return}Object.assign(pt,ot.styles),this._processItems(ot.items,pt),xt()},ft.reject)};this._reader=this._textContentStream.getReader(),xt()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');ft.promise.then(()=>{pt=null,K?this._renderTimer=setTimeout(()=>{ct(this),this._renderTimer=null},K):ct(this)},this._capability.reject)}expandTextDivs(K=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(D(this),this._bounds=null);const ft=[],pt=[];for(let St=0,xt=this._textDivs.length;St<xt;St++){const ot=this._textDivs[St],at=this._textDivProperties.get(ot);!at.hasText||(K?(ft.length=0,pt.length=0,at.originalTransform&&ft.push(at.originalTransform),at.paddingTop>0?(pt.push(`${at.paddingTop}px`),ft.push(`translateY(${-at.paddingTop}px)`)):pt.push(0),at.paddingRight>0?pt.push(`${at.paddingRight/at.scale}px`):pt.push(0),at.paddingBottom>0?pt.push(`${at.paddingBottom}px`):pt.push(0),at.paddingLeft>0?(pt.push(`${at.paddingLeft/at.scale}px`),ft.push(`translateX(${-at.paddingLeft/at.scale}px)`)):pt.push(0),ot.style.padding=pt.join(" "),ft.length&&(ot.style.transform=ft.join(" "))):(ot.style.padding=null,ot.style.transform=at.originalTransform))}}}function q(et){const K=new B({textContent:et.textContent,textContentStream:et.textContentStream,container:et.container,viewport:et.viewport,textDivs:et.textDivs,textContentItemsStr:et.textContentItemsStr,enhanceTextSelection:et.enhanceTextSelection});return K._render(et.timeout),K}},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.SVGGraphics=void 0;var W=Z(1),yt=Z(5),J=Z(3);let ht=class{constructor(){(0,W.unreachable)("Not implemented: SVGGraphics")}};nt.SVGGraphics=ht;{let et=function(ot){let at=[];const bt=[];for(const Tt of ot){if(Tt.fn==="save"){at.push({fnId:92,fn:"group",items:[]}),bt.push(at),at=at[at.length-1].items;continue}Tt.fn==="restore"?at=bt.pop():at.push(Tt)}return at},K=function(ot){if(Number.isInteger(ot))return ot.toString();const at=ot.toFixed(10);let bt=at.length-1;if(at[bt]!=="0")return at;do bt--;while(at[bt]==="0");return at.substring(0,at[bt]==="."?bt:bt+1)},ft=function(ot){if(ot[4]===0&&ot[5]===0){if(ot[1]===0&&ot[2]===0)return ot[0]===1&&ot[3]===1?"":`scale(${K(ot[0])} ${K(ot[3])})`;if(ot[0]===ot[3]&&ot[1]===-ot[2]){const at=Math.acos(ot[0])*180/Math.PI;return`rotate(${K(at)})`}}else if(ot[0]===1&&ot[1]===0&&ot[2]===0&&ot[3]===1)return`translate(${K(ot[4])} ${K(ot[5])})`;return`matrix(${K(ot[0])} ${K(ot[1])} ${K(ot[2])} ${K(ot[3])} ${K(ot[4])} ${K(ot[5])})`};var Y=et,rt=K,it=ft;const V={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},ct="http://www.w3.org/XML/1998/namespace",lt="http://www.w3.org/1999/xlink",D=["butt","round","square"],E=["miter","round","bevel"],R=function(ot,at="",bt=!1){if(URL.createObjectURL&&typeof Blob!="undefined"&&!bt)return URL.createObjectURL(new Blob([ot],{type:at}));const Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let st=`data:${at};base64,`;for(let Et=0,X=ot.length;Et<X;Et+=3){const Mt=ot[Et]&255,qt=ot[Et+1]&255,Dt=ot[Et+2]&255,Ht=Mt>>2,jt=(Mt&3)<<4|qt>>4,Gt=Et+1<X?(qt&15)<<2|Dt>>6:64,ut=Et+2<X?Dt&63:64;st+=Tt[Ht]+Tt[jt]+Tt[Gt]+Tt[ut]}return st},B=function(){const ot=new Uint8Array([137,80,78,71,13,10,26,10]),at=12,bt=new Int32Array(256);for(let Dt=0;Dt<256;Dt++){let Ht=Dt;for(let jt=0;jt<8;jt++)Ht&1?Ht=3988292384^Ht>>1&2147483647:Ht=Ht>>1&2147483647;bt[Dt]=Ht}function Tt(Dt,Ht,jt){let Gt=-1;for(let ut=Ht;ut<jt;ut++){const G=(Gt^Dt[ut])&255,tt=bt[G];Gt=Gt>>>8^tt}return Gt^-1}function st(Dt,Ht,jt,Gt){let ut=Gt;const G=Ht.length;jt[ut]=G>>24&255,jt[ut+1]=G>>16&255,jt[ut+2]=G>>8&255,jt[ut+3]=G&255,ut+=4,jt[ut]=Dt.charCodeAt(0)&255,jt[ut+1]=Dt.charCodeAt(1)&255,jt[ut+2]=Dt.charCodeAt(2)&255,jt[ut+3]=Dt.charCodeAt(3)&255,ut+=4,jt.set(Ht,ut),ut+=Ht.length;const tt=Tt(jt,Gt+4,ut);jt[ut]=tt>>24&255,jt[ut+1]=tt>>16&255,jt[ut+2]=tt>>8&255,jt[ut+3]=tt&255}function Et(Dt,Ht,jt){let Gt=1,ut=0;for(let G=Ht;G<jt;++G)Gt=(Gt+(Dt[G]&255))%65521,ut=(ut+Gt)%65521;return ut<<16|Gt}function X(Dt){if(!J.isNodeJS)return Mt(Dt);try{let Ht;parseInt(process.versions.node)>=8?Ht=Dt:Ht=Buffer.from(Dt);const jt=require("zlib").deflateSync(Ht,{level:9});return jt instanceof Uint8Array?jt:new Uint8Array(jt)}catch(Ht){(0,W.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ht)}return Mt(Dt)}function Mt(Dt){let Ht=Dt.length;const jt=65535,Gt=Math.ceil(Ht/jt),ut=new Uint8Array(2+Ht+Gt*5+4);let G=0;ut[G++]=120,ut[G++]=156;let tt=0;for(;Ht>jt;)ut[G++]=0,ut[G++]=255,ut[G++]=255,ut[G++]=0,ut[G++]=0,ut.set(Dt.subarray(tt,tt+jt),G),G+=jt,tt+=jt,Ht-=jt;ut[G++]=1,ut[G++]=Ht&255,ut[G++]=Ht>>8&255,ut[G++]=~Ht&65535&255,ut[G++]=(~Ht&65535)>>8&255,ut.set(Dt.subarray(tt),G),G+=Dt.length-tt;const gt=Et(Dt,0,Dt.length);return ut[G++]=gt>>24&255,ut[G++]=gt>>16&255,ut[G++]=gt>>8&255,ut[G++]=gt&255,ut}function qt(Dt,Ht,jt,Gt){const ut=Dt.width,G=Dt.height;let tt,gt,A;const Q=Dt.data;switch(Ht){case W.ImageKind.GRAYSCALE_1BPP:gt=0,tt=1,A=ut+7>>3;break;case W.ImageKind.RGB_24BPP:gt=2,tt=8,A=ut*3;break;case W.ImageKind.RGBA_32BPP:gt=6,tt=8,A=ut*4;break;default:throw new Error("invalid format")}const dt=new Uint8Array((1+A)*G);let _t=0,mt=0;for(let kt=0;kt<G;++kt)dt[_t++]=0,dt.set(Q.subarray(mt,mt+A),_t),mt+=A,_t+=A;if(Ht===W.ImageKind.GRAYSCALE_1BPP&&Gt){_t=0;for(let kt=0;kt<G;kt++){_t++;for(let Pt=0;Pt<A;Pt++)dt[_t++]^=255}}const Ct=new Uint8Array([ut>>24&255,ut>>16&255,ut>>8&255,ut&255,G>>24&255,G>>16&255,G>>8&255,G&255,tt,gt,0,0,0]),Ft=X(dt),Nt=ot.length+at*3+Ct.length+Ft.length,Ot=new Uint8Array(Nt);let U=0;return Ot.set(ot,U),U+=ot.length,st("IHDR",Ct,Ot,U),U+=at+Ct.length,st("IDATA",Ft,Ot,U),U+=at+Ft.length,st("IEND",new Uint8Array(0),Ot,U),R(Ot,"image/png",jt)}return function(Ht,jt,Gt){const ut=Ht.kind===void 0?W.ImageKind.GRAYSCALE_1BPP:Ht.kind;return qt(Ht,ut,jt,Gt)}}();class q{constructor(){this.fontSizeScale=1,this.fontWeight=V.fontWeight,this.fontSize=0,this.textMatrix=W.IDENTITY_MATRIX,this.fontMatrix=W.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=W.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=V.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(at,bt){this.x=at,this.y=bt}}let pt=0,St=0,xt=0;nt.SVGGraphics=ht=class{constructor(ot,at,bt=!1){this.svgFactory=new yt.DOMSVGFactory,this.current=new q,this.transformMatrix=W.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ot,this.objs=at,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!bt,this._operatorIdMapping=[];for(const Tt in W.OPS)this._operatorIdMapping[W.OPS[Tt]]=Tt}save(){this.transformStack.push(this.transformMatrix);const ot=this.current;this.extraStack.push(ot),this.current=ot.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ot){this.save(),this.executeOpTree(ot),this.restore()}loadDependencies(ot){const at=ot.fnArray,bt=ot.argsArray;for(let Tt=0,st=at.length;Tt<st;Tt++)if(at[Tt]===W.OPS.dependency)for(const Et of bt[Tt]){const X=Et.startsWith("g_")?this.commonObjs:this.objs,Mt=new Promise(qt=>{X.get(Et,qt)});this.current.dependencies.push(Mt)}return Promise.all(this.current.dependencies)}transform(ot,at,bt,Tt,st,Et){const X=[ot,at,bt,Tt,st,Et];this.transformMatrix=W.Util.transform(this.transformMatrix,X),this.tgrp=null}getSVG(ot,at){this.viewport=at;const bt=this._initialize(at);return this.loadDependencies(ot).then(()=>(this.transformMatrix=W.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ot)),bt))}convertOpList(ot){const at=this._operatorIdMapping,bt=ot.argsArray,Tt=ot.fnArray,st=[];for(let Et=0,X=Tt.length;Et<X;Et++){const Mt=Tt[Et];st.push({fnId:Mt,fn:at[Mt],args:bt[Et]})}return et(st)}executeOpTree(ot){for(const at of ot){const bt=at.fn,Tt=at.fnId,st=at.args;switch(Tt|0){case W.OPS.beginText:this.beginText();break;case W.OPS.dependency:break;case W.OPS.setLeading:this.setLeading(st);break;case W.OPS.setLeadingMoveText:this.setLeadingMoveText(st[0],st[1]);break;case W.OPS.setFont:this.setFont(st);break;case W.OPS.showText:this.showText(st[0]);break;case W.OPS.showSpacedText:this.showText(st[0]);break;case W.OPS.endText:this.endText();break;case W.OPS.moveText:this.moveText(st[0],st[1]);break;case W.OPS.setCharSpacing:this.setCharSpacing(st[0]);break;case W.OPS.setWordSpacing:this.setWordSpacing(st[0]);break;case W.OPS.setHScale:this.setHScale(st[0]);break;case W.OPS.setTextMatrix:this.setTextMatrix(st[0],st[1],st[2],st[3],st[4],st[5]);break;case W.OPS.setTextRise:this.setTextRise(st[0]);break;case W.OPS.setTextRenderingMode:this.setTextRenderingMode(st[0]);break;case W.OPS.setLineWidth:this.setLineWidth(st[0]);break;case W.OPS.setLineJoin:this.setLineJoin(st[0]);break;case W.OPS.setLineCap:this.setLineCap(st[0]);break;case W.OPS.setMiterLimit:this.setMiterLimit(st[0]);break;case W.OPS.setFillRGBColor:this.setFillRGBColor(st[0],st[1],st[2]);break;case W.OPS.setStrokeRGBColor:this.setStrokeRGBColor(st[0],st[1],st[2]);break;case W.OPS.setStrokeColorN:this.setStrokeColorN(st);break;case W.OPS.setFillColorN:this.setFillColorN(st);break;case W.OPS.shadingFill:this.shadingFill(st[0]);break;case W.OPS.setDash:this.setDash(st[0],st[1]);break;case W.OPS.setRenderingIntent:this.setRenderingIntent(st[0]);break;case W.OPS.setFlatness:this.setFlatness(st[0]);break;case W.OPS.setGState:this.setGState(st[0]);break;case W.OPS.fill:this.fill();break;case W.OPS.eoFill:this.eoFill();break;case W.OPS.stroke:this.stroke();break;case W.OPS.fillStroke:this.fillStroke();break;case W.OPS.eoFillStroke:this.eoFillStroke();break;case W.OPS.clip:this.clip("nonzero");break;case W.OPS.eoClip:this.clip("evenodd");break;case W.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case W.OPS.paintImageXObject:this.paintImageXObject(st[0]);break;case W.OPS.paintInlineImageXObject:this.paintInlineImageXObject(st[0]);break;case W.OPS.paintImageMaskXObject:this.paintImageMaskXObject(st[0]);break;case W.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(st[0],st[1]);break;case W.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case W.OPS.closePath:this.closePath();break;case W.OPS.closeStroke:this.closeStroke();break;case W.OPS.closeFillStroke:this.closeFillStroke();break;case W.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case W.OPS.nextLine:this.nextLine();break;case W.OPS.transform:this.transform(st[0],st[1],st[2],st[3],st[4],st[5]);break;case W.OPS.constructPath:this.constructPath(st[0],st[1]);break;case W.OPS.endPath:this.endPath();break;case 92:this.group(at.items);break;default:(0,W.warn)(`Unimplemented operator ${bt}`);break}}}setWordSpacing(ot){this.current.wordSpacing=ot}setCharSpacing(ot){this.current.charSpacing=ot}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ot,at,bt,Tt,st,Et){const X=this.current;X.textMatrix=X.lineMatrix=[ot,at,bt,Tt,st,Et],X.textMatrixScale=Math.hypot(ot,at),X.x=X.lineX=0,X.y=X.lineY=0,X.xcoords=[],X.ycoords=[],X.tspan=this.svgFactory.createElement("svg:tspan"),X.tspan.setAttributeNS(null,"font-family",X.fontFamily),X.tspan.setAttributeNS(null,"font-size",`${K(X.fontSize)}px`),X.tspan.setAttributeNS(null,"y",K(-X.y)),X.txtElement=this.svgFactory.createElement("svg:text"),X.txtElement.appendChild(X.tspan)}beginText(){const ot=this.current;ot.x=ot.lineX=0,ot.y=ot.lineY=0,ot.textMatrix=W.IDENTITY_MATRIX,ot.lineMatrix=W.IDENTITY_MATRIX,ot.textMatrixScale=1,ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.txtElement=this.svgFactory.createElement("svg:text"),ot.txtgrp=this.svgFactory.createElement("svg:g"),ot.xcoords=[],ot.ycoords=[]}moveText(ot,at){const bt=this.current;bt.x=bt.lineX+=ot,bt.y=bt.lineY+=at,bt.xcoords=[],bt.ycoords=[],bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${K(bt.fontSize)}px`),bt.tspan.setAttributeNS(null,"y",K(-bt.y))}showText(ot){const at=this.current,bt=at.font,Tt=at.fontSize;if(Tt===0)return;const st=at.fontSizeScale,Et=at.charSpacing,X=at.wordSpacing,Mt=at.fontDirection,qt=at.textHScale*Mt,Dt=bt.vertical,Ht=Dt?1:-1,jt=bt.defaultVMetrics,Gt=Tt*at.fontMatrix[0];let ut=0;for(const gt of ot){if(gt===null){ut+=Mt*X;continue}else if(typeof gt=="number"){ut+=Ht*gt*Tt/1e3;continue}const A=(gt.isSpace?X:0)+Et,Q=gt.fontChar;let dt,_t,mt=gt.width;if(Dt){let Ft;const Nt=gt.vmetric||jt;Ft=gt.vmetric?Nt[1]:mt*.5,Ft=-Ft*Gt;const Ot=Nt[2]*Gt;mt=Nt?-Nt[0]:mt,dt=Ft/st,_t=(ut+Ot)/st}else dt=ut/st,_t=0;(gt.isInFont||bt.missingFile)&&(at.xcoords.push(at.x+dt),Dt&&at.ycoords.push(-at.y+_t),at.tspan.textContent+=Q);let Ct;Dt?Ct=mt*Gt-A*Mt:Ct=mt*Gt+A*Mt,ut+=Ct}at.tspan.setAttributeNS(null,"x",at.xcoords.map(K).join(" ")),Dt?at.tspan.setAttributeNS(null,"y",at.ycoords.map(K).join(" ")):at.tspan.setAttributeNS(null,"y",K(-at.y)),Dt?at.y-=ut:at.x+=ut*qt,at.tspan.setAttributeNS(null,"font-family",at.fontFamily),at.tspan.setAttributeNS(null,"font-size",`${K(at.fontSize)}px`),at.fontStyle!==V.fontStyle&&at.tspan.setAttributeNS(null,"font-style",at.fontStyle),at.fontWeight!==V.fontWeight&&at.tspan.setAttributeNS(null,"font-weight",at.fontWeight);const G=at.textRenderingMode&W.TextRenderingMode.FILL_STROKE_MASK;if(G===W.TextRenderingMode.FILL||G===W.TextRenderingMode.FILL_STROKE?(at.fillColor!==V.fillColor&&at.tspan.setAttributeNS(null,"fill",at.fillColor),at.fillAlpha<1&&at.tspan.setAttributeNS(null,"fill-opacity",at.fillAlpha)):at.textRenderingMode===W.TextRenderingMode.ADD_TO_PATH?at.tspan.setAttributeNS(null,"fill","transparent"):at.tspan.setAttributeNS(null,"fill","none"),G===W.TextRenderingMode.STROKE||G===W.TextRenderingMode.FILL_STROKE){const gt=1/(at.textMatrixScale||1);this._setStrokeAttributes(at.tspan,gt)}let tt=at.textMatrix;at.textRise!==0&&(tt=tt.slice(),tt[5]+=at.textRise),at.txtElement.setAttributeNS(null,"transform",`${ft(tt)} scale(${K(qt)}, -1)`),at.txtElement.setAttributeNS(ct,"xml:space","preserve"),at.txtElement.appendChild(at.tspan),at.txtgrp.appendChild(at.txtElement),this._ensureTransformGroup().appendChild(at.txtElement)}setLeadingMoveText(ot,at){this.setLeading(-at),this.moveText(ot,at)}addFontStyle(ot){if(!ot.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const at=R(ot.data,ot.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ot.loadedName}"; src: url(${at}); }
`}setFont(ot){const at=this.current,bt=this.commonObjs.get(ot[0]);let Tt=ot[1];at.font=bt,this.embedFonts&&!bt.missingFile&&!this.embeddedFonts[bt.loadedName]&&(this.addFontStyle(bt),this.embeddedFonts[bt.loadedName]=bt),at.fontMatrix=bt.fontMatrix||W.FONT_IDENTITY_MATRIX;let st="normal";bt.black?st="900":bt.bold&&(st="bold");const Et=bt.italic?"italic":"normal";Tt<0?(Tt=-Tt,at.fontDirection=-1):at.fontDirection=1,at.fontSize=Tt,at.fontFamily=bt.loadedName,at.fontWeight=st,at.fontStyle=Et,at.tspan=this.svgFactory.createElement("svg:tspan"),at.tspan.setAttributeNS(null,"y",K(-at.y)),at.xcoords=[],at.ycoords=[]}endText(){var at;const ot=this.current;ot.textRenderingMode&W.TextRenderingMode.ADD_TO_PATH_FLAG&&((at=ot.txtElement)==null?void 0:at.hasChildNodes())&&(ot.element=ot.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ot){ot>0&&(this.current.lineWidth=ot)}setLineCap(ot){this.current.lineCap=D[ot]}setLineJoin(ot){this.current.lineJoin=E[ot]}setMiterLimit(ot){this.current.miterLimit=ot}setStrokeAlpha(ot){this.current.strokeAlpha=ot}setStrokeRGBColor(ot,at,bt){this.current.strokeColor=W.Util.makeHexColor(ot,at,bt)}setFillAlpha(ot){this.current.fillAlpha=ot}setFillRGBColor(ot,at,bt){this.current.fillColor=W.Util.makeHexColor(ot,at,bt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ot){this.current.strokeColor=this._makeColorN_Pattern(ot)}setFillColorN(ot){this.current.fillColor=this._makeColorN_Pattern(ot)}shadingFill(ot){const at=this.viewport.width,bt=this.viewport.height,Tt=W.Util.inverseTransform(this.transformMatrix),st=W.Util.applyTransform([0,0],Tt),Et=W.Util.applyTransform([0,bt],Tt),X=W.Util.applyTransform([at,0],Tt),Mt=W.Util.applyTransform([at,bt],Tt),qt=Math.min(st[0],Et[0],X[0],Mt[0]),Dt=Math.min(st[1],Et[1],X[1],Mt[1]),Ht=Math.max(st[0],Et[0],X[0],Mt[0]),jt=Math.max(st[1],Et[1],X[1],Mt[1]),Gt=this.svgFactory.createElement("svg:rect");Gt.setAttributeNS(null,"x",qt),Gt.setAttributeNS(null,"y",Dt),Gt.setAttributeNS(null,"width",Ht-qt),Gt.setAttributeNS(null,"height",jt-Dt),Gt.setAttributeNS(null,"fill",this._makeShadingPattern(ot)),this.current.fillAlpha<1&&Gt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Gt)}_makeColorN_Pattern(ot){return ot[0]==="TilingPattern"?this._makeTilingPattern(ot):this._makeShadingPattern(ot)}_makeTilingPattern(ot){const at=ot[1],bt=ot[2],Tt=ot[3]||W.IDENTITY_MATRIX,[st,Et,X,Mt]=ot[4],qt=ot[5],Dt=ot[6],Ht=ot[7],jt=`shading${xt++}`,[Gt,ut,G,tt]=W.Util.normalizeRect([...W.Util.applyTransform([st,Et],Tt),...W.Util.applyTransform([X,Mt],Tt)]),[gt,A]=W.Util.singularValueDecompose2dScale(Tt),Q=qt*gt,dt=Dt*A,_t=this.svgFactory.createElement("svg:pattern");_t.setAttributeNS(null,"id",jt),_t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),_t.setAttributeNS(null,"width",Q),_t.setAttributeNS(null,"height",dt),_t.setAttributeNS(null,"x",`${Gt}`),_t.setAttributeNS(null,"y",`${ut}`);const mt=this.svg,Ct=this.transformMatrix,Ft=this.current.fillColor,Nt=this.current.strokeColor,Ot=this.svgFactory.create(G-Gt,tt-ut);if(this.svg=Ot,this.transformMatrix=Tt,Ht===2){const U=W.Util.makeHexColor(...at);this.current.fillColor=U,this.current.strokeColor=U}return this.executeOpTree(this.convertOpList(bt)),this.svg=mt,this.transformMatrix=Ct,this.current.fillColor=Ft,this.current.strokeColor=Nt,_t.appendChild(Ot.childNodes[0]),this.defs.appendChild(_t),`url(#${jt})`}_makeShadingPattern(ot){switch(typeof ot=="string"&&(ot=this.objs.get(ot)),ot[0]){case"RadialAxial":const at=`shading${xt++}`,bt=ot[3];let Tt;switch(ot[1]){case"axial":const st=ot[4],Et=ot[5];Tt=this.svgFactory.createElement("svg:linearGradient"),Tt.setAttributeNS(null,"id",at),Tt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Tt.setAttributeNS(null,"x1",st[0]),Tt.setAttributeNS(null,"y1",st[1]),Tt.setAttributeNS(null,"x2",Et[0]),Tt.setAttributeNS(null,"y2",Et[1]);break;case"radial":const X=ot[4],Mt=ot[5],qt=ot[6],Dt=ot[7];Tt=this.svgFactory.createElement("svg:radialGradient"),Tt.setAttributeNS(null,"id",at),Tt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Tt.setAttributeNS(null,"cx",Mt[0]),Tt.setAttributeNS(null,"cy",Mt[1]),Tt.setAttributeNS(null,"r",Dt),Tt.setAttributeNS(null,"fx",X[0]),Tt.setAttributeNS(null,"fy",X[1]),Tt.setAttributeNS(null,"fr",qt);break;default:throw new Error(`Unknown RadialAxial type: ${ot[1]}`)}for(const st of bt){const Et=this.svgFactory.createElement("svg:stop");Et.setAttributeNS(null,"offset",st[0]),Et.setAttributeNS(null,"stop-color",st[1]),Tt.appendChild(Et)}return this.defs.appendChild(Tt),`url(#${at})`;case"Mesh":return(0,W.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ot[0]}`)}}setDash(ot,at){this.current.dashArray=ot,this.current.dashPhase=at}constructPath(ot,at){const bt=this.current;let Tt=bt.x,st=bt.y,Et=[],X=0;for(const Mt of ot)switch(Mt|0){case W.OPS.rectangle:Tt=at[X++],st=at[X++];const qt=at[X++],Dt=at[X++],Ht=Tt+qt,jt=st+Dt;Et.push("M",K(Tt),K(st),"L",K(Ht),K(st),"L",K(Ht),K(jt),"L",K(Tt),K(jt),"Z");break;case W.OPS.moveTo:Tt=at[X++],st=at[X++],Et.push("M",K(Tt),K(st));break;case W.OPS.lineTo:Tt=at[X++],st=at[X++],Et.push("L",K(Tt),K(st));break;case W.OPS.curveTo:Tt=at[X+4],st=at[X+5],Et.push("C",K(at[X]),K(at[X+1]),K(at[X+2]),K(at[X+3]),K(Tt),K(st)),X+=6;break;case W.OPS.curveTo2:Et.push("C",K(Tt),K(st),K(at[X]),K(at[X+1]),K(at[X+2]),K(at[X+3])),Tt=at[X+2],st=at[X+3],X+=4;break;case W.OPS.curveTo3:Tt=at[X+2],st=at[X+3],Et.push("C",K(at[X]),K(at[X+1]),K(Tt),K(st),K(Tt),K(st)),X+=4;break;case W.OPS.closePath:Et.push("Z");break}Et=Et.join(" "),bt.path&&ot.length>0&&ot[0]!==W.OPS.rectangle&&ot[0]!==W.OPS.moveTo?Et=bt.path.getAttributeNS(null,"d")+Et:(bt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(bt.path)),bt.path.setAttributeNS(null,"d",Et),bt.path.setAttributeNS(null,"fill","none"),bt.element=bt.path,bt.setCurrentPoint(Tt,st)}endPath(){const ot=this.current;if(ot.path=null,!this.pendingClip)return;if(!ot.element){this.pendingClip=null;return}const at=`clippath${pt++}`,bt=this.svgFactory.createElement("svg:clipPath");bt.setAttributeNS(null,"id",at),bt.setAttributeNS(null,"transform",ft(this.transformMatrix));const Tt=ot.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Tt.setAttributeNS(null,"clip-rule","evenodd"):Tt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,bt.appendChild(Tt),this.defs.appendChild(bt),ot.activeClipUrl){ot.clipGroup=null;for(const st of this.extraStack)st.clipGroup=null;bt.setAttributeNS(null,"clip-path",ot.activeClipUrl)}ot.activeClipUrl=`url(#${at})`,this.tgrp=null}clip(ot){this.pendingClip=ot}closePath(){const ot=this.current;if(ot.path){const at=`${ot.path.getAttributeNS(null,"d")}Z`;ot.path.setAttributeNS(null,"d",at)}}setLeading(ot){this.current.leading=-ot}setTextRise(ot){this.current.textRise=ot}setTextRenderingMode(ot){this.current.textRenderingMode=ot}setHScale(ot){this.current.textHScale=ot/100}setRenderingIntent(ot){}setFlatness(ot){}setGState(ot){for(const[at,bt]of ot)switch(at){case"LW":this.setLineWidth(bt);break;case"LC":this.setLineCap(bt);break;case"LJ":this.setLineJoin(bt);break;case"ML":this.setMiterLimit(bt);break;case"D":this.setDash(bt[0],bt[1]);break;case"RI":this.setRenderingIntent(bt);break;case"FL":this.setFlatness(bt);break;case"Font":this.setFont(bt);break;case"CA":this.setStrokeAlpha(bt);break;case"ca":this.setFillAlpha(bt);break;default:(0,W.warn)(`Unimplemented graphic state operator ${at}`);break}}fill(){const ot=this.current;ot.element&&(ot.element.setAttributeNS(null,"fill",ot.fillColor),ot.element.setAttributeNS(null,"fill-opacity",ot.fillAlpha),this.endPath())}stroke(){const ot=this.current;ot.element&&(this._setStrokeAttributes(ot.element),ot.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ot,at=1){const bt=this.current;let Tt=bt.dashArray;at!==1&&Tt.length>0&&(Tt=Tt.map(function(st){return at*st})),ot.setAttributeNS(null,"stroke",bt.strokeColor),ot.setAttributeNS(null,"stroke-opacity",bt.strokeAlpha),ot.setAttributeNS(null,"stroke-miterlimit",K(bt.miterLimit)),ot.setAttributeNS(null,"stroke-linecap",bt.lineCap),ot.setAttributeNS(null,"stroke-linejoin",bt.lineJoin),ot.setAttributeNS(null,"stroke-width",K(at*bt.lineWidth)+"px"),ot.setAttributeNS(null,"stroke-dasharray",Tt.map(K).join(" ")),ot.setAttributeNS(null,"stroke-dashoffset",K(at*bt.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width","1px"),ot.setAttributeNS(null,"height","1px"),ot.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(ot)}paintImageXObject(ot){const at=ot.startsWith("g_")?this.commonObjs.get(ot):this.objs.get(ot);if(!at){(0,W.warn)(`Dependent image with object ID ${ot} is not ready yet`);return}this.paintInlineImageXObject(at)}paintInlineImageXObject(ot,at){const bt=ot.width,Tt=ot.height,st=B(ot,this.forceDataSchema,!!at),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",K(bt)),Et.setAttributeNS(null,"height",K(Tt)),this.current.element=Et,this.clip("nonzero");const X=this.svgFactory.createElement("svg:image");X.setAttributeNS(lt,"xlink:href",st),X.setAttributeNS(null,"x","0"),X.setAttributeNS(null,"y",K(-Tt)),X.setAttributeNS(null,"width",K(bt)+"px"),X.setAttributeNS(null,"height",K(Tt)+"px"),X.setAttributeNS(null,"transform",`scale(${K(1/bt)} ${K(-1/Tt)})`),at?at.appendChild(X):this._ensureTransformGroup().appendChild(X)}paintImageMaskXObject(ot){const at=this.current,bt=ot.width,Tt=ot.height,st=at.fillColor;at.maskId=`mask${St++}`;const Et=this.svgFactory.createElement("svg:mask");Et.setAttributeNS(null,"id",at.maskId);const X=this.svgFactory.createElement("svg:rect");X.setAttributeNS(null,"x","0"),X.setAttributeNS(null,"y","0"),X.setAttributeNS(null,"width",K(bt)),X.setAttributeNS(null,"height",K(Tt)),X.setAttributeNS(null,"fill",st),X.setAttributeNS(null,"mask",`url(#${at.maskId})`),this.defs.appendChild(Et),this._ensureTransformGroup().appendChild(X),this.paintInlineImageXObject(ot,Et)}paintFormXObjectBegin(ot,at){if(Array.isArray(ot)&&ot.length===6&&this.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),at){const bt=at[2]-at[0],Tt=at[3]-at[1],st=this.svgFactory.createElement("svg:rect");st.setAttributeNS(null,"x",at[0]),st.setAttributeNS(null,"y",at[1]),st.setAttributeNS(null,"width",K(bt)),st.setAttributeNS(null,"height",K(Tt)),this.current.element=st,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ot){const at=this.svgFactory.create(ot.width,ot.height),bt=this.svgFactory.createElement("svg:defs");at.appendChild(bt),this.defs=bt;const Tt=this.svgFactory.createElement("svg:g");return Tt.setAttributeNS(null,"transform",ft(ot.transform)),at.appendChild(Tt),this.svg=Tt,at}_ensureClipGroup(){if(!this.current.clipGroup){const ot=this.svgFactory.createElement("svg:g");ot.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(ot),this.current.clipGroup=ot}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ft(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.PDFNodeStream=void 0;var W=Z(1),yt=Z(26);const J=require$$4,ht=require$$4,rt=require$$4,it=require$$4,Y=/^file:\/\/\/[a-zA-Z]:\//;function V(K){const ft=it.parse(K);return ft.protocol==="file:"||ft.host?ft:/^[a-z]:[/\\]/i.test(K)?it.parse(`file:///${K}`):(ft.host||(ft.protocol="file:"),ft)}class ct{constructor(ft){this.source=ft,this.url=V(ft.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ft,pt;return(pt=(ft=this._fullRequestReader)==null?void 0:ft._loaded)!=null?pt:0}getFullReader(){return(0,W.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new q(this):new R(this),this._fullRequestReader}getRangeReader(ft,pt){if(pt<=this._progressiveDataLength)return null;const St=this.isFsUrl?new et(this,ft,pt):new B(this,ft,pt);return this._rangeRequestReaders.push(St),St}cancelAllRequests(ft){this._fullRequestReader&&this._fullRequestReader.cancel(ft);for(const pt of this._rangeRequestReaders.slice(0))pt.cancel(ft)}}nt.PDFNodeStream=ct;class lt{constructor(ft){this._url=ft.url,this._done=!1,this._storedError=null,this.onProgress=null;const pt=ft.source;this._contentLength=pt.length,this._loaded=0,this._filename=null,this._disableRange=pt.disableRange||!1,this._rangeChunkSize=pt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!pt.disableStream,this._isRangeSupported=!pt.disableRange,this._readableStream=null,this._readCapability=(0,W.createPromiseCapability)(),this._headersCapability=(0,W.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ft=this._readableStream.read();return ft===null?(this._readCapability=(0,W.createPromiseCapability)(),this.read()):(this._loaded+=ft.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){if(!this._readableStream){this._error(ft);return}this._readableStream.destroy(ft)}_error(ft){this._storedError=ft,this._readCapability.resolve()}_setReadableStream(ft){this._readableStream=ft,ft.on("readable",()=>{this._readCapability.resolve()}),ft.on("end",()=>{ft.destroy(),this._done=!0,this._readCapability.resolve()}),ft.on("error",pt=>{this._error(pt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new W.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class D{constructor(ft){this._url=ft.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,W.createPromiseCapability)();const pt=ft.source;this._isStreamingSupported=!pt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ft=this._readableStream.read();return ft===null?(this._readCapability=(0,W.createPromiseCapability)(),this.read()):(this._loaded+=ft.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){if(!this._readableStream){this._error(ft);return}this._readableStream.destroy(ft)}_error(ft){this._storedError=ft,this._readCapability.resolve()}_setReadableStream(ft){this._readableStream=ft,ft.on("readable",()=>{this._readCapability.resolve()}),ft.on("end",()=>{ft.destroy(),this._done=!0,this._readCapability.resolve()}),ft.on("error",pt=>{this._error(pt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function E(K,ft){return{protocol:K.protocol,auth:K.auth,host:K.hostname,port:K.port,path:K.path,method:"GET",headers:ft}}class R extends lt{constructor(ft){super(ft);const pt=St=>{if(St.statusCode===404){const bt=new W.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=bt,this._headersCapability.reject(bt);return}this._headersCapability.resolve(),this._setReadableStream(St);const xt=bt=>this._readableStream.headers[bt.toLowerCase()],{allowRangeRequests:ot,suggestedLength:at}=(0,yt.validateRangeRequestCapabilities)({getResponseHeader:xt,isHttp:ft.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ot,this._contentLength=at||this._contentLength,this._filename=(0,yt.extractFilenameFromHeader)(xt)};this._request=null,this._url.protocol==="http:"?this._request=ht.request(E(this._url,ft.httpHeaders),pt):this._request=rt.request(E(this._url,ft.httpHeaders),pt),this._request.on("error",St=>{this._storedError=St,this._headersCapability.reject(St)}),this._request.end()}}class B extends D{constructor(ft,pt,St){super(ft),this._httpHeaders={};for(const ot in ft.httpHeaders){const at=ft.httpHeaders[ot];typeof at!="undefined"&&(this._httpHeaders[ot]=at)}this._httpHeaders.Range=`bytes=${pt}-${St-1}`;const xt=ot=>{if(ot.statusCode===404){const at=new W.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=at;return}this._setReadableStream(ot)};this._request=null,this._url.protocol==="http:"?this._request=ht.request(E(this._url,this._httpHeaders),xt):this._request=rt.request(E(this._url,this._httpHeaders),xt),this._request.on("error",ot=>{this._storedError=ot}),this._request.end()}}class q extends lt{constructor(ft){super(ft);let pt=decodeURIComponent(this._url.path);Y.test(this._url.href)&&(pt=pt.replace(/^\//,"")),J.lstat(pt,(St,xt)=>{if(St){St.code==="ENOENT"&&(St=new W.MissingPDFException(`Missing PDF "${pt}".`)),this._storedError=St,this._headersCapability.reject(St);return}this._contentLength=xt.size,this._setReadableStream(J.createReadStream(pt)),this._headersCapability.resolve()})}}class et extends D{constructor(ft,pt,St){super(ft);let xt=decodeURIComponent(this._url.path);Y.test(this._url.href)&&(xt=xt.replace(/^\//,"")),this._setReadableStream(J.createReadStream(xt,{start:pt,end:St-1}))}}},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.createResponseStatusError=it,nt.extractFilenameFromHeader=rt,nt.validateRangeRequestCapabilities=ht,nt.validateResponseStatus=Y;var W=Z(1),yt=Z(27),J=Z(5);function ht({getResponseHeader:V,isHttp:ct,rangeChunkSize:lt,disableRange:D}){const E={allowRangeRequests:!1,suggestedLength:void 0},R=parseInt(V("Content-Length"),10);return!Number.isInteger(R)||(E.suggestedLength=R,R<=2*lt)||D||!ct||V("Accept-Ranges")!=="bytes"||(V("Content-Encoding")||"identity")!=="identity"||(E.allowRangeRequests=!0),E}function rt(V){const ct=V("Content-Disposition");if(ct){let lt=(0,yt.getFilenameFromContentDispositionHeader)(ct);if(lt.includes("%"))try{lt=decodeURIComponent(lt)}catch{}if((0,J.isPdfFile)(lt))return lt}return null}function it(V,ct){return V===404||V===0&&ct.startsWith("file:")?new W.MissingPDFException('Missing PDF "'+ct+'".'):new W.UnexpectedResponseException(`Unexpected server response (${V}) while retrieving PDF "${ct}".`,V)}function Y(V){return V===200||V===206}},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.getFilenameFromContentDispositionHeader=yt;var W=Z(1);function yt(J){let ht=!0,rt=it("filename\\*","i").exec(J);if(rt){rt=rt[1];let R=lt(rt);return R=unescape(R),R=D(R),R=E(R),V(R)}if(rt=ct(J),rt){const R=E(rt);return V(R)}if(rt=it("filename","i").exec(J),rt){rt=rt[1];let R=lt(rt);return R=E(R),V(R)}function it(R,B){return new RegExp("(?:^|;)\\s*"+R+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',B)}function Y(R,B){if(R){if(!/^[\x00-\xFF]+$/.test(B))return B;try{const q=new TextDecoder(R,{fatal:!0}),et=(0,W.stringToBytes)(B);B=q.decode(et),ht=!1}catch{}}return B}function V(R){return ht&&/[\x80-\xff]/.test(R)&&(R=Y("utf-8",R),ht&&(R=Y("iso-8859-1",R))),R}function ct(R){const B=[];let q;const et=it("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(q=et.exec(R))!==null;){let[,ft,pt,St]=q;if(ft=parseInt(ft,10),ft in B){if(ft===0)break;continue}B[ft]=[pt,St]}const K=[];for(let ft=0;ft<B.length&&ft in B;++ft){let[pt,St]=B[ft];St=lt(St),pt&&(St=unescape(St),ft===0&&(St=D(St))),K.push(St)}return K.join("")}function lt(R){if(R.startsWith('"')){const B=R.slice(1).split('\\"');for(let q=0;q<B.length;++q){const et=B[q].indexOf('"');et!==-1&&(B[q]=B[q].slice(0,et),B.length=q+1),B[q]=B[q].replace(/\\(.)/g,"$1")}R=B.join('"')}return R}function D(R){const B=R.indexOf("'");if(B===-1)return R;const q=R.slice(0,B),K=R.slice(B+1).replace(/^[^']*'/,"");return Y(q,K)}function E(R){return!R.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(R)?R:R.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(B,q,et,K){if(et==="q"||et==="Q")return K=K.replace(/_/g," "),K=K.replace(/=([0-9a-fA-F]{2})/g,function(ft,pt){return String.fromCharCode(parseInt(pt,16))}),Y(q,K);try{K=atob(K)}catch{}return Y(q,K)})}return""}},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.PDFNetworkStream=void 0;var W=Z(1),yt=Z(26);const J=200,ht=206;function rt(lt){const D=lt.response;return typeof D!="string"?D:(0,W.stringToBytes)(D).buffer}class it{constructor(D,E={}){this.url=D,this.isHttp=/^https?:/i.test(D),this.httpHeaders=this.isHttp&&E.httpHeaders||Object.create(null),this.withCredentials=E.withCredentials||!1,this.getXhr=E.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(D,E,R){const B={begin:D,end:E};for(const q in R)B[q]=R[q];return this.request(B)}requestFull(D){return this.request(D)}request(D){const E=this.getXhr(),R=this.currXhrId++,B=this.pendingRequests[R]={xhr:E};E.open("GET",this.url),E.withCredentials=this.withCredentials;for(const q in this.httpHeaders){const et=this.httpHeaders[q];typeof et!="undefined"&&E.setRequestHeader(q,et)}return this.isHttp&&"begin"in D&&"end"in D?(E.setRequestHeader("Range",`bytes=${D.begin}-${D.end-1}`),B.expectedStatus=ht):B.expectedStatus=J,E.responseType="arraybuffer",D.onError&&(E.onerror=function(q){D.onError(E.status)}),E.onreadystatechange=this.onStateChange.bind(this,R),E.onprogress=this.onProgress.bind(this,R),B.onHeadersReceived=D.onHeadersReceived,B.onDone=D.onDone,B.onError=D.onError,B.onProgress=D.onProgress,E.send(null),R}onProgress(D,E){var B;const R=this.pendingRequests[D];!R||(B=R.onProgress)==null||B.call(R,E)}onStateChange(D,E){var ft,pt,St;const R=this.pendingRequests[D];if(!R)return;const B=R.xhr;if(B.readyState>=2&&R.onHeadersReceived&&(R.onHeadersReceived(),delete R.onHeadersReceived),B.readyState!==4||!(D in this.pendingRequests))return;if(delete this.pendingRequests[D],B.status===0&&this.isHttp){(ft=R.onError)==null||ft.call(R,B.status);return}const q=B.status||J;if(!(q===J&&R.expectedStatus===ht)&&q!==R.expectedStatus){(pt=R.onError)==null||pt.call(R,B.status);return}const K=rt(B);if(q===ht){const xt=B.getResponseHeader("Content-Range"),ot=/bytes (\d+)-(\d+)\/(\d+)/.exec(xt);R.onDone({begin:parseInt(ot[1],10),chunk:K})}else K?R.onDone({begin:0,chunk:K}):(St=R.onError)==null||St.call(R,B.status)}getRequestXhr(D){return this.pendingRequests[D].xhr}isPendingRequest(D){return D in this.pendingRequests}abortRequest(D){const E=this.pendingRequests[D].xhr;delete this.pendingRequests[D],E.abort()}}class Y{constructor(D){this._source=D,this._manager=new it(D.url,{httpHeaders:D.httpHeaders,withCredentials:D.withCredentials}),this._rangeChunkSize=D.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(D){const E=this._rangeRequestReaders.indexOf(D);E>=0&&this._rangeRequestReaders.splice(E,1)}getFullReader(){return(0,W.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new V(this._manager,this._source),this._fullRequestReader}getRangeReader(D,E){const R=new ct(this._manager,D,E);return R.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(R),R}cancelAllRequests(D){var E;(E=this._fullRequestReader)==null||E.cancel(D);for(const R of this._rangeRequestReaders.slice(0))R.cancel(D)}}nt.PDFNetworkStream=Y;class V{constructor(D,E){this._manager=D;const R={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._fullRequestId=D.requestFull(R),this._headersReceivedCapability=(0,W.createPromiseCapability)(),this._disableRange=E.disableRange||!1,this._contentLength=E.length,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const D=this._fullRequestId,E=this._manager.getRequestXhr(D),R=et=>E.getResponseHeader(et),{allowRangeRequests:B,suggestedLength:q}=(0,yt.validateRangeRequestCapabilities)({getResponseHeader:R,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});B&&(this._isRangeSupported=!0),this._contentLength=q||this._contentLength,this._filename=(0,yt.extractFilenameFromHeader)(R),this._isRangeSupported&&this._manager.abortRequest(D),this._headersReceivedCapability.resolve()}_onDone(D){if(D&&(this._requests.length>0?this._requests.shift().resolve({value:D.chunk,done:!1}):this._cachedChunks.push(D.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(D){this._storedError=(0,yt.createResponseStatusError)(D,this._url),this._headersReceivedCapability.reject(this._storedError);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(D){var E;(E=this.onProgress)==null||E.call(this,{loaded:D.loaded,total:D.lengthComputable?D.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const D=(0,W.createPromiseCapability)();return this._requests.push(D),D.promise}cancel(D){this._done=!0,this._headersReceivedCapability.reject(D);for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ct{constructor(D,E,R){this._manager=D;const B={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=D.url,this._requestId=D.requestRange(E,R,B),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var D;(D=this.onClosed)==null||D.call(this,this)}_onDone(D){const E=D.chunk;this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunk=E,this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(D){this._storedError=(0,yt.createResponseStatusError)(D,this._url);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(D){var E;this.isStreamingSupported||(E=this.onProgress)==null||E.call(this,{loaded:D.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const E=this._queuedChunk;return this._queuedChunk=null,{value:E,done:!1}}if(this._done)return{value:void 0,done:!0};const D=(0,W.createPromiseCapability)();return this._requests.push(D),D.promise}cancel(D){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(vt,nt,Z)=>{Object.defineProperty(nt,"__esModule",{value:!0}),nt.PDFFetchStream=void 0;var W=Z(1),yt=Z(26);function J(V,ct,lt){return{method:"GET",headers:V,signal:lt==null?void 0:lt.signal,mode:"cors",credentials:ct?"include":"same-origin",redirect:"follow"}}function ht(V){const ct=new Headers;for(const lt in V){const D=V[lt];typeof D!="undefined"&&ct.append(lt,D)}return ct}class rt{constructor(ct){this.source=ct,this.isHttp=/^https?:/i.test(ct.url),this.httpHeaders=this.isHttp&&ct.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ct,lt;return(lt=(ct=this._fullRequestReader)==null?void 0:ct._loaded)!=null?lt:0}getFullReader(){return(0,W.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new it(this),this._fullRequestReader}getRangeReader(ct,lt){if(lt<=this._progressiveDataLength)return null;const D=new Y(this,ct,lt);return this._rangeRequestReaders.push(D),D}cancelAllRequests(ct){this._fullRequestReader&&this._fullRequestReader.cancel(ct);for(const lt of this._rangeRequestReaders.slice(0))lt.cancel(ct)}}nt.PDFFetchStream=rt;class it{constructor(ct){this._stream=ct,this._reader=null,this._loaded=0,this._filename=null;const lt=ct.source;this._withCredentials=lt.withCredentials||!1,this._contentLength=lt.length,this._headersCapability=(0,W.createPromiseCapability)(),this._disableRange=lt.disableRange||!1,this._rangeChunkSize=lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!lt.disableStream,this._isRangeSupported=!lt.disableRange,this._headers=ht(this._stream.httpHeaders);const D=lt.url;fetch(D,J(this._headers,this._withCredentials,this._abortController)).then(E=>{if(!(0,yt.validateResponseStatus)(E.status))throw(0,yt.createResponseStatusError)(E.status,D);this._reader=E.body.getReader(),this._headersCapability.resolve();const R=et=>E.headers.get(et),{allowRangeRequests:B,suggestedLength:q}=(0,yt.validateRangeRequestCapabilities)({getResponseHeader:R,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=B,this._contentLength=q||this._contentLength,this._filename=(0,yt.extractFilenameFromHeader)(R),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new W.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:ct,done:lt}=await this._reader.read();return lt?{value:ct,done:lt}:(this._loaded+=ct.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ct).buffer,done:!1})}cancel(ct){this._reader&&this._reader.cancel(ct),this._abortController&&this._abortController.abort()}}class Y{constructor(ct,lt,D){this._stream=ct,this._reader=null,this._loaded=0;const E=ct.source;this._withCredentials=E.withCredentials||!1,this._readCapability=(0,W.createPromiseCapability)(),this._isStreamingSupported=!E.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=ht(this._stream.httpHeaders),this._headers.append("Range",`bytes=${lt}-${D-1}`);const R=E.url;fetch(R,J(this._headers,this._withCredentials,this._abortController)).then(B=>{if(!(0,yt.validateResponseStatus)(B.status))throw(0,yt.createResponseStatusError)(B.status,R);this._readCapability.resolve(),this._reader=B.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:ct,done:lt}=await this._reader.read();return lt?{value:ct,done:lt}:(this._loaded+=ct.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(ct).buffer,done:!1})}cancel(ct){this._reader&&this._reader.cancel(ct),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(vt){var nt=__webpack_module_cache__[vt];if(nt!==void 0)return nt.exports;var Z=__webpack_module_cache__[vt]={exports:{}};return __webpack_modules__[vt](Z,Z.exports,__w_pdfjs_require__),Z.exports}var __webpack_exports__={};return(()=>{var vt=__webpack_exports__;Object.defineProperty(vt,"__esModule",{value:!0}),Object.defineProperty(vt,"AnnotationLayer",{enumerable:!0,get:function(){return yt.AnnotationLayer}}),Object.defineProperty(vt,"AnnotationMode",{enumerable:!0,get:function(){return nt.AnnotationMode}}),Object.defineProperty(vt,"CMapCompressionType",{enumerable:!0,get:function(){return nt.CMapCompressionType}}),Object.defineProperty(vt,"GlobalWorkerOptions",{enumerable:!0,get:function(){return J.GlobalWorkerOptions}}),Object.defineProperty(vt,"InvalidPDFException",{enumerable:!0,get:function(){return nt.InvalidPDFException}}),Object.defineProperty(vt,"LoopbackPort",{enumerable:!0,get:function(){return Z.LoopbackPort}}),Object.defineProperty(vt,"MissingPDFException",{enumerable:!0,get:function(){return nt.MissingPDFException}}),Object.defineProperty(vt,"OPS",{enumerable:!0,get:function(){return nt.OPS}}),Object.defineProperty(vt,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Z.PDFDataRangeTransport}}),Object.defineProperty(vt,"PDFDateString",{enumerable:!0,get:function(){return W.PDFDateString}}),Object.defineProperty(vt,"PDFWorker",{enumerable:!0,get:function(){return Z.PDFWorker}}),Object.defineProperty(vt,"PasswordResponses",{enumerable:!0,get:function(){return nt.PasswordResponses}}),Object.defineProperty(vt,"PermissionFlag",{enumerable:!0,get:function(){return nt.PermissionFlag}}),Object.defineProperty(vt,"PixelsPerInch",{enumerable:!0,get:function(){return W.PixelsPerInch}}),Object.defineProperty(vt,"RenderingCancelledException",{enumerable:!0,get:function(){return W.RenderingCancelledException}}),Object.defineProperty(vt,"SVGGraphics",{enumerable:!0,get:function(){return it.SVGGraphics}}),Object.defineProperty(vt,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return nt.UNSUPPORTED_FEATURES}}),Object.defineProperty(vt,"UnexpectedResponseException",{enumerable:!0,get:function(){return nt.UnexpectedResponseException}}),Object.defineProperty(vt,"Util",{enumerable:!0,get:function(){return nt.Util}}),Object.defineProperty(vt,"VerbosityLevel",{enumerable:!0,get:function(){return nt.VerbosityLevel}}),Object.defineProperty(vt,"XfaLayer",{enumerable:!0,get:function(){return Y.XfaLayer}}),Object.defineProperty(vt,"build",{enumerable:!0,get:function(){return Z.build}}),Object.defineProperty(vt,"createPromiseCapability",{enumerable:!0,get:function(){return nt.createPromiseCapability}}),Object.defineProperty(vt,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return nt.createValidAbsoluteUrl}}),Object.defineProperty(vt,"getDocument",{enumerable:!0,get:function(){return Z.getDocument}}),Object.defineProperty(vt,"getFilenameFromUrl",{enumerable:!0,get:function(){return W.getFilenameFromUrl}}),Object.defineProperty(vt,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return W.getPdfFilenameFromUrl}}),Object.defineProperty(vt,"getXfaPageViewport",{enumerable:!0,get:function(){return W.getXfaPageViewport}}),Object.defineProperty(vt,"isPdfFile",{enumerable:!0,get:function(){return W.isPdfFile}}),Object.defineProperty(vt,"loadScript",{enumerable:!0,get:function(){return W.loadScript}}),Object.defineProperty(vt,"renderTextLayer",{enumerable:!0,get:function(){return rt.renderTextLayer}}),Object.defineProperty(vt,"shadow",{enumerable:!0,get:function(){return nt.shadow}}),Object.defineProperty(vt,"version",{enumerable:!0,get:function(){return Z.version}});var nt=__w_pdfjs_require__(1),Z=__w_pdfjs_require__(4),W=__w_pdfjs_require__(5),yt=__w_pdfjs_require__(20),J=__w_pdfjs_require__(13),ht=__w_pdfjs_require__(3),rt=__w_pdfjs_require__(23),it=__w_pdfjs_require__(24),Y=__w_pdfjs_require__(22);if(ht.isNodeJS){const{PDFNodeStream:V}=__w_pdfjs_require__(25);(0,Z.setPDFNetworkStreamFactory)(ct=>new V(ct))}else{const{PDFNetworkStream:V}=__w_pdfjs_require__(28),{PDFFetchStream:ct}=__w_pdfjs_require__(29);(0,Z.setPDFNetworkStreamFactory)(lt=>(0,W.isValidFetchUrl)(lt.url)?new ct(lt):new V(lt))}})(),__webpack_exports__})())})(pdf);var t,u,r,o$1,i=0,c=[],f=[],e$1=l$1.__b,a=l$1.__r,v=l$1.diffed,l=l$1.__c,m=l$1.unmount;function p(vt,nt){l$1.__h&&l$1.__h(u,vt,i||nt),i=0;var Z=u.__H||(u.__H={__:[],__h:[]});return vt>=Z.__.length&&Z.__.push({__V:f}),Z.__[vt]}function y(vt){return i=1,d(z,vt)}function d(vt,nt,Z){var W=p(t++,2);return W.t=vt,W.__c||(W.__=[Z?Z(nt):z(void 0,nt),function(yt){var J=W.t(W.__[0],yt);W.__[0]!==J&&(W.__=[J,W.__[1]],W.__c.setState({}))}],W.__c=u),W.__}function s(vt){return i=5,F(function(){return{current:vt}},[])}function F(vt,nt){var Z=p(t++,7);return w(Z.__H,nt)?(Z.__V=vt(),Z.u=nt,Z.__h=vt,Z.__V):Z.__}function T(vt,nt){return i=8,F(function(){return vt},nt)}function b(){for(var vt;vt=c.shift();)if(vt.__P)try{vt.__H.__h.forEach(j),vt.__H.__h.forEach(k),vt.__H.__h=[]}catch(nt){vt.__H.__h=[],l$1.__e(nt,vt.__v)}}l$1.__b=function(vt){u=null,e$1&&e$1(vt)},l$1.__r=function(vt){a&&a(vt),t=0;var nt=(u=vt.__c).__H;nt&&(r===u?(nt.__h=[],u.__h=[],nt.__.forEach(function(Z){Z.__V=f,Z.u=void 0})):(nt.__h.forEach(j),nt.__h.forEach(k),nt.__h=[])),r=u},l$1.diffed=function(vt){v&&v(vt);var nt=vt.__c;nt&&nt.__H&&(nt.__H.__h.length&&(c.push(nt)!==1&&o$1===l$1.requestAnimationFrame||((o$1=l$1.requestAnimationFrame)||function(Z){var W,yt=function(){clearTimeout(J),g&&cancelAnimationFrame(W),setTimeout(Z)},J=setTimeout(yt,100);g&&(W=requestAnimationFrame(yt))})(b)),nt.__H.__.forEach(function(Z){Z.u&&(Z.__H=Z.u),Z.__V!==f&&(Z.__=Z.__V),Z.u=void 0,Z.__V=f})),r=u=null},l$1.__c=function(vt,nt){nt.some(function(Z){try{Z.__h.forEach(j),Z.__h=Z.__h.filter(function(W){return!W.__||k(W)})}catch(W){nt.some(function(yt){yt.__h&&(yt.__h=[])}),nt=[],l$1.__e(W,Z.__v)}}),l&&l(vt,nt)},l$1.unmount=function(vt){m&&m(vt);var nt,Z=vt.__c;Z&&Z.__H&&(Z.__H.__.forEach(function(W){try{j(W)}catch(yt){nt=yt}}),nt&&l$1.__e(nt,Z.__v))};var g=typeof requestAnimationFrame=="function";function j(vt){var nt=u,Z=vt.__c;typeof Z=="function"&&(vt.__c=void 0,Z()),u=nt}function k(vt){var nt=u;vt.__c=vt.__(),u=nt}function w(vt,nt){return!vt||vt.length!==nt.length||nt.some(function(Z,W){return Z!==vt[W]})}function z(vt,nt){return typeof nt=="function"?nt(vt):nt}var o=0;function e(vt,nt,Z,W,yt){var J,ht,rt={};for(ht in nt)ht=="ref"?J=nt[ht]:rt[ht]=nt[ht];var it={type:vt,props:rt,key:Z,ref:J,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--o,__source:yt,__self:W};if(typeof vt=="function"&&(J=vt.defaultProps))for(ht in J)rt[ht]===void 0&&(rt[ht]=J[ht]);return l$1.vnode&&l$1.vnode(it),it}function Progress(vt){var W;const nt=((isNaN(vt.value)?0:vt.value)/vt.max*100).toFixed(0)+"%",Z=(W=vt.errorMessage)!=null?W:vt.text;return e("div",{class:`rounded-full h-10 relative max-w-xl overflow-hidden ${vt.onClick?"cursor-pointer":""}`,onClick:vt.onClick,children:[e("div",{class:`w-full h-full ${vt.errorMessage?"bg-red-300":"bg-gray-200"} absolute`}),e("div",{className:"h-full absolute transition-all duration-1000 bg-green-500",style:{width:nt}}),e("div",{class:`w-full top-1/2 -translate-y-1/2 absolute ${vt.text?"text-white":"text-gray-500"}`,children:Z})]})}pdf.exports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.worker.min.js";function formatBytes(vt){const nt=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];let Z=0;for(;vt>=1024&&++Z;)vt=vt/1024;return vt.toFixed(vt<10&&Z>0?1:0)+" "+nt[Z]}function App(){var rt,it;const vt=s(null),nt=s(null),[Z,W]=y(null),yt=T(Y=>{if(!Y.currentTarget.files||Y.currentTarget.files.length<1||!vt.current)return;const V=Y.currentTarget.files[0];if(Y.currentTarget.value="",V.type&&!V.type.endsWith("pdf")){W({name:V.name.substring(0,V.name.lastIndexOf(".")),uploadProgress:0,pageCount:0,pages:[],error:new Error("File is not a PDF! Please select a PDF.")});return}W({name:V.name.substring(0,V.name.lastIndexOf(".")),uploadProgress:0,pageCount:0,pages:[],error:null});const ct=new FileReader;ct.addEventListener("load",async lt=>{if(!vt.current)return;let D;try{D=await pdf.exports.getDocument(lt.target.result).promise}catch(R){console.error(R),W(B=>({...B,error:new Error("Invalid PDF. Please try another.")}));return}W(R=>({...R,pageCount:D.numPages}));for(let R=1;R<=D.numPages;R++){const B=await D.getPage(R),q=vt.current.getContext("2d"),et=B.getViewport({scale:3});vt.current.height=et.height,vt.current.width=et.width;var E={canvasContext:q,viewport:et};const K={pageNumber:R,size:0,blob:null,objectURL:null,error:null};try{await B.render(E).promise;const ft=await new Promise(pt=>vt.current.toBlob(pt,"image/png"));if(!ft)throw new Error("Failed to convert to PNG.");K.size=ft.size,K.blob=ft,K.objectURL=URL.createObjectURL(ft)}catch(ft){console.error(ft),K.error=ft}W(ft=>({...ft,pages:[...ft.pages,K]}))}}),ct.onprogress=lt=>{lt.lengthComputable&&W(D=>({...D,uploadProgress:lt.loaded/lt.total}))},ct.readAsArrayBuffer(V)},[vt,W]),J=T(async()=>{if(!Z)return;const Y=new JSZip;for(const ct of Z.pages)ct.error||Y.file(`${Z.name}-page-${ct.pageNumber}.png`,ct.blob);const V=await Y.generateAsync({type:"blob"});FileSaver_min.exports.saveAs(V,Z.name+"-pages.zip")},[Z]),ht=Z?(Z==null?void 0:Z.uploadProgress)*25+(Z==null?void 0:Z.pages.length)/(Z==null?void 0:Z.pageCount)*75:0;return e("main",{class:"relative text-center flex min-h-screen flex-col justify-center overflow-hidden bg-gray-50 py-6 sm:py-12",children:e("div",{class:"relative container  bg-white px-6 pt-10 pb-7 shadow-xl ring-1 ring-gray-900/5 sm:mx-auto sm:max-w-lg sm:rounded-lg sm:px-10",children:e("div",{className:"mx-auto max-w-md",children:[e("h1",{class:"text-3xl font-bold mb-5",children:"PDF \u2192 PNGs"}),e(Progress,{text:(rt=Z==null?void 0:Z.name)!=null?rt:"Select a PDF to Start",errorMessage:(it=Z==null?void 0:Z.error)==null?void 0:it.message,value:ht,max:100,onClick:()=>{var Y;Z===null||Z.error?(Y=nt.current)==null||Y.click():confirm("Reset? This will clear the pages you currently have.")&&W(null)}}),e("input",{ref:nt,class:"hidden",type:"file",name:"pdf-upload",id:"pdf-upload",accept:".pdf",onChange:yt}),e("canvas",{class:"hidden",ref:vt}),Z&&Z.pages.length>0&&e("div",{class:"my-5",children:e("div",{class:"grid grid-cols-3 gap-4",children:Z.pages.map(Y=>{var V;return e("a",{title:`Click to download page ${Y.pageNumber} as a PNG`,class:"text-center text-gray-700",href:(V=Y.objectURL)!=null?V:void 0,download:Y.objectURL?`${Z==null?void 0:Z.name}-page-${Y.pageNumber}.png`:!1,children:[e("div",{class:"w-full h-24 bg-center bg-cover border-2 rounded-lg border-gray-700 relative",style:{backgroundImage:`url(${Y.objectURL})`},children:Y.error?e("span",{className:"text-xs absolute left-1 bottom-1 rounded bg-red-400 text-white px-1",children:"error converting"}):e("span",{className:"text-xs absolute left-1 bottom-1 rounded bg-slate-600 text-white px-1 opacity-80",children:formatBytes(Y.size)})}),"Page ",Y.pageNumber]},Y.pageNumber)})})}),Z&&!Z.error&&Z.pages.length===Z.pageCount&&e(d$1,{children:[e("button",{className:"text-blue-400 hover:text-blue-300 underline mr-4",onClick:()=>W(null),title:"Clear the current pages and start again.",children:"Reset"}),e("button",{className:"text-blue-400 hover:text-blue-300 underline",onClick:J,title:`Download all ${Z.pageCount} pages in a ZIP file.`,children:"Download All"})]})]})})})}var index=(()=>`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::-webkit-backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.absolute{position:absolute}.relative{position:relative}.left-1{left:.25rem}.bottom-1{bottom:.25rem}.top-1\\/2{top:50%}.mx-auto{margin-left:auto;margin-right:auto}.my-5{margin-top:1.25rem;margin-bottom:1.25rem}.mb-5{margin-bottom:1.25rem}.mr-4{margin-right:1rem}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-24{height:6rem}.h-10{height:2.5rem}.h-full{height:100%}.min-h-screen{min-height:100vh}.w-full{width:100%}.max-w-md{max-width:28rem}.max-w-xl{max-width:36rem}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-col{flex-direction:column}.justify-center{justify-content:center}.gap-4{gap:1rem}.overflow-hidden{overflow:hidden}.rounded-lg{border-radius:.5rem}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-2{border-width:2px}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-red-400{--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity))}.bg-slate-600{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity))}.bg-cover{background-size:cover}.bg-center{background-position:center}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-1{padding-left:.25rem;padding-right:.25rem}.pt-10{padding-top:2.5rem}.pb-7{padding-bottom:1.75rem}.text-center{text-align:center}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.opacity-80{opacity:.8}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-gray-900\\/5{--tw-ring-color: rgb(17 24 39 / .05)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-1000{transition-duration:1s}.hover\\:text-blue-300:hover{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity))}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:max-w-lg{max-width:32rem}.sm\\:rounded-lg{border-radius:.5rem}.sm\\:py-12{padding-top:3rem;padding-bottom:3rem}.sm\\:px-10{padding-left:2.5rem;padding-right:2.5rem}}
`)();S(e(App,{}),document.getElementById("app"));
